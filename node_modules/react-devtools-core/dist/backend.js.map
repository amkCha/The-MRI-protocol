{"version":3,"file":"backend.js","mappings":"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","sources":["webpack://ReactDevToolsBackend/webpack/universalModuleDefinition","webpack://ReactDevToolsBackend/../../build/oss-experimental/react-debug-tools/cjs/react-debug-tools.production.min.js","webpack://ReactDevToolsBackend/../../build/oss-experimental/react-debug-tools/index.js","webpack://ReactDevToolsBackend/react-is.production.js","webpack://ReactDevToolsBackend/react.production.js","webpack://ReactDevToolsBackend/../../build/oss-experimental/react/index.js","webpack://ReactDevToolsBackend/../../node_modules/error-stack-parser/error-stack-parser.js","webpack://ReactDevToolsBackend/../../node_modules/lodash.throttle/index.js","webpack://ReactDevToolsBackend/../../node_modules/lru-cache/index.js","webpack://ReactDevToolsBackend/../../node_modules/process/browser.js","webpack://ReactDevToolsBackend/../../node_modules/stackframe/stackframe.js","webpack://ReactDevToolsBackend/../../node_modules/yallist/iterator.js","webpack://ReactDevToolsBackend/../../node_modules/yallist/yallist.js","webpack://ReactDevToolsBackend/webpack/bootstrap","webpack://ReactDevToolsBackend/webpack/runtime/compat get default export","webpack://ReactDevToolsBackend/webpack/runtime/define property getters","webpack://ReactDevToolsBackend/webpack/runtime/hasOwnProperty shorthand","webpack://ReactDevToolsBackend/webpack/runtime/make namespace object","webpack://ReactDevToolsBackend/../react-devtools-shared/src/events.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/constants.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/storage.js","webpack://ReactDevToolsBackend/../../node_modules/memoize-one/esm/index.js","webpack://ReactDevToolsBackend/../../src/index.ts","webpack://ReactDevToolsBackend/../shared/ReactSymbols.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/frontend/types.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/isArray.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/utils.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/hydration.js","webpack://ReactDevToolsBackend/../shared/isArray.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/utils.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/utils.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/Highlighter/Overlay.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/Highlighter/Highlighter.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/Highlighter/index.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/TraceUpdates/canvas.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/TraceUpdates/index.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/ReactSymbols.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/config/DevToolsFeatureFlags.core-oss.js","webpack://ReactDevToolsBackend/../shared/objectIs.js","webpack://ReactDevToolsBackend/../shared/hasOwnProperty.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/StyleX/utils.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/devtools/constants.js","webpack://ReactDevToolsBackend/../react-devtools-timeline/src/constants.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/DevToolsConsolePatching.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/DevToolsComponentStackFrame.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/DevToolsFiberComponentStack.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/profilingHooks.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/renderer.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/console.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/bridge.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/agent.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/hook.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/legacy/utils.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/legacy/renderer.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/index.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/NativeStyleEditor/resolveBoxStyle.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/NativeStyleEditor/setupNativeStyleEditor.js","webpack://ReactDevToolsBackend/./src/cachedSettings.js","webpack://ReactDevToolsBackend/./src/backend.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactDevToolsBackend\"] = factory();\n\telse\n\t\troot[\"ReactDevToolsBackend\"] = factory();\n})(self, () => {\nreturn ","/**\n * @license React\n * react-debug-tools.production.min.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var g=require(\"error-stack-parser\"),l=require(\"react\"),n=Object.assign,u=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,v=Symbol.for(\"react.context\"),w=Symbol.for(\"react.memo_cache_sentinel\"),x=Object.prototype.hasOwnProperty,z=[],A=null;\nfunction B(){if(null===A){var a=new Map;try{C.useContext({_currentValue:null});C.useState(null);C.useReducer(function(d){return d},null);C.useRef(null);\"function\"===typeof C.useCacheRefresh&&C.useCacheRefresh();C.useLayoutEffect(function(){});C.useInsertionEffect(function(){});C.useEffect(function(){});C.useImperativeHandle(void 0,function(){return null});C.useDebugValue(null);C.useCallback(function(){});C.useTransition();C.useSyncExternalStore(function(){return function(){}},function(){return null},\nfunction(){return null});C.useDeferredValue(null);C.useMemo(function(){return null});\"function\"===typeof C.useMemoCache&&C.useMemoCache(0);\"function\"===typeof C.useOptimistic&&C.useOptimistic(null,function(d){return d});\"function\"===typeof C.useFormState&&C.useFormState(function(d){return d},null);\"function\"===typeof C.useActionState&&C.useActionState(function(d){return d},null);if(\"function\"===typeof C.use){C.use({$$typeof:v,_currentValue:null});C.use({then:function(){},status:\"fulfilled\",value:null});\ntry{C.use({then:function(){}})}catch(d){}}C.useId()}finally{var b=z;z=[]}for(var c=0;c<b.length;c++){var e=b[c];a.set(e.primitive,g.parse(e.stackError))}A=a}return A}var D=null,E=null,F=null;function G(){var a=E;null!==a&&(E=a.next);return a}function H(a){if(null===D)return a._currentValue;if(null===F)throw Error(\"Context reads do not line up with context dependencies. This is a bug in React Debug Tools.\");a=x.call(F,\"memoizedValue\")?F.memoizedValue:F.context._currentValue;F=F.next;return a}\nvar I=Error(\"Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\\n\\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`\"),C={use:function(a){if(null!==a&&\"object\"===typeof a){if(\"function\"===typeof a.then){switch(a.status){case \"fulfilled\":var b=\na.value;z.push({displayName:null,primitive:\"Promise\",stackError:Error(),value:b,debugInfo:void 0===a._debugInfo?null:a._debugInfo,dispatcherHookName:\"Use\"});return b;case \"rejected\":throw a.reason;}z.push({displayName:null,primitive:\"Unresolved\",stackError:Error(),value:a,debugInfo:void 0===a._debugInfo?null:a._debugInfo,dispatcherHookName:\"Use\"});throw I;}if(a.$$typeof===v)return b=H(a),z.push({displayName:a.displayName||\"Context\",primitive:\"Context (use)\",stackError:Error(),value:b,debugInfo:null,\ndispatcherHookName:\"Use\"}),b}throw Error(\"An unsupported type was passed to use(): \"+String(a));},readContext:H,useCacheRefresh:function(){var a=G();z.push({displayName:null,primitive:\"CacheRefresh\",stackError:Error(),value:null!==a?a.memoizedState:function(){},debugInfo:null,dispatcherHookName:\"CacheRefresh\"});return function(){}},useCallback:function(a){var b=G();z.push({displayName:null,primitive:\"Callback\",stackError:Error(),value:null!==b?b.memoizedState[0]:a,debugInfo:null,dispatcherHookName:\"Callback\"});\nreturn a},useContext:function(a){var b=H(a);z.push({displayName:a.displayName||null,primitive:\"Context\",stackError:Error(),value:b,debugInfo:null,dispatcherHookName:\"Context\"});return b},useEffect:function(a){G();z.push({displayName:null,primitive:\"Effect\",stackError:Error(),value:a,debugInfo:null,dispatcherHookName:\"Effect\"})},useImperativeHandle:function(a){G();var b=void 0;null!==a&&\"object\"===typeof a&&(b=a.current);z.push({displayName:null,primitive:\"ImperativeHandle\",stackError:Error(),value:b,\ndebugInfo:null,dispatcherHookName:\"ImperativeHandle\"})},useDebugValue:function(a,b){z.push({displayName:null,primitive:\"DebugValue\",stackError:Error(),value:\"function\"===typeof b?b(a):a,debugInfo:null,dispatcherHookName:\"DebugValue\"})},useLayoutEffect:function(a){G();z.push({displayName:null,primitive:\"LayoutEffect\",stackError:Error(),value:a,debugInfo:null,dispatcherHookName:\"LayoutEffect\"})},useInsertionEffect:function(a){G();z.push({displayName:null,primitive:\"InsertionEffect\",stackError:Error(),\nvalue:a,debugInfo:null,dispatcherHookName:\"InsertionEffect\"})},useMemo:function(a){var b=G();a=null!==b?b.memoizedState[0]:a();z.push({displayName:null,primitive:\"Memo\",stackError:Error(),value:a,debugInfo:null,dispatcherHookName:\"Memo\"});return a},useMemoCache:function(a){var b=D;if(null==b)return[];var c;b=null==(c=b.updateQueue)?void 0:c.memoCache;if(null==b)return[];c=b.data[b.index];if(void 0===c){c=b.data[b.index]=Array(a);for(var e=0;e<a;e++)c[e]=w}b.index++;return c},useOptimistic:function(a){var b=\nG();a=null!==b?b.memoizedState:a;z.push({displayName:null,primitive:\"Optimistic\",stackError:Error(),value:a,debugInfo:null,dispatcherHookName:\"Optimistic\"});return[a,function(){}]},useReducer:function(a,b,c){a=G();b=null!==a?a.memoizedState:void 0!==c?c(b):b;z.push({displayName:null,primitive:\"Reducer\",stackError:Error(),value:b,debugInfo:null,dispatcherHookName:\"Reducer\"});return[b,function(){}]},useRef:function(a){var b=G();a=null!==b?b.memoizedState:{current:a};z.push({displayName:null,primitive:\"Ref\",\nstackError:Error(),value:a.current,debugInfo:null,dispatcherHookName:\"Ref\"});return a},useState:function(a){var b=G();a=null!==b?b.memoizedState:\"function\"===typeof a?a():a;z.push({displayName:null,primitive:\"State\",stackError:Error(),value:a,debugInfo:null,dispatcherHookName:\"State\"});return[a,function(){}]},useTransition:function(){var a=G();G();a=null!==a?a.memoizedState:!1;z.push({displayName:null,primitive:\"Transition\",stackError:Error(),value:a,debugInfo:null,dispatcherHookName:\"Transition\"});\nreturn[a,function(){}]},useSyncExternalStore:function(a,b){G();G();a=b();z.push({displayName:null,primitive:\"SyncExternalStore\",stackError:Error(),value:a,debugInfo:null,dispatcherHookName:\"SyncExternalStore\"});return a},useDeferredValue:function(a){var b=G();a=null!==b?b.memoizedState:a;z.push({displayName:null,primitive:\"DeferredValue\",stackError:Error(),value:a,debugInfo:null,dispatcherHookName:\"DeferredValue\"});return a},useId:function(){var a=G();a=null!==a?a.memoizedState:\"\";z.push({displayName:null,\nprimitive:\"Id\",stackError:Error(),value:a,debugInfo:null,dispatcherHookName:\"Id\"});return a},useFormState:function(a,b){var c=G();G();G();a=Error();var e=null,d=null;if(null!==c)if(b=c.memoizedState,\"object\"===typeof b&&null!==b&&\"function\"===typeof b.then)switch(b.status){case \"fulfilled\":var h=b.value;e=void 0===b._debugInfo?null:b._debugInfo;break;case \"rejected\":d=b.reason;break;default:d=I,e=void 0===b._debugInfo?null:b._debugInfo,h=b}else h=b;else h=b;z.push({displayName:null,primitive:\"FormState\",\nstackError:a,value:h,debugInfo:e,dispatcherHookName:\"FormState\"});if(null!==d)throw d;return[h,function(){},!1]},useActionState:function(a,b){var c=G();G();G();a=Error();var e=null,d=null;if(null!==c)if(b=c.memoizedState,\"object\"===typeof b&&null!==b&&\"function\"===typeof b.then)switch(b.status){case \"fulfilled\":var h=b.value;e=void 0===b._debugInfo?null:b._debugInfo;break;case \"rejected\":d=b.reason;break;default:d=I,e=void 0===b._debugInfo?null:b._debugInfo,h=b}else h=b;else h=b;z.push({displayName:null,\nprimitive:\"ActionState\",stackError:a,value:h,debugInfo:e,dispatcherHookName:\"ActionState\"});if(null!==d)throw d;return[h,function(){},!1]}},J={get:function(a,b){if(a.hasOwnProperty(b))return a[b];a=Error(\"Missing method in Dispatcher: \"+b);a.name=\"ReactDebugToolsUnsupportedHookError\";throw a;}},K=\"undefined\"===typeof Proxy?C:new Proxy(C,J),L=0;\nfunction M(a,b,c){var e=b[c].source,d=0;a:for(;d<a.length;d++)if(a[d].source===e){for(var h=c+1,r=d+1;h<b.length&&r<a.length;h++,r++)if(a[r].source!==b[h].source)continue a;return d}return-1}function N(a){if(!a)return\"\";var b=a.lastIndexOf(\"[as \");if(-1!==b)return N(a.slice(b+4,-1));b=a.lastIndexOf(\".\");b=-1===b?0:b+1;if(\"use\"===a.slice(b,b+3)){if(3===a.length-b)return\"Use\";b+=3}return a.slice(b)}\nfunction O(a,b){for(var c=[],e=null,d=c,h=0,r=[],y=0;y<b.length;y++){var t=b[y];var p=a;var m=g.parse(t.stackError);b:{var f=m,k=M(f,p,L);if(-1!==k)p=k;else{for(var q=0;q<p.length&&5>q;q++)if(k=M(f,p,q),-1!==k){L=q;p=k;break b}p=-1}}b:{f=m;q=B().get(t.primitive);if(void 0!==q)for(k=0;k<q.length&&k<f.length;k++)if(q[k].source!==f[k].source){if(q=k<f.length-1)q=t.dispatcherHookName,q=N(f[k].functionName)===q;q&&k++;if(q=k<f.length-1)q=t.dispatcherHookName,q=N(f[k].functionName)===q;q&&k++;f=k;break b}f=\n-1}m=-1===p||-1===f||2>p-f?-1===f?[null,null]:[m[f-1],null]:[m[f-1],m.slice(f,p-1)];f=m[0];m=m[1];p=t.displayName;null===p&&null!==f&&(p=N(f.functionName)||N(t.dispatcherHookName));if(null!==m){f=0;if(null!==e){for(;f<m.length&&f<e.length&&m[m.length-f-1].source===e[e.length-f-1].source;)f++;for(e=e.length-1;e>f;e--)d=r.pop()}for(e=m.length-f-1;1<=e;e--)f=[],k=m[e],k={id:null,isStateEditable:!1,name:N(m[e-1].functionName),value:void 0,subHooks:f,debugInfo:null,hookSource:{lineNumber:k.lineNumber,\ncolumnNumber:k.columnNumber,functionName:k.functionName,fileName:k.fileName}},d.push(k),r.push(d),d=f;e=m}f=t.primitive;k=t.debugInfo;t={id:\"Context\"===f||\"Context (use)\"===f||\"DebugValue\"===f||\"Promise\"===f||\"Unresolved\"===f?null:h++,isStateEditable:\"Reducer\"===f||\"State\"===f,name:p||f,value:t.value,subHooks:[],debugInfo:k,hookSource:null};p={lineNumber:null,functionName:null,fileName:null,columnNumber:null};m&&1<=m.length&&(m=m[0],p.lineNumber=m.lineNumber,p.functionName=m.functionName,p.fileName=\nm.fileName,p.columnNumber=m.columnNumber);t.hookSource=p;d.push(t)}P(c,null);return c}function P(a,b){for(var c=[],e=0;e<a.length;e++){var d=a[e];\"DebugValue\"===d.name&&0===d.subHooks.length?(a.splice(e,1),e--,c.push(d)):P(d.subHooks,d)}null!==b&&(1===c.length?b.value=c[0].value:1<c.length&&(b.value=c.map(function(h){return h.value})))}\nfunction Q(a){if(a!==I){if(a instanceof Error&&\"ReactDebugToolsUnsupportedHookError\"===a.name)throw a;var b=Error(\"Error rendering inspected component\",{cause:a});b.name=\"ReactDebugToolsRenderError\";b.cause=a;throw b;}}function R(a,b,c){null==c&&(c=u);var e=c.H;c.H=K;try{var d=Error();a(b)}catch(h){Q(h)}finally{a=z,z=[],c.H=e}c=g.parse(d);return O(c,a)}function S(a){a.forEach(function(b,c){return c._currentValue=b})}exports.inspectHooks=R;\nexports.inspectHooksOfFiber=function(a,b){null==b&&(b=u);if(0!==a.tag&&15!==a.tag&&11!==a.tag)throw Error(\"Unknown Fiber. Needs to be a function component to inspect hooks.\");B();E=a.memoizedState;D=a;if(x.call(D,\"dependencies\")){var c=D.dependencies;F=null!==c?c.firstContext:null}else if(x.call(D,\"dependencies_old\"))c=D.dependencies_old,F=null!==c?c.firstContext:null;else if(x.call(D,\"dependencies_new\"))c=D.dependencies_new,F=null!==c?c.firstContext:null;else if(x.call(D,\"contextDependencies\"))c=\nD.contextDependencies,F=null!==c?c.first:null;else throw Error(\"Unsupported React version. This is a bug in React Debug Tools.\");c=a.type;var e=a.memoizedProps;if(c!==a.elementType&&c&&c.defaultProps){e=n({},e);var d=c.defaultProps;for(h in d)void 0===e[h]&&(e[h]=d[h])}var h=new Map;try{if(null!==F&&!x.call(F,\"memoizedValue\"))for(d=a;d;){if(10===d.tag){var r=d.type;void 0!==r._context&&(r=r._context);h.has(r)||(h.set(r,r._currentValue),r._currentValue=d.memoizedProps.value)}d=d.return}if(11===a.tag){var y=\nc.render;r=e;var t=a.ref;a=b;var p=a.H;a.H=K;try{var m=Error();y(r,t)}catch(q){Q(q)}finally{var f=z;z=[];a.H=p}var k=g.parse(m);return O(k,f)}return R(c,e,b)}finally{F=E=D=null,S(h)}};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-debug-tools.production.min.js');\n} else {\n  module.exports = require('./cjs/react-debug-tools.development.js');\n}\n","/*\n React\n react-is.production.min.js\n\n Copyright (c) Meta Platforms, Inc. and affiliates.\n\n This source code is licensed under the MIT license found in the\n LICENSE file in the root directory of this source tree.\n*/\n'use strict';var b=Symbol.for(\"react.element\"),c=Symbol.for(\"react.portal\"),d=Symbol.for(\"react.fragment\"),e=Symbol.for(\"react.strict_mode\"),f=Symbol.for(\"react.profiler\");Symbol.for(\"react.provider\");var g=Symbol.for(\"react.consumer\"),h=Symbol.for(\"react.context\"),k=Symbol.for(\"react.forward_ref\"),l=Symbol.for(\"react.suspense\"),m=Symbol.for(\"react.suspense_list\"),n=Symbol.for(\"react.memo\"),p=Symbol.for(\"react.lazy\"),q=Symbol.for(\"react.offscreen\"),t=Symbol.for(\"react.client.reference\");\nfunction u(a){if(\"object\"===typeof a&&null!==a){var r=a.$$typeof;switch(r){case b:switch(a=a.type,a){case d:case f:case e:case l:case m:return a;default:switch(a=a&&a.$$typeof,a){case h:case k:case p:case n:return a;case g:return a;default:return r}}case c:return r}}}exports.ContextConsumer=g;exports.ContextProvider=h;exports.Element=b;exports.ForwardRef=k;exports.Fragment=d;exports.Lazy=p;exports.Memo=n;exports.Portal=c;exports.Profiler=f;exports.StrictMode=e;exports.Suspense=l;\nexports.SuspenseList=m;exports.isContextConsumer=function(a){return u(a)===g};exports.isContextProvider=function(a){return u(a)===h};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===b};exports.isForwardRef=function(a){return u(a)===k};exports.isFragment=function(a){return u(a)===d};exports.isLazy=function(a){return u(a)===p};exports.isMemo=function(a){return u(a)===n};exports.isPortal=function(a){return u(a)===c};exports.isProfiler=function(a){return u(a)===f};\nexports.isStrictMode=function(a){return u(a)===e};exports.isSuspense=function(a){return u(a)===l};exports.isSuspenseList=function(a){return u(a)===m};exports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===d||a===f||a===e||a===l||a===m||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===p||a.$$typeof===n||a.$$typeof===h||a.$$typeof===g||a.$$typeof===k||a.$$typeof===t||void 0!==a.getModuleId)?!0:!1};exports.typeOf=u;\n\n//# sourceMappingURL=react-is.production.min.js.map\n","/*\n React\n react.production.min.js\n\n Copyright (c) Meta Platforms, Inc. and affiliates.\n\n This source code is licensed under the MIT license found in the\n LICENSE file in the root directory of this source tree.\n*/\n'use strict';var h=Symbol.for(\"react.element\"),m=Symbol.for(\"react.portal\"),n=Symbol.for(\"react.fragment\"),p=Symbol.for(\"react.strict_mode\"),q=Symbol.for(\"react.profiler\"),r=Symbol.for(\"react.consumer\"),t=Symbol.for(\"react.context\"),u=Symbol.for(\"react.forward_ref\"),v=Symbol.for(\"react.suspense\"),w=Symbol.for(\"react.suspense_list\"),x=Symbol.for(\"react.memo\"),y=Symbol.for(\"react.lazy\"),z=Symbol.for(\"react.debug_trace_mode\"),A=Symbol.for(\"react.offscreen\"),B=Symbol.for(\"react.postpone\"),C=Symbol.iterator;\nfunction D(a){if(null===a||\"object\"!==typeof a)return null;a=C&&a[C]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,G={};function H(a,b,c){this.props=a;this.context=b;this.refs=G;this.updater=c||E}H.prototype.isReactComponent={};\nH.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(\"takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,a,b,\"setState\")};H.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function I(){}I.prototype=H.prototype;function J(a,b,c){this.props=a;this.context=b;this.refs=G;this.updater=c||E}var K=J.prototype=new I;\nK.constructor=J;F(K,H.prototype);K.isPureReactComponent=!0;var L=Array.isArray,M={H:null,C:null,T:null},N=Object.prototype.hasOwnProperty;function O(a,b,c,f,d,g,e){c=e.ref;return{$$typeof:h,type:a,key:b,ref:void 0!==c?c:null,props:e}}function P(a,b){return O(a.type,b,null,void 0,void 0,void 0,a.props)}function Q(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===h}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(c){return b[c]})}var R=/\\/+/g;\nfunction S(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}function T(){}\nfunction U(a){switch(a.status){case \"fulfilled\":return a.value;case \"rejected\":throw a.reason;default:switch(\"string\"===typeof a.status?a.then(T,T):(a.status=\"pending\",a.then(function(b){\"pending\"===a.status&&(a.status=\"fulfilled\",a.value=b)},function(b){\"pending\"===a.status&&(a.status=\"rejected\",a.reason=b)})),a.status){case \"fulfilled\":return a.value;case \"rejected\":throw a.reason;}}throw a;}\nfunction V(a,b,c,f,d){var g=typeof a;if(\"undefined\"===g||\"boolean\"===g)a=null;var e=!1;if(null===a)e=!0;else switch(g){case \"bigint\":case \"string\":case \"number\":e=!0;break;case \"object\":switch(a.$$typeof){case h:case m:e=!0;break;case y:return e=a._init,V(e(a._payload),b,c,f,d)}}if(e)return d=d(a),e=\"\"===f?\".\"+S(a,0):f,L(d)?(c=\"\",null!=e&&(c=e.replace(R,\"$&/\")+\"/\"),V(d,b,c,\"\",function(aa){return aa})):null!=d&&(Q(d)&&(d=P(d,c+(!d.key||a&&a.key===d.key?\"\":(\"\"+d.key).replace(R,\"$&/\")+\"/\")+e)),b.push(d)),\n1;e=0;var l=\"\"===f?\".\":f+\":\";if(L(a))for(var k=0;k<a.length;k++)f=a[k],g=l+S(f,k),e+=V(f,b,c,g,d);else if(k=D(a),\"function\"===typeof k)for(a=k.call(a),k=0;!(f=a.next()).done;)f=f.value,g=l+S(f,k++),e+=V(f,b,c,g,d);else if(\"object\"===g){if(\"function\"===typeof a.then)return V(U(a),b,c,f,d);b=String(a);throw Error(\"Objects are not valid as a React child (found: \"+(\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b)+\"). If you meant to render a collection of children, use an array instead.\");\n}return e}function W(a,b,c){if(null==a)return a;var f=[],d=0;V(a,f,\"\",\"\",function(g){return b.call(c,g,d++)});return f}function ba(a){if(-1===a._status){var b=a._result;b=b();b.then(function(c){if(0===a._status||-1===a._status)a._status=1,a._result=c},function(c){if(0===a._status||-1===a._status)a._status=2,a._result=c});-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result;}function ca(){return new WeakMap}\nfunction X(){return{s:0,v:void 0,o:null,p:null}}function Y(a,b){return M.H.useOptimistic(a,b)}\nvar Z=\"function\"===typeof reportError?reportError:function(a){if(\"object\"===typeof window&&\"function\"===typeof window.ErrorEvent){var b=new window.ErrorEvent(\"error\",{bubbles:!0,cancelable:!0,message:\"object\"===typeof a&&null!==a&&\"string\"===typeof a.message?String(a.message):String(a),error:a});if(!window.dispatchEvent(b))return}else if(\"object\"===typeof process&&\"function\"===typeof process.emit){process.emit(\"uncaughtException\",a);return}console.error(a)};function da(){}\nexports.Children={map:W,forEach:function(a,b,c){W(a,function(){b.apply(this,arguments)},c)},count:function(a){var b=0;W(a,function(){b++});return b},toArray:function(a){return W(a,function(b){return b})||[]},only:function(a){if(!Q(a))throw Error(\"React.Children.only expected to receive a single React element child.\");return a}};exports.Component=H;exports.Fragment=n;exports.Profiler=q;exports.PureComponent=J;exports.StrictMode=p;exports.Suspense=v;\nexports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M;exports.act=function(){throw Error(\"act(...) is not supported in production builds of React.\");};\nexports.cache=function(a){return function(){var b=M.C;if(!b)return a.apply(null,arguments);var c=b.getCacheForType(ca);b=c.get(a);void 0===b&&(b=X(),c.set(a,b));c=0;for(var f=arguments.length;c<f;c++){var d=arguments[c];if(\"function\"===typeof d||\"object\"===typeof d&&null!==d){var g=b.o;null===g&&(b.o=g=new WeakMap);b=g.get(d);void 0===b&&(b=X(),g.set(d,b))}else g=b.p,null===g&&(b.p=g=new Map),b=g.get(d),void 0===b&&(b=X(),g.set(d,b))}if(1===b.s)return b.v;if(2===b.s)throw b.v;try{var e=a.apply(null,\narguments);c=b;c.s=1;return c.v=e}catch(l){throw e=b,e.s=2,e.v=l,l;}}};\nexports.cloneElement=function(a,b,c){if(null===a||void 0===a)throw Error(\"The argument must be a React element, but you passed \"+a+\".\");var f=F({},a.props),d=a.key,g=void 0;if(null!=b)for(e in void 0!==b.ref&&(g=M.owner),void 0!==b.key&&(d=\"\"+b.key),b)!N.call(b,e)||\"key\"===e||\"__self\"===e||\"__source\"===e||\"ref\"===e&&void 0===b.ref||(f[e]=b[e]);var e=arguments.length-2;if(1===e)f.children=c;else if(1<e){for(var l=Array(e),k=0;k<e;k++)l[k]=arguments[k+2];f.children=l}return O(a.type,d,null,void 0,void 0,\ng,f)};exports.createContext=function(a){a={$$typeof:t,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider=a;a.Consumer={$$typeof:r,_context:a};return a};\nexports.createElement=function(a,b,c){var f,d={},g=null;if(null!=b)for(f in void 0!==b.key&&(g=\"\"+b.key),b)N.call(b,f)&&\"key\"!==f&&\"__self\"!==f&&\"__source\"!==f&&(d[f]=b[f]);var e=arguments.length-2;if(1===e)d.children=c;else if(1<e){for(var l=Array(e),k=0;k<e;k++)l[k]=arguments[k+2];d.children=l}if(a&&a.defaultProps)for(f in e=a.defaultProps,e)void 0===d[f]&&(d[f]=e[f]);return O(a,g,null,void 0,void 0,M.owner,d)};exports.createRef=function(){return{current:null}};\nexports.experimental_useEffectEvent=function(a){return M.H.useEffectEvent(a)};exports.experimental_useOptimistic=function(a,b){return Y(a,b)};exports.forwardRef=function(a){return{$$typeof:u,render:a}};exports.isValidElement=Q;exports.lazy=function(a){return{$$typeof:y,_payload:{_status:-1,_result:a},_init:ba}};exports.memo=function(a,b){return{$$typeof:x,type:a,compare:void 0===b?null:b}};\nexports.startTransition=function(a){var b=M.T,c=new Set;M.T={_callbacks:c};var f=M.T;try{var d=a();\"object\"===typeof d&&null!==d&&\"function\"===typeof d.then&&(c.forEach(function(g){return g(f,d)}),d.then(da,Z))}catch(g){Z(g)}finally{M.T=b}};exports.unstable_Activity=A;exports.unstable_DebugTracingMode=z;exports.unstable_SuspenseList=w;exports.unstable_getCacheForType=function(a){var b=M.C;return b?b.getCacheForType(a):a()};exports.unstable_postpone=function(a){a=Error(a);a.$$typeof=B;throw a;};\nexports.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()};exports.unstable_useMemoCache=function(a){return M.H.useMemoCache(a)};exports.use=function(a){return M.H.use(a)};exports.useActionState=function(a,b,c){return M.H.useActionState(a,b,c)};exports.useCallback=function(a,b){return M.H.useCallback(a,b)};exports.useContext=function(a){return M.H.useContext(a)};exports.useDebugValue=function(){};exports.useDeferredValue=function(a,b){return M.H.useDeferredValue(a,b)};\nexports.useEffect=function(a,b){return M.H.useEffect(a,b)};exports.useId=function(){return M.H.useId()};exports.useImperativeHandle=function(a,b,c){return M.H.useImperativeHandle(a,b,c)};exports.useInsertionEffect=function(a,b){return M.H.useInsertionEffect(a,b)};exports.useLayoutEffect=function(a,b){return M.H.useLayoutEffect(a,b)};exports.useMemo=function(a,b){return M.H.useMemo(a,b)};exports.useOptimistic=Y;exports.useReducer=function(a,b,c){return M.H.useReducer(a,b,c)};exports.useRef=function(a){return M.H.useRef(a)};\nexports.useState=function(a){return M.H.useState(a)};exports.useSyncExternalStore=function(a,b,c){return M.H.useSyncExternalStore(a,b,c)};exports.useTransition=function(){return M.H.useTransition()};exports.version=\"19.0.0-experimental-d486051de-20240415\";\n\n//# sourceMappingURL=react.production.min.js.map\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.ErrorStackParser = factory(root.StackFrame);\n    }\n}(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[()]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^()]*)|(\\),.*$)/g, '');\n                }\n                var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(');\n\n                // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n                // case it has spaces in it, as the string is split on \\s+ later on\n                var location = sanitizedLine.match(/ (\\((.+):(\\d+):(\\d+)\\)$)/);\n\n                // remove the parenthesized location from the line, if it was matched\n                sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n\n                var tokens = sanitizedLine.split(/\\s+/).slice(1);\n                // if a location was matched, pass it to extractLocation() otherwise pop the last token\n                var locationParts = this.extractLocation(location ? location[1] : tokens.pop());\n                var functionName = tokens.join(' ') || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n                    var matches = line.match(functionNameRegex);\n                    var functionName = matches && matches[1] ? matches[1] : undefined;\n                    var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\n                e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(\n                        new StackFrame({\n                            functionName: match[3] || undefined,\n                            fileName: match[2],\n                            lineNumber: match[1],\n                            source: lines[i]\n                        })\n                    );\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function(line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = (tokens.shift() || '');\n                var functionName = functionCall\n                    .replace(/<anonymous function(: (\\w+))?>/, '$2')\n                    .replace(/\\([^)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^(]+\\(([^)]*)\\)$/, '$1');\n                }\n                var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\n                    undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n}));\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","'use strict'\n\n// A linked list to keep track of recently-used-ness\nconst Yallist = require('yallist')\n\nconst MAX = Symbol('max')\nconst LENGTH = Symbol('length')\nconst LENGTH_CALCULATOR = Symbol('lengthCalculator')\nconst ALLOW_STALE = Symbol('allowStale')\nconst MAX_AGE = Symbol('maxAge')\nconst DISPOSE = Symbol('dispose')\nconst NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet')\nconst LRU_LIST = Symbol('lruList')\nconst CACHE = Symbol('cache')\nconst UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet')\n\nconst naiveLength = () => 1\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nclass LRUCache {\n  constructor (options) {\n    if (typeof options === 'number')\n      options = { max: options }\n\n    if (!options)\n      options = {}\n\n    if (options.max && (typeof options.max !== 'number' || options.max < 0))\n      throw new TypeError('max must be a non-negative number')\n    // Kind of weird to have a default max of Infinity, but oh well.\n    const max = this[MAX] = options.max || Infinity\n\n    const lc = options.length || naiveLength\n    this[LENGTH_CALCULATOR] = (typeof lc !== 'function') ? naiveLength : lc\n    this[ALLOW_STALE] = options.stale || false\n    if (options.maxAge && typeof options.maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n    this[MAX_AGE] = options.maxAge || 0\n    this[DISPOSE] = options.dispose\n    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false\n    this.reset()\n  }\n\n  // resize the cache when the max changes.\n  set max (mL) {\n    if (typeof mL !== 'number' || mL < 0)\n      throw new TypeError('max must be a non-negative number')\n\n    this[MAX] = mL || Infinity\n    trim(this)\n  }\n  get max () {\n    return this[MAX]\n  }\n\n  set allowStale (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  }\n  get allowStale () {\n    return this[ALLOW_STALE]\n  }\n\n  set maxAge (mA) {\n    if (typeof mA !== 'number')\n      throw new TypeError('maxAge must be a non-negative number')\n\n    this[MAX_AGE] = mA\n    trim(this)\n  }\n  get maxAge () {\n    return this[MAX_AGE]\n  }\n\n  // resize the cache when the lengthCalculator changes.\n  set lengthCalculator (lC) {\n    if (typeof lC !== 'function')\n      lC = naiveLength\n\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(hit => {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      })\n    }\n    trim(this)\n  }\n  get lengthCalculator () { return this[LENGTH_CALCULATOR] }\n\n  get length () { return this[LENGTH] }\n  get itemCount () { return this[LRU_LIST].length }\n\n  rforEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].tail; walker !== null;) {\n      const prev = walker.prev\n      forEachStep(this, fn, walker, thisp)\n      walker = prev\n    }\n  }\n\n  forEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].head; walker !== null;) {\n      const next = walker.next\n      forEachStep(this, fn, walker, thisp)\n      walker = next\n    }\n  }\n\n  keys () {\n    return this[LRU_LIST].toArray().map(k => k.key)\n  }\n\n  values () {\n    return this[LRU_LIST].toArray().map(k => k.value)\n  }\n\n  reset () {\n    if (this[DISPOSE] &&\n        this[LRU_LIST] &&\n        this[LRU_LIST].length) {\n      this[LRU_LIST].forEach(hit => this[DISPOSE](hit.key, hit.value))\n    }\n\n    this[CACHE] = new Map() // hash of items by key\n    this[LRU_LIST] = new Yallist() // list of items in order of use recency\n    this[LENGTH] = 0 // length of items in the list\n  }\n\n  dump () {\n    return this[LRU_LIST].map(hit =>\n      isStale(this, hit) ? false : {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }).toArray().filter(h => h)\n  }\n\n  dumpLru () {\n    return this[LRU_LIST]\n  }\n\n  set (key, value, maxAge) {\n    maxAge = maxAge || this[MAX_AGE]\n\n    if (maxAge && typeof maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n\n    const now = maxAge ? Date.now() : 0\n    const len = this[LENGTH_CALCULATOR](value, key)\n\n    if (this[CACHE].has(key)) {\n      if (len > this[MAX]) {\n        del(this, this[CACHE].get(key))\n        return false\n      }\n\n      const node = this[CACHE].get(key)\n      const item = node.value\n\n      // dispose of the old one before overwriting\n      // split out into 2 ifs for better coverage tracking\n      if (this[DISPOSE]) {\n        if (!this[NO_DISPOSE_ON_SET])\n          this[DISPOSE](key, item.value)\n      }\n\n      item.now = now\n      item.maxAge = maxAge\n      item.value = value\n      this[LENGTH] += len - item.length\n      item.length = len\n      this.get(key)\n      trim(this)\n      return true\n    }\n\n    const hit = new Entry(key, value, len, now, maxAge)\n\n    // oversized objects fall out of cache automatically.\n    if (hit.length > this[MAX]) {\n      if (this[DISPOSE])\n        this[DISPOSE](key, value)\n\n      return false\n    }\n\n    this[LENGTH] += hit.length\n    this[LRU_LIST].unshift(hit)\n    this[CACHE].set(key, this[LRU_LIST].head)\n    trim(this)\n    return true\n  }\n\n  has (key) {\n    if (!this[CACHE].has(key)) return false\n    const hit = this[CACHE].get(key).value\n    return !isStale(this, hit)\n  }\n\n  get (key) {\n    return get(this, key, true)\n  }\n\n  peek (key) {\n    return get(this, key, false)\n  }\n\n  pop () {\n    const node = this[LRU_LIST].tail\n    if (!node)\n      return null\n\n    del(this, node)\n    return node.value\n  }\n\n  del (key) {\n    del(this, this[CACHE].get(key))\n  }\n\n  load (arr) {\n    // reset the cache\n    this.reset()\n\n    const now = Date.now()\n    // A previous serialized cache has the most recent items first\n    for (let l = arr.length - 1; l >= 0; l--) {\n      const hit = arr[l]\n      const expiresAt = hit.e || 0\n      if (expiresAt === 0)\n        // the item was created without expiration in a non aged cache\n        this.set(hit.k, hit.v)\n      else {\n        const maxAge = expiresAt - now\n        // dont add already expired items\n        if (maxAge > 0) {\n          this.set(hit.k, hit.v, maxAge)\n        }\n      }\n    }\n  }\n\n  prune () {\n    this[CACHE].forEach((value, key) => get(this, key, false))\n  }\n}\n\nconst get = (self, key, doUse) => {\n  const node = self[CACHE].get(key)\n  if (node) {\n    const hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE])\n        return undefined\n    } else {\n      if (doUse) {\n        if (self[UPDATE_AGE_ON_GET])\n          node.value.now = Date.now()\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    return hit.value\n  }\n}\n\nconst isStale = (self, hit) => {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE]))\n    return false\n\n  const diff = Date.now() - hit.now\n  return hit.maxAge ? diff > hit.maxAge\n    : self[MAX_AGE] && (diff > self[MAX_AGE])\n}\n\nconst trim = self => {\n  if (self[LENGTH] > self[MAX]) {\n    for (let walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      const prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nconst del = (self, node) => {\n  if (node) {\n    const hit = node.value\n    if (self[DISPOSE])\n      self[DISPOSE](hit.key, hit.value)\n\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\nclass Entry {\n  constructor (key, value, length, now, maxAge) {\n    this.key = key\n    this.value = value\n    this.length = length\n    this.now = now\n    this.maxAge = maxAge || 0\n  }\n}\n\nconst forEachStep = (self, fn, node, thisp) => {\n  let hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE])\n      hit = undefined\n  }\n  if (hit)\n    fn.call(thisp, hit.value, hit.key, self)\n}\n\nmodule.exports = LRUCache\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stackframe', [], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.StackFrame = factory();\n    }\n}(this, function() {\n    'use strict';\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n        return function() {\n            return this[p];\n        };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps);\n\n    function StackFrame(obj) {\n        if (!obj) return;\n        for (var i = 0; i < props.length; i++) {\n            if (obj[props[i]] !== undefined) {\n                this['set' + _capitalize(props[i])](obj[props[i]]);\n            }\n        }\n    }\n\n    StackFrame.prototype = {\n        getArgs: function() {\n            return this.args;\n        },\n        setArgs: function(v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        getEvalOrigin: function() {\n            return this.evalOrigin;\n        },\n        setEvalOrigin: function(v) {\n            if (v instanceof StackFrame) {\n                this.evalOrigin = v;\n            } else if (v instanceof Object) {\n                this.evalOrigin = new StackFrame(v);\n            } else {\n                throw new TypeError('Eval Origin must be an Object or StackFrame');\n            }\n        },\n\n        toString: function() {\n            var fileName = this.getFileName() || '';\n            var lineNumber = this.getLineNumber() || '';\n            var columnNumber = this.getColumnNumber() || '';\n            var functionName = this.getFunctionName() || '';\n            if (this.getIsEval()) {\n                if (fileName) {\n                    return '[eval] (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n                }\n                return '[eval]:' + lineNumber + ':' + columnNumber;\n            }\n            if (functionName) {\n                return functionName + ' (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n            }\n            return fileName + ':' + lineNumber + ':' + columnNumber;\n        }\n    };\n\n    StackFrame.fromString = function StackFrame$$fromString(str) {\n        var argsStartIndex = str.indexOf('(');\n        var argsEndIndex = str.lastIndexOf(')');\n\n        var functionName = str.substring(0, argsStartIndex);\n        var args = str.substring(argsStartIndex + 1, argsEndIndex).split(',');\n        var locationString = str.substring(argsEndIndex + 1);\n\n        if (locationString.indexOf('@') === 0) {\n            var parts = /@(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(locationString, '');\n            var fileName = parts[1];\n            var lineNumber = parts[2];\n            var columnNumber = parts[3];\n        }\n\n        return new StackFrame({\n            functionName: functionName,\n            args: args || undefined,\n            fileName: fileName,\n            lineNumber: lineNumber || undefined,\n            columnNumber: columnNumber || undefined\n        });\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n        StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n        StackFrame.prototype['set' + _capitalize(booleanProps[i])] = (function(p) {\n            return function(v) {\n                this[p] = Boolean(v);\n            };\n        })(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n        StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n        StackFrame.prototype['set' + _capitalize(numericProps[j])] = (function(p) {\n            return function(v) {\n                if (!_isNumber(v)) {\n                    throw new TypeError(p + ' must be a Number');\n                }\n                this[p] = Number(v);\n            };\n        })(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n        StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n        StackFrame.prototype['set' + _capitalize(stringProps[k])] = (function(p) {\n            return function(v) {\n                this[p] = String(v);\n            };\n        })(stringProps[k]);\n    }\n\n    return StackFrame;\n}));\n","'use strict'\nmodule.exports = function (Yallist) {\n  Yallist.prototype[Symbol.iterator] = function* () {\n    for (let walker = this.head; walker; walker = walker.next) {\n      yield walker.value\n    }\n  }\n}\n","'use strict'\nmodule.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n\n  return next\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.splice = function (start, deleteCount, ...nodes) {\n  if (start > this.length) {\n    start = this.length - 1\n  }\n  if (start < 0) {\n    start = this.length + start;\n  }\n\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\n    walker = walker.next\n  }\n\n  var ret = []\n  for (var i = 0; walker && i < deleteCount; i++) {\n    ret.push(walker.value)\n    walker = this.removeNode(walker)\n  }\n  if (walker === null) {\n    walker = this.tail\n  }\n\n  if (walker !== this.head && walker !== this.tail) {\n    walker = walker.prev\n  }\n\n  for (var i = 0; i < nodes.length; i++) {\n    walker = insert(this, walker, nodes[i])\n  }\n  return ret;\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction insert (self, node, value) {\n  var inserted = node === self.head ?\n    new Node(value, null, node, self) :\n    new Node(value, node, node.next, self)\n\n  if (inserted.next === null) {\n    self.tail = inserted\n  }\n  if (inserted.prev === null) {\n    self.head = inserted\n  }\n\n  self.length++\n\n  return inserted\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n\ntry {\n  // add if support for Symbol.iterator is present\n  require('./iterator.js')(Yallist)\n} catch (er) {}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport default class EventEmitter<Events: Object> {\n  listenersMap: Map<string, Array<Function>> = new Map();\n\n  addListener<Event: $Keys<Events>>(\n    event: Event,\n    listener: (...$ElementType<Events, Event>) => any,\n  ): void {\n    const listeners = this.listenersMap.get(event);\n    if (listeners === undefined) {\n      this.listenersMap.set(event, [listener]);\n    } else {\n      const index = listeners.indexOf(listener);\n      if (index < 0) {\n        listeners.push(listener);\n      }\n    }\n  }\n\n  emit<Event: $Keys<Events>>(\n    event: Event,\n    ...args: $ElementType<Events, Event>\n  ): void {\n    const listeners = this.listenersMap.get(event);\n    if (listeners !== undefined) {\n      if (listeners.length === 1) {\n        // No need to clone or try/catch\n        const listener = listeners[0];\n        listener.apply(null, args);\n      } else {\n        let didThrow = false;\n        let caughtError = null;\n\n        const clonedListeners = Array.from(listeners);\n        for (let i = 0; i < clonedListeners.length; i++) {\n          const listener = clonedListeners[i];\n          try {\n            listener.apply(null, args);\n          } catch (error) {\n            if (caughtError === null) {\n              didThrow = true;\n              caughtError = error;\n            }\n          }\n        }\n\n        if (didThrow) {\n          throw caughtError;\n        }\n      }\n    }\n  }\n\n  removeAllListeners(): void {\n    this.listenersMap.clear();\n  }\n\n  removeListener(event: $Keys<Events>, listener: Function): void {\n    const listeners = this.listenersMap.get(event);\n    if (listeners !== undefined) {\n      const index = listeners.indexOf(listener);\n      if (index >= 0) {\n        listeners.splice(index, 1);\n      }\n    }\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport const CHROME_WEBSTORE_EXTENSION_ID = 'fmkadmapgofadopljbjfkapdkoienihi';\nexport const INTERNAL_EXTENSION_ID = 'dnjnjgbfilfphmojnmhliehogmojhclc';\nexport const LOCAL_EXTENSION_ID = 'ikiahnapldjmdmpkmfhjdjilojjhgcbf';\n\n// Flip this flag to true to enable verbose console debug logging.\nexport const __DEBUG__ = false;\n\n// Flip this flag to true to enable performance.mark() and performance.measure() timings.\nexport const __PERFORMANCE_PROFILE__ = false;\n\nexport const TREE_OPERATION_ADD = 1;\nexport const TREE_OPERATION_REMOVE = 2;\nexport const TREE_OPERATION_REORDER_CHILDREN = 3;\nexport const TREE_OPERATION_UPDATE_TREE_BASE_DURATION = 4;\nexport const TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS = 5;\nexport const TREE_OPERATION_REMOVE_ROOT = 6;\nexport const TREE_OPERATION_SET_SUBTREE_MODE = 7;\n\nexport const PROFILING_FLAG_BASIC_SUPPORT = 0b01;\nexport const PROFILING_FLAG_TIMELINE_SUPPORT = 0b10;\n\nexport const LOCAL_STORAGE_DEFAULT_TAB_KEY = 'React::DevTools::defaultTab';\n\nexport const LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY =\n  'React::DevTools::componentFilters';\n\nexport const SESSION_STORAGE_LAST_SELECTION_KEY =\n  'React::DevTools::lastSelection';\n\nexport const LOCAL_STORAGE_OPEN_IN_EDITOR_URL =\n  'React::DevTools::openInEditorUrl';\n\nexport const LOCAL_STORAGE_OPEN_IN_EDITOR_URL_PRESET =\n  'React::DevTools::openInEditorUrlPreset';\n\nexport const LOCAL_STORAGE_PARSE_HOOK_NAMES_KEY =\n  'React::DevTools::parseHookNames';\n\nexport const SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY =\n  'React::DevTools::recordChangeDescriptions';\n\nexport const SESSION_STORAGE_RELOAD_AND_PROFILE_KEY =\n  'React::DevTools::reloadAndProfile';\n\nexport const LOCAL_STORAGE_SHOULD_BREAK_ON_CONSOLE_ERRORS =\n  'React::DevTools::breakOnConsoleErrors';\n\nexport const LOCAL_STORAGE_BROWSER_THEME = 'React::DevTools::theme';\n\nexport const LOCAL_STORAGE_SHOULD_APPEND_COMPONENT_STACK_KEY =\n  'React::DevTools::appendComponentStack';\n\nexport const LOCAL_STORAGE_SHOW_INLINE_WARNINGS_AND_ERRORS_KEY =\n  'React::DevTools::showInlineWarningsAndErrors';\n\nexport const LOCAL_STORAGE_TRACE_UPDATES_ENABLED_KEY =\n  'React::DevTools::traceUpdatesEnabled';\n\nexport const LOCAL_STORAGE_HIDE_CONSOLE_LOGS_IN_STRICT_MODE =\n  'React::DevTools::hideConsoleLogsInStrictMode';\n\nexport const LOCAL_STORAGE_SUPPORTS_PROFILING_KEY =\n  'React::DevTools::supportsProfiling';\n\nexport const PROFILER_EXPORT_VERSION = 5;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport function localStorageGetItem(key: string): any {\n  try {\n    return localStorage.getItem(key);\n  } catch (error) {\n    return null;\n  }\n}\n\nexport function localStorageRemoveItem(key: string): void {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {}\n}\n\nexport function localStorageSetItem(key: string, value: any): void {\n  try {\n    return localStorage.setItem(key, value);\n  } catch (error) {}\n}\n\nexport function sessionStorageGetItem(key: string): any {\n  try {\n    return sessionStorage.getItem(key);\n  } catch (error) {\n    return null;\n  }\n}\n\nexport function sessionStorageRemoveItem(key: string): void {\n  try {\n    sessionStorage.removeItem(key);\n  } catch (error) {}\n}\n\nexport function sessionStorageSetItem(key: string, value: any): void {\n  try {\n    return sessionStorage.setItem(key, value);\n  } catch (error) {}\n}\n","\n\nvar simpleIsEqual = function simpleIsEqual(a, b) {\n  return a === b;\n};\n\nexport default function (resultFn) {\n  var isEqual = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : simpleIsEqual;\n\n  var lastThis = void 0;\n  var lastArgs = [];\n  var lastResult = void 0;\n  var calledOnce = false;\n\n  var isNewArgEqualToLast = function isNewArgEqualToLast(newArg, index) {\n    return isEqual(newArg, lastArgs[index]);\n  };\n\n  var result = function result() {\n    for (var _len = arguments.length, newArgs = Array(_len), _key = 0; _key < _len; _key++) {\n      newArgs[_key] = arguments[_key];\n    }\n\n    if (calledOnce && lastThis === this && newArgs.length === lastArgs.length && newArgs.every(isNewArgEqualToLast)) {\n      return lastResult;\n    }\n\n    calledOnce = true;\n    lastThis = this;\n    lastArgs = newArgs;\n    lastResult = resultFn.apply(this, newArgs);\n    return lastResult;\n  };\n\n  return result;\n}","/**\n * Compare [semver](https://semver.org/) version strings to find greater, equal or lesser.\n * This library supports the full semver specification, including comparing versions with different number of digits like `1.0.0`, `1.0`, `1`, and pre-release versions like `1.0.0-alpha`.\n * @param v1 - First version to compare\n * @param v2 - Second version to compare\n * @returns Numeric value compatible with the [Array.sort(fn) interface](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#Parameters).\n */\nexport const compareVersions = (v1, v2) => {\n    // validate input and split into segments\n    const n1 = validateAndParse(v1);\n    const n2 = validateAndParse(v2);\n    // pop off the patch\n    const p1 = n1.pop();\n    const p2 = n2.pop();\n    // validate numbers\n    const r = compareSegments(n1, n2);\n    if (r !== 0)\n        return r;\n    // validate pre-release\n    if (p1 && p2) {\n        return compareSegments(p1.split('.'), p2.split('.'));\n    }\n    else if (p1 || p2) {\n        return p1 ? -1 : 1;\n    }\n    return 0;\n};\n/**\n * Validate [semver](https://semver.org/) version strings.\n *\n * @param version Version number to validate\n * @returns `true` if the version number is a valid semver version number, `false` otherwise.\n *\n * @example\n * ```\n * validate('1.0.0-rc.1'); // return true\n * validate('1.0-rc.1'); // return false\n * validate('foo'); // return false\n * ```\n */\nexport const validate = (version) => typeof version === 'string' && /^[v\\d]/.test(version) && semver.test(version);\n/**\n * Compare [semver](https://semver.org/) version strings using the specified operator.\n *\n * @param v1 First version to compare\n * @param v2 Second version to compare\n * @param operator Allowed arithmetic operator to use\n * @returns `true` if the comparison between the firstVersion and the secondVersion satisfies the operator, `false` otherwise.\n *\n * @example\n * ```\n * compare('10.1.8', '10.0.4', '>'); // return true\n * compare('10.0.1', '10.0.1', '='); // return true\n * compare('10.1.1', '10.2.2', '<'); // return true\n * compare('10.1.1', '10.2.2', '<='); // return true\n * compare('10.1.1', '10.2.2', '>='); // return false\n * ```\n */\nexport const compare = (v1, v2, operator) => {\n    // validate input operator\n    assertValidOperator(operator);\n    // since result of compareVersions can only be -1 or 0 or 1\n    // a simple map can be used to replace switch\n    const res = compareVersions(v1, v2);\n    return operatorResMap[operator].includes(res);\n};\n/**\n * Match [npm semver](https://docs.npmjs.com/cli/v6/using-npm/semver) version range.\n *\n * @param version Version number to match\n * @param range Range pattern for version\n * @returns `true` if the version number is within the range, `false` otherwise.\n *\n * @example\n * ```\n * satisfies('1.1.0', '^1.0.0'); // return true\n * satisfies('1.1.0', '~1.0.0'); // return false\n * ```\n */\nexport const satisfies = (version, range) => {\n    // if no range operator then \"=\"\n    const m = range.match(/^([<>=~^]+)/);\n    const op = m ? m[1] : '=';\n    // if gt/lt/eq then operator compare\n    if (op !== '^' && op !== '~')\n        return compare(version, range, op);\n    // else range of either \"~\" or \"^\" is assumed\n    const [v1, v2, v3, , vp] = validateAndParse(version);\n    const [r1, r2, r3, , rp] = validateAndParse(range);\n    const v = [v1, v2, v3];\n    const r = [r1, r2 !== null && r2 !== void 0 ? r2 : 'x', r3 !== null && r3 !== void 0 ? r3 : 'x'];\n    // validate pre-release\n    if (rp) {\n        if (!vp)\n            return false;\n        if (compareSegments(v, r) !== 0)\n            return false;\n        if (compareSegments(vp.split('.'), rp.split('.')) === -1)\n            return false;\n    }\n    // first non-zero number\n    const nonZero = r.findIndex((v) => v !== '0') + 1;\n    // pointer to where segments can be >=\n    const i = op === '~' ? 2 : nonZero > 1 ? nonZero : 1;\n    // before pointer must be equal\n    if (compareSegments(v.slice(0, i), r.slice(0, i)) !== 0)\n        return false;\n    // after pointer must be >=\n    if (compareSegments(v.slice(i), r.slice(i)) === -1)\n        return false;\n    return true;\n};\nconst semver = /^[v^~<>=]*?(\\d+)(?:\\.([x*]|\\d+)(?:\\.([x*]|\\d+)(?:\\.([x*]|\\d+))?(?:-([\\da-z\\-]+(?:\\.[\\da-z\\-]+)*))?(?:\\+[\\da-z\\-]+(?:\\.[\\da-z\\-]+)*)?)?)?$/i;\nconst validateAndParse = (version) => {\n    if (typeof version !== 'string') {\n        throw new TypeError('Invalid argument expected string');\n    }\n    const match = version.match(semver);\n    if (!match) {\n        throw new Error(`Invalid argument not valid semver ('${version}' received)`);\n    }\n    match.shift();\n    return match;\n};\nconst isWildcard = (s) => s === '*' || s === 'x' || s === 'X';\nconst tryParse = (v) => {\n    const n = parseInt(v, 10);\n    return isNaN(n) ? v : n;\n};\nconst forceType = (a, b) => typeof a !== typeof b ? [String(a), String(b)] : [a, b];\nconst compareStrings = (a, b) => {\n    if (isWildcard(a) || isWildcard(b))\n        return 0;\n    const [ap, bp] = forceType(tryParse(a), tryParse(b));\n    if (ap > bp)\n        return 1;\n    if (ap < bp)\n        return -1;\n    return 0;\n};\nconst compareSegments = (a, b) => {\n    for (let i = 0; i < Math.max(a.length, b.length); i++) {\n        const r = compareStrings(a[i] || '0', b[i] || '0');\n        if (r !== 0)\n            return r;\n    }\n    return 0;\n};\nconst operatorResMap = {\n    '>': [1],\n    '>=': [0, 1],\n    '=': [0],\n    '<=': [-1, 0],\n    '<': [-1],\n};\nconst allowedOperators = Object.keys(operatorResMap);\nconst assertValidOperator = (op) => {\n    if (typeof op !== 'string') {\n        throw new TypeError(`Invalid operator type, expected string but got ${typeof op}`);\n    }\n    if (allowedOperators.indexOf(op) === -1) {\n        throw new Error(`Invalid operator, expected one of ${allowedOperators.join('|')}`);\n    }\n};\n//# sourceMappingURL=index.js.map","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n\n// The Symbol used to tag the ReactElement-like types.\nexport const REACT_ELEMENT_TYPE: symbol = Symbol.for('react.element');\nexport const REACT_PORTAL_TYPE: symbol = Symbol.for('react.portal');\nexport const REACT_FRAGMENT_TYPE: symbol = Symbol.for('react.fragment');\nexport const REACT_STRICT_MODE_TYPE: symbol = Symbol.for('react.strict_mode');\nexport const REACT_PROFILER_TYPE: symbol = Symbol.for('react.profiler');\nexport const REACT_PROVIDER_TYPE: symbol = Symbol.for('react.provider'); // TODO: Delete with enableRenderableContext\nexport const REACT_CONSUMER_TYPE: symbol = Symbol.for('react.consumer');\nexport const REACT_CONTEXT_TYPE: symbol = Symbol.for('react.context');\nexport const REACT_FORWARD_REF_TYPE: symbol = Symbol.for('react.forward_ref');\nexport const REACT_SUSPENSE_TYPE: symbol = Symbol.for('react.suspense');\nexport const REACT_SUSPENSE_LIST_TYPE: symbol = Symbol.for(\n  'react.suspense_list',\n);\nexport const REACT_MEMO_TYPE: symbol = Symbol.for('react.memo');\nexport const REACT_LAZY_TYPE: symbol = Symbol.for('react.lazy');\nexport const REACT_SCOPE_TYPE: symbol = Symbol.for('react.scope');\nexport const REACT_DEBUG_TRACING_MODE_TYPE: symbol = Symbol.for(\n  'react.debug_trace_mode',\n);\nexport const REACT_OFFSCREEN_TYPE: symbol = Symbol.for('react.offscreen');\nexport const REACT_LEGACY_HIDDEN_TYPE: symbol = Symbol.for(\n  'react.legacy_hidden',\n);\nexport const REACT_TRACING_MARKER_TYPE: symbol = Symbol.for(\n  'react.tracing_marker',\n);\n\nexport const REACT_MEMO_CACHE_SENTINEL: symbol = Symbol.for(\n  'react.memo_cache_sentinel',\n);\n\nexport const REACT_POSTPONE_TYPE: symbol = Symbol.for('react.postpone');\n\nconst MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nconst FAUX_ITERATOR_SYMBOL = '@@iterator';\n\nexport function getIteratorFn(maybeIterable: ?any): ?() => ?Iterator<any> {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n  const maybeIterator =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[FAUX_ITERATOR_SYMBOL];\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n  return null;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * WARNING:\n * This file contains types that are designed for React DevTools UI and how it interacts with the backend.\n * They might be used in different versions of DevTools backends.\n * Be mindful of backwards compatibility when making changes.\n */\n\nimport type {\n  Dehydrated,\n  Unserializable,\n} from 'react-devtools-shared/src/hydration';\nimport type {Source} from 'react-devtools-shared/src/shared/types';\n\nexport type BrowserTheme = 'dark' | 'light';\n\nexport type Wall = {\n  // `listen` returns the \"unlisten\" function.\n  listen: (fn: Function) => Function,\n  send: (event: string, payload: any, transferable?: Array<any>) => void,\n};\n\n// WARNING\n// The values below are referenced by ComponentFilters (which are saved via localStorage).\n// Do not change them or it will break previously saved user customizations.\n// If new element types are added, use new numbers rather than re-ordering existing ones.\n//\n// Changing these types is also a backwards breaking change for the standalone shell,\n// since the frontend and backend must share the same values-\n// and the backend is embedded in certain environments (like React Native).\nexport const ElementTypeClass = 1;\nexport const ElementTypeContext = 2;\nexport const ElementTypeFunction = 5;\nexport const ElementTypeForwardRef = 6;\nexport const ElementTypeHostComponent = 7;\nexport const ElementTypeMemo = 8;\nexport const ElementTypeOtherOrUnknown = 9;\nexport const ElementTypeProfiler = 10;\nexport const ElementTypeRoot = 11;\nexport const ElementTypeSuspense = 12;\nexport const ElementTypeSuspenseList = 13;\nexport const ElementTypeTracingMarker = 14;\n\n// Different types of elements displayed in the Elements tree.\n// These types may be used to visually distinguish types,\n// or to enable/disable certain functionality.\nexport type ElementType = 1 | 2 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14;\n\n// WARNING\n// The values below are referenced by ComponentFilters (which are saved via localStorage).\n// Do not change them or it will break previously saved user customizations.\n// If new filter types are added, use new numbers rather than re-ordering existing ones.\nexport const ComponentFilterElementType = 1;\nexport const ComponentFilterDisplayName = 2;\nexport const ComponentFilterLocation = 3;\nexport const ComponentFilterHOC = 4;\n\nexport type ComponentFilterType = 1 | 2 | 3 | 4;\n\n// Hide all elements of types in this Set.\n// We hide host components only by default.\nexport type ElementTypeComponentFilter = {\n  isEnabled: boolean,\n  type: 1,\n  value: ElementType,\n};\n\n// Hide all elements with displayNames or paths matching one or more of the RegExps in this Set.\n// Path filters are only used when elements include debug source location.\nexport type RegExpComponentFilter = {\n  isEnabled: boolean,\n  isValid: boolean,\n  type: 2 | 3,\n  value: string,\n};\n\nexport type BooleanComponentFilter = {\n  isEnabled: boolean,\n  isValid: boolean,\n  type: 4,\n};\n\nexport type ComponentFilter =\n  | BooleanComponentFilter\n  | ElementTypeComponentFilter\n  | RegExpComponentFilter;\n\nexport type HookName = string | null;\n// Map of hook source (\"<filename>:<line-number>:<column-number>\") to name.\n// Hook source is used instead of the hook itself because the latter is not stable between element inspections.\n// We use a Map rather than an Array because of nested hooks and traversal ordering.\nexport type HookSourceLocationKey = string;\nexport type HookNames = Map<HookSourceLocationKey, HookName>;\n\nexport type LRUCache<K, V> = {\n  del: (key: K) => void,\n  get: (key: K) => V,\n  has: (key: K) => boolean,\n  reset: () => void,\n  set: (key: K, value: V) => void,\n};\n\nexport type StyleXPlugin = {\n  sources: Array<string>,\n  resolvedStyles: Object,\n};\n\nexport type Plugins = {\n  stylex: StyleXPlugin | null,\n};\n\nexport const StrictMode = 1;\n\n// Each element on the frontend corresponds to a Fiber on the backend.\n// Some of its information (e.g. id, type, displayName) come from the backend.\n// Other bits (e.g. weight and depth) are computed on the frontend for windowing and display purposes.\n// Elements are updated on a push basis meaning the backend pushes updates to the frontend when needed.\nexport type Element = {\n  id: number,\n  parentID: number,\n  children: Array<number>,\n  type: ElementType,\n  displayName: string | null,\n  key: number | string | null,\n\n  hocDisplayNames: null | Array<string>,\n\n  // Should the elements children be visible in the tree?\n  isCollapsed: boolean,\n\n  // Owner (if available)\n  ownerID: number,\n\n  // How many levels deep within the tree is this element?\n  // This determines how much indentation (left padding) should be used in the Elements tree.\n  depth: number,\n\n  // How many nodes (including itself) are below this Element within the tree.\n  // This property is used to quickly determine the total number of Elements,\n  // and the Element at any given index (for windowing purposes).\n  weight: number,\n\n  // This element is not in a StrictMode compliant subtree.\n  // Only true for React versions supporting StrictMode.\n  isStrictModeNonCompliant: boolean,\n\n  // If component is compiled with Forget, the backend will send its name as Forget(...)\n  // Later, on the frontend side, we will strip HOC names and Forget prefix.\n  compiledWithForget: boolean,\n};\n\nexport type SerializedElement = {\n  displayName: string | null,\n  id: number,\n  key: number | string | null,\n  hocDisplayNames: Array<string> | null,\n  compiledWithForget: boolean,\n  type: ElementType,\n};\n\nexport type OwnersList = {\n  id: number,\n  owners: Array<SerializedElement> | null,\n};\n\nexport type InspectedElementResponseType =\n  | 'error'\n  | 'full-data'\n  | 'hydrated-path'\n  | 'no-change'\n  | 'not-found';\n\nexport type InspectedElementPath = Array<string | number>;\n\nexport type InspectedElement = {\n  id: number,\n\n  // Does the current renderer support editable hooks and function props?\n  canEditHooks: boolean,\n  canEditFunctionProps: boolean,\n\n  // Does the current renderer support advanced editing interface?\n  canEditHooksAndDeletePaths: boolean,\n  canEditHooksAndRenamePaths: boolean,\n  canEditFunctionPropsDeletePaths: boolean,\n  canEditFunctionPropsRenamePaths: boolean,\n\n  // Is this Error, and can its value be overridden now?\n  isErrored: boolean,\n  canToggleError: boolean,\n  targetErrorBoundaryID: ?number,\n\n  // Is this Suspense, and can its value be overridden now?\n  canToggleSuspense: boolean,\n\n  // Can view component source location.\n  canViewSource: boolean,\n\n  // Does the component have legacy context attached to it.\n  hasLegacyContext: boolean,\n\n  // Inspectable properties.\n  context: Object | null,\n  hooks: Object | null,\n  props: Object | null,\n  state: Object | null,\n  key: number | string | null,\n  errors: Array<[string, number]>,\n  warnings: Array<[string, number]>,\n\n  // List of owners\n  owners: Array<SerializedElement> | null,\n\n  // Location of component in source code.\n  source: Source | null,\n\n  type: ElementType,\n\n  // Meta information about the root this element belongs to.\n  rootType: string | null,\n\n  // Meta information about the renderer that created this element.\n  rendererPackageName: string | null,\n  rendererVersion: string | null,\n\n  // UI plugins/visualizations for the inspected element.\n  plugins: Plugins,\n};\n\n// TODO: Add profiling type\n\ntype Data =\n  | string\n  | Dehydrated\n  | Unserializable\n  | Array<Dehydrated>\n  | Array<Unserializable>\n  | {[string]: Data};\n\nexport type DehydratedData = {\n  cleaned: Array<Array<string | number>>,\n  data: Data,\n  unserializable: Array<Array<string | number>>,\n};\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nconst isArray = Array.isArray;\n\nexport default isArray;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport LRU from 'lru-cache';\nimport {\n  isElement,\n  typeOf,\n  ContextConsumer,\n  ContextProvider,\n  ForwardRef,\n  Fragment,\n  Lazy,\n  Memo,\n  Portal,\n  Profiler,\n  StrictMode,\n  Suspense,\n} from 'react-is';\nimport {\n  REACT_SUSPENSE_LIST_TYPE as SuspenseList,\n  REACT_TRACING_MARKER_TYPE as TracingMarker,\n} from 'shared/ReactSymbols';\nimport {\n  TREE_OPERATION_ADD,\n  TREE_OPERATION_REMOVE,\n  TREE_OPERATION_REMOVE_ROOT,\n  TREE_OPERATION_REORDER_CHILDREN,\n  TREE_OPERATION_SET_SUBTREE_MODE,\n  TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS,\n  TREE_OPERATION_UPDATE_TREE_BASE_DURATION,\n  LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY,\n  LOCAL_STORAGE_OPEN_IN_EDITOR_URL,\n  LOCAL_STORAGE_SHOULD_BREAK_ON_CONSOLE_ERRORS,\n  LOCAL_STORAGE_SHOULD_APPEND_COMPONENT_STACK_KEY,\n  LOCAL_STORAGE_SHOW_INLINE_WARNINGS_AND_ERRORS_KEY,\n  LOCAL_STORAGE_HIDE_CONSOLE_LOGS_IN_STRICT_MODE,\n} from './constants';\nimport {\n  ComponentFilterElementType,\n  ComponentFilterLocation,\n  ElementTypeHostComponent,\n} from './frontend/types';\nimport {\n  ElementTypeRoot,\n  ElementTypeClass,\n  ElementTypeForwardRef,\n  ElementTypeFunction,\n  ElementTypeMemo,\n} from 'react-devtools-shared/src/frontend/types';\nimport {localStorageGetItem, localStorageSetItem} from './storage';\nimport {meta} from './hydration';\nimport isArray from './isArray';\n\nimport type {\n  ComponentFilter,\n  ElementType,\n  BrowserTheme,\n  SerializedElement as SerializedElementFrontend,\n  LRUCache,\n} from 'react-devtools-shared/src/frontend/types';\nimport type {SerializedElement as SerializedElementBackend} from 'react-devtools-shared/src/backend/types';\n\n// $FlowFixMe[method-unbinding]\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\nconst cachedDisplayNames: WeakMap<Function, string> = new WeakMap();\n\n// On large trees, encoding takes significant time.\n// Try to reuse the already encoded strings.\nconst encodedStringCache: LRUCache<string, Array<number>> = new LRU({\n  max: 1000,\n});\n\nexport function alphaSortKeys(\n  a: string | number | symbol,\n  b: string | number | symbol,\n): number {\n  if (a.toString() > b.toString()) {\n    return 1;\n  } else if (b.toString() > a.toString()) {\n    return -1;\n  } else {\n    return 0;\n  }\n}\n\nexport function getAllEnumerableKeys(\n  obj: Object,\n): Set<string | number | symbol> {\n  const keys = new Set<string | number | symbol>();\n  let current = obj;\n  while (current != null) {\n    const currentKeys = [\n      ...Object.keys(current),\n      ...Object.getOwnPropertySymbols(current),\n    ];\n    const descriptors = Object.getOwnPropertyDescriptors(current);\n    currentKeys.forEach(key => {\n      // $FlowFixMe[incompatible-type]: key can be a Symbol https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor\n      if (descriptors[key].enumerable) {\n        keys.add(key);\n      }\n    });\n    current = Object.getPrototypeOf(current);\n  }\n  return keys;\n}\n\n// Mirror https://github.com/facebook/react/blob/7c21bf72ace77094fd1910cc350a548287ef8350/packages/shared/getComponentName.js#L27-L37\nexport function getWrappedDisplayName(\n  outerType: mixed,\n  innerType: any,\n  wrapperName: string,\n  fallbackName?: string,\n): string {\n  const displayName = (outerType: any)?.displayName;\n  return (\n    displayName || `${wrapperName}(${getDisplayName(innerType, fallbackName)})`\n  );\n}\n\nexport function getDisplayName(\n  type: Function,\n  fallbackName: string = 'Anonymous',\n): string {\n  const nameFromCache = cachedDisplayNames.get(type);\n  if (nameFromCache != null) {\n    return nameFromCache;\n  }\n\n  let displayName = fallbackName;\n\n  // The displayName property is not guaranteed to be a string.\n  // It's only safe to use for our purposes if it's a string.\n  // github.com/facebook/react-devtools/issues/803\n  if (typeof type.displayName === 'string') {\n    displayName = type.displayName;\n  } else if (typeof type.name === 'string' && type.name !== '') {\n    displayName = type.name;\n  }\n\n  cachedDisplayNames.set(type, displayName);\n  return displayName;\n}\n\nlet uidCounter: number = 0;\n\nexport function getUID(): number {\n  return ++uidCounter;\n}\n\nexport function utfDecodeStringWithRanges(\n  array: Array<number>,\n  left: number,\n  right: number,\n): string {\n  let string = '';\n  for (let i = left; i <= right; i++) {\n    string += String.fromCodePoint(array[i]);\n  }\n  return string;\n}\n\nfunction surrogatePairToCodePoint(\n  charCode1: number,\n  charCode2: number,\n): number {\n  return ((charCode1 & 0x3ff) << 10) + (charCode2 & 0x3ff) + 0x10000;\n}\n\n// Credit for this encoding approach goes to Tim Down:\n// https://stackoverflow.com/questions/4877326/how-can-i-tell-if-a-string-contains-multibyte-characters-in-javascript\nexport function utfEncodeString(string: string): Array<number> {\n  const cached = encodedStringCache.get(string);\n  if (cached !== undefined) {\n    return cached;\n  }\n\n  const encoded = [];\n  let i = 0;\n  let charCode;\n  while (i < string.length) {\n    charCode = string.charCodeAt(i);\n    // Handle multibyte unicode characters (like emoji).\n    if ((charCode & 0xf800) === 0xd800) {\n      encoded.push(surrogatePairToCodePoint(charCode, string.charCodeAt(++i)));\n    } else {\n      encoded.push(charCode);\n    }\n    ++i;\n  }\n\n  encodedStringCache.set(string, encoded);\n\n  return encoded;\n}\n\nexport function printOperationsArray(operations: Array<number>) {\n  // The first two values are always rendererID and rootID\n  const rendererID = operations[0];\n  const rootID = operations[1];\n\n  const logs = [`operations for renderer:${rendererID} and root:${rootID}`];\n\n  let i = 2;\n\n  // Reassemble the string table.\n  const stringTable: Array<null | string> = [\n    null, // ID = 0 corresponds to the null string.\n  ];\n  const stringTableSize = operations[i++];\n  const stringTableEnd = i + stringTableSize;\n  while (i < stringTableEnd) {\n    const nextLength = operations[i++];\n    const nextString = utfDecodeStringWithRanges(\n      operations,\n      i,\n      i + nextLength - 1,\n    );\n    stringTable.push(nextString);\n    i += nextLength;\n  }\n\n  while (i < operations.length) {\n    const operation = operations[i];\n\n    switch (operation) {\n      case TREE_OPERATION_ADD: {\n        const id = ((operations[i + 1]: any): number);\n        const type = ((operations[i + 2]: any): ElementType);\n\n        i += 3;\n\n        if (type === ElementTypeRoot) {\n          logs.push(`Add new root node ${id}`);\n\n          i++; // isStrictModeCompliant\n          i++; // supportsProfiling\n          i++; // supportsStrictMode\n          i++; // hasOwnerMetadata\n        } else {\n          const parentID = ((operations[i]: any): number);\n          i++;\n\n          i++; // ownerID\n\n          const displayNameStringID = operations[i];\n          const displayName = stringTable[displayNameStringID];\n          i++;\n\n          i++; // key\n\n          logs.push(\n            `Add node ${id} (${displayName || 'null'}) as child of ${parentID}`,\n          );\n        }\n        break;\n      }\n      case TREE_OPERATION_REMOVE: {\n        const removeLength = ((operations[i + 1]: any): number);\n        i += 2;\n\n        for (let removeIndex = 0; removeIndex < removeLength; removeIndex++) {\n          const id = ((operations[i]: any): number);\n          i += 1;\n\n          logs.push(`Remove node ${id}`);\n        }\n        break;\n      }\n      case TREE_OPERATION_REMOVE_ROOT: {\n        i += 1;\n\n        logs.push(`Remove root ${rootID}`);\n        break;\n      }\n      case TREE_OPERATION_SET_SUBTREE_MODE: {\n        const id = operations[i + 1];\n        const mode = operations[i + 1];\n\n        i += 3;\n\n        logs.push(`Mode ${mode} set for subtree with root ${id}`);\n        break;\n      }\n      case TREE_OPERATION_REORDER_CHILDREN: {\n        const id = ((operations[i + 1]: any): number);\n        const numChildren = ((operations[i + 2]: any): number);\n        i += 3;\n        const children = operations.slice(i, i + numChildren);\n        i += numChildren;\n\n        logs.push(`Re-order node ${id} children ${children.join(',')}`);\n        break;\n      }\n      case TREE_OPERATION_UPDATE_TREE_BASE_DURATION:\n        // Base duration updates are only sent while profiling is in progress.\n        // We can ignore them at this point.\n        // The profiler UI uses them lazily in order to generate the tree.\n        i += 3;\n        break;\n      case TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS:\n        const id = operations[i + 1];\n        const numErrors = operations[i + 2];\n        const numWarnings = operations[i + 3];\n\n        i += 4;\n\n        logs.push(\n          `Node ${id} has ${numErrors} errors and ${numWarnings} warnings`,\n        );\n        break;\n      default:\n        throw Error(`Unsupported Bridge operation \"${operation}\"`);\n    }\n  }\n\n  console.log(logs.join('\\n  '));\n}\n\nexport function getDefaultComponentFilters(): Array<ComponentFilter> {\n  return [\n    {\n      type: ComponentFilterElementType,\n      value: ElementTypeHostComponent,\n      isEnabled: true,\n    },\n  ];\n}\n\nexport function getSavedComponentFilters(): Array<ComponentFilter> {\n  try {\n    const raw = localStorageGetItem(\n      LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY,\n    );\n    if (raw != null) {\n      const parsedFilters: Array<ComponentFilter> = JSON.parse(raw);\n      return filterOutLocationComponentFilters(parsedFilters);\n    }\n  } catch (error) {}\n  return getDefaultComponentFilters();\n}\n\nexport function setSavedComponentFilters(\n  componentFilters: Array<ComponentFilter>,\n): void {\n  localStorageSetItem(\n    LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY,\n    JSON.stringify(filterOutLocationComponentFilters(componentFilters)),\n  );\n}\n\n// Following __debugSource removal from Fiber, the new approach for finding the source location\n// of a component, represented by the Fiber, is based on lazily generating and parsing component stack frames\n// To find the original location, React DevTools will perform symbolication, source maps are required for that.\n// In order to start filtering Fibers, we need to find location for all of them, which can't be done lazily.\n// Eager symbolication can become quite expensive for large applications.\nexport function filterOutLocationComponentFilters(\n  componentFilters: Array<ComponentFilter>,\n): Array<ComponentFilter> {\n  // This is just an additional check to preserve the previous state\n  // Filters can be stored on the backend side or in user land (in a window object)\n  if (!Array.isArray(componentFilters)) {\n    return componentFilters;\n  }\n\n  return componentFilters.filter(f => f.type !== ComponentFilterLocation);\n}\n\nfunction parseBool(s: ?string): ?boolean {\n  if (s === 'true') {\n    return true;\n  }\n  if (s === 'false') {\n    return false;\n  }\n}\n\nexport function castBool(v: any): ?boolean {\n  if (v === true || v === false) {\n    return v;\n  }\n}\n\nexport function castBrowserTheme(v: any): ?BrowserTheme {\n  if (v === 'light' || v === 'dark' || v === 'auto') {\n    return v;\n  }\n}\n\nexport function getAppendComponentStack(): boolean {\n  const raw = localStorageGetItem(\n    LOCAL_STORAGE_SHOULD_APPEND_COMPONENT_STACK_KEY,\n  );\n  return parseBool(raw) ?? true;\n}\n\nexport function getBreakOnConsoleErrors(): boolean {\n  const raw = localStorageGetItem(LOCAL_STORAGE_SHOULD_BREAK_ON_CONSOLE_ERRORS);\n  return parseBool(raw) ?? false;\n}\n\nexport function getHideConsoleLogsInStrictMode(): boolean {\n  const raw = localStorageGetItem(\n    LOCAL_STORAGE_HIDE_CONSOLE_LOGS_IN_STRICT_MODE,\n  );\n  return parseBool(raw) ?? false;\n}\n\nexport function getShowInlineWarningsAndErrors(): boolean {\n  const raw = localStorageGetItem(\n    LOCAL_STORAGE_SHOW_INLINE_WARNINGS_AND_ERRORS_KEY,\n  );\n  return parseBool(raw) ?? true;\n}\n\nexport function getDefaultOpenInEditorURL(): string {\n  return typeof process.env.EDITOR_URL === 'string'\n    ? process.env.EDITOR_URL\n    : '';\n}\n\nexport function getOpenInEditorURL(): string {\n  try {\n    const raw = localStorageGetItem(LOCAL_STORAGE_OPEN_IN_EDITOR_URL);\n    if (raw != null) {\n      return JSON.parse(raw);\n    }\n  } catch (error) {}\n  return getDefaultOpenInEditorURL();\n}\n\ntype ParseElementDisplayNameFromBackendReturn = {\n  formattedDisplayName: string | null,\n  hocDisplayNames: Array<string> | null,\n  compiledWithForget: boolean,\n};\nexport function parseElementDisplayNameFromBackend(\n  displayName: string | null,\n  type: ElementType,\n): ParseElementDisplayNameFromBackendReturn {\n  if (displayName === null) {\n    return {\n      formattedDisplayName: null,\n      hocDisplayNames: null,\n      compiledWithForget: false,\n    };\n  }\n\n  if (displayName.startsWith('Forget(')) {\n    const displayNameWithoutForgetWrapper = displayName.slice(\n      7,\n      displayName.length - 1,\n    );\n\n    const {formattedDisplayName, hocDisplayNames} =\n      parseElementDisplayNameFromBackend(displayNameWithoutForgetWrapper, type);\n    return {formattedDisplayName, hocDisplayNames, compiledWithForget: true};\n  }\n\n  let hocDisplayNames = null;\n  switch (type) {\n    case ElementTypeClass:\n    case ElementTypeForwardRef:\n    case ElementTypeFunction:\n    case ElementTypeMemo:\n      if (displayName.indexOf('(') >= 0) {\n        const matches = displayName.match(/[^()]+/g);\n        if (matches != null) {\n          displayName = matches.pop();\n          hocDisplayNames = matches;\n        }\n      }\n      break;\n    default:\n      break;\n  }\n\n  return {\n    formattedDisplayName: displayName,\n    hocDisplayNames,\n    compiledWithForget: false,\n  };\n}\n\n// Pulled from react-compat\n// https://github.com/developit/preact-compat/blob/7c5de00e7c85e2ffd011bf3af02899b63f699d3a/src/index.js#L349\nexport function shallowDiffers(prev: Object, next: Object): boolean {\n  for (const attribute in prev) {\n    if (!(attribute in next)) {\n      return true;\n    }\n  }\n  for (const attribute in next) {\n    if (prev[attribute] !== next[attribute]) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport function getInObject(object: Object, path: Array<string | number>): any {\n  return path.reduce((reduced: Object, attr: any): any => {\n    if (reduced) {\n      if (hasOwnProperty.call(reduced, attr)) {\n        return reduced[attr];\n      }\n      if (typeof reduced[Symbol.iterator] === 'function') {\n        // Convert iterable to array and return array[index]\n        //\n        // TRICKY\n        // Don't use [...spread] syntax for this purpose.\n        // This project uses @babel/plugin-transform-spread in \"loose\" mode which only works with Array values.\n        // Other types (e.g. typed arrays, Sets) will not spread correctly.\n        return Array.from(reduced)[attr];\n      }\n    }\n\n    return null;\n  }, object);\n}\n\nexport function deletePathInObject(\n  object: Object,\n  path: Array<string | number>,\n) {\n  const length = path.length;\n  const last = path[length - 1];\n  if (object != null) {\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (parent) {\n      if (isArray(parent)) {\n        parent.splice(((last: any): number), 1);\n      } else {\n        delete parent[last];\n      }\n    }\n  }\n}\n\nexport function renamePathInObject(\n  object: Object,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n) {\n  const length = oldPath.length;\n  if (object != null) {\n    const parent = getInObject(object, oldPath.slice(0, length - 1));\n    if (parent) {\n      const lastOld = oldPath[length - 1];\n      const lastNew = newPath[length - 1];\n      parent[lastNew] = parent[lastOld];\n      if (isArray(parent)) {\n        parent.splice(((lastOld: any): number), 1);\n      } else {\n        delete parent[lastOld];\n      }\n    }\n  }\n}\n\nexport function setInObject(\n  object: Object,\n  path: Array<string | number>,\n  value: any,\n) {\n  const length = path.length;\n  const last = path[length - 1];\n  if (object != null) {\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (parent) {\n      parent[last] = value;\n    }\n  }\n}\n\nexport type DataType =\n  | 'array'\n  | 'array_buffer'\n  | 'bigint'\n  | 'boolean'\n  | 'class_instance'\n  | 'data_view'\n  | 'date'\n  | 'function'\n  | 'html_all_collection'\n  | 'html_element'\n  | 'infinity'\n  | 'iterator'\n  | 'opaque_iterator'\n  | 'nan'\n  | 'null'\n  | 'number'\n  | 'object'\n  | 'react_element'\n  | 'regexp'\n  | 'string'\n  | 'symbol'\n  | 'typed_array'\n  | 'undefined'\n  | 'unknown';\n\n/**\n * Get a enhanced/artificial type string based on the object instance\n */\nexport function getDataType(data: Object): DataType {\n  if (data === null) {\n    return 'null';\n  } else if (data === undefined) {\n    return 'undefined';\n  }\n\n  if (isElement(data)) {\n    return 'react_element';\n  }\n\n  if (typeof HTMLElement !== 'undefined' && data instanceof HTMLElement) {\n    return 'html_element';\n  }\n\n  const type = typeof data;\n  switch (type) {\n    case 'bigint':\n      return 'bigint';\n    case 'boolean':\n      return 'boolean';\n    case 'function':\n      return 'function';\n    case 'number':\n      if (Number.isNaN(data)) {\n        return 'nan';\n      } else if (!Number.isFinite(data)) {\n        return 'infinity';\n      } else {\n        return 'number';\n      }\n    case 'object':\n      if (isArray(data)) {\n        return 'array';\n      } else if (ArrayBuffer.isView(data)) {\n        return hasOwnProperty.call(data.constructor, 'BYTES_PER_ELEMENT')\n          ? 'typed_array'\n          : 'data_view';\n      } else if (data.constructor && data.constructor.name === 'ArrayBuffer') {\n        // HACK This ArrayBuffer check is gross; is there a better way?\n        // We could try to create a new DataView with the value.\n        // If it doesn't error, we know it's an ArrayBuffer,\n        // but this seems kind of awkward and expensive.\n        return 'array_buffer';\n      } else if (typeof data[Symbol.iterator] === 'function') {\n        const iterator = data[Symbol.iterator]();\n        if (!iterator) {\n          // Proxies might break assumptoins about iterators.\n          // See github.com/facebook/react/issues/21654\n        } else {\n          return iterator === data ? 'opaque_iterator' : 'iterator';\n        }\n      } else if (data.constructor && data.constructor.name === 'RegExp') {\n        return 'regexp';\n      } else {\n        // $FlowFixMe[method-unbinding]\n        const toStringValue = Object.prototype.toString.call(data);\n        if (toStringValue === '[object Date]') {\n          return 'date';\n        } else if (toStringValue === '[object HTMLAllCollection]') {\n          return 'html_all_collection';\n        }\n      }\n\n      if (!isPlainObject(data)) {\n        return 'class_instance';\n      }\n\n      return 'object';\n    case 'string':\n      return 'string';\n    case 'symbol':\n      return 'symbol';\n    case 'undefined':\n      if (\n        // $FlowFixMe[method-unbinding]\n        Object.prototype.toString.call(data) === '[object HTMLAllCollection]'\n      ) {\n        return 'html_all_collection';\n      }\n      return 'undefined';\n    default:\n      return 'unknown';\n  }\n}\n\nexport function getDisplayNameForReactElement(\n  element: React$Element<any>,\n): string | null {\n  const elementType = typeOf(element);\n  switch (elementType) {\n    case ContextConsumer:\n      return 'ContextConsumer';\n    case ContextProvider:\n      return 'ContextProvider';\n    case ForwardRef:\n      return 'ForwardRef';\n    case Fragment:\n      return 'Fragment';\n    case Lazy:\n      return 'Lazy';\n    case Memo:\n      return 'Memo';\n    case Portal:\n      return 'Portal';\n    case Profiler:\n      return 'Profiler';\n    case StrictMode:\n      return 'StrictMode';\n    case Suspense:\n      return 'Suspense';\n    case SuspenseList:\n      return 'SuspenseList';\n    case TracingMarker:\n      return 'TracingMarker';\n    default:\n      const {type} = element;\n      if (typeof type === 'string') {\n        return type;\n      } else if (typeof type === 'function') {\n        return getDisplayName(type, 'Anonymous');\n      } else if (type != null) {\n        return 'NotImplementedInDevtools';\n      } else {\n        return 'Element';\n      }\n  }\n}\n\nconst MAX_PREVIEW_STRING_LENGTH = 50;\n\nfunction truncateForDisplay(\n  string: string,\n  length: number = MAX_PREVIEW_STRING_LENGTH,\n) {\n  if (string.length > length) {\n    return string.slice(0, length) + '';\n  } else {\n    return string;\n  }\n}\n\n// Attempts to mimic Chrome's inline preview for values.\n// For example, the following value...\n//   {\n//      foo: 123,\n//      bar: \"abc\",\n//      baz: [true, false],\n//      qux: { ab: 1, cd: 2 }\n//   };\n//\n// Would show a preview of...\n//   {foo: 123, bar: \"abc\", baz: Array(2), qux: {}}\n//\n// And the following value...\n//   [\n//     123,\n//     \"abc\",\n//     [true, false],\n//     { foo: 123, bar: \"abc\" }\n//   ];\n//\n// Would show a preview of...\n//   [123, \"abc\", Array(2), {}]\nexport function formatDataForPreview(\n  data: any,\n  showFormattedValue: boolean,\n): string {\n  if (data != null && hasOwnProperty.call(data, meta.type)) {\n    return showFormattedValue\n      ? data[meta.preview_long]\n      : data[meta.preview_short];\n  }\n\n  const type = getDataType(data);\n\n  switch (type) {\n    case 'html_element':\n      return `<${truncateForDisplay(data.tagName.toLowerCase())} />`;\n    case 'function':\n      return truncateForDisplay(\n        ` ${typeof data.name === 'function' ? '' : data.name}() {}`,\n      );\n    case 'string':\n      return `\"${data}\"`;\n    case 'bigint':\n      return truncateForDisplay(data.toString() + 'n');\n    case 'regexp':\n      return truncateForDisplay(data.toString());\n    case 'symbol':\n      return truncateForDisplay(data.toString());\n    case 'react_element':\n      return `<${truncateForDisplay(\n        getDisplayNameForReactElement(data) || 'Unknown',\n      )} />`;\n    case 'array_buffer':\n      return `ArrayBuffer(${data.byteLength})`;\n    case 'data_view':\n      return `DataView(${data.buffer.byteLength})`;\n    case 'array':\n      if (showFormattedValue) {\n        let formatted = '';\n        for (let i = 0; i < data.length; i++) {\n          if (i > 0) {\n            formatted += ', ';\n          }\n          formatted += formatDataForPreview(data[i], false);\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n        return `[${truncateForDisplay(formatted)}]`;\n      } else {\n        const length = hasOwnProperty.call(data, meta.size)\n          ? data[meta.size]\n          : data.length;\n        return `Array(${length})`;\n      }\n    case 'typed_array':\n      const shortName = `${data.constructor.name}(${data.length})`;\n      if (showFormattedValue) {\n        let formatted = '';\n        for (let i = 0; i < data.length; i++) {\n          if (i > 0) {\n            formatted += ', ';\n          }\n          formatted += data[i];\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n        return `${shortName} [${truncateForDisplay(formatted)}]`;\n      } else {\n        return shortName;\n      }\n    case 'iterator':\n      const name = data.constructor.name;\n\n      if (showFormattedValue) {\n        // TRICKY\n        // Don't use [...spread] syntax for this purpose.\n        // This project uses @babel/plugin-transform-spread in \"loose\" mode which only works with Array values.\n        // Other types (e.g. typed arrays, Sets) will not spread correctly.\n        const array = Array.from(data);\n\n        let formatted = '';\n        for (let i = 0; i < array.length; i++) {\n          const entryOrEntries = array[i];\n\n          if (i > 0) {\n            formatted += ', ';\n          }\n\n          // TRICKY\n          // Browsers display Maps and Sets differently.\n          // To mimic their behavior, detect if we've been given an entries tuple.\n          //   Map(2) {\"abc\" => 123, \"def\" => 123}\n          //   Set(2) {\"abc\", 123}\n          if (isArray(entryOrEntries)) {\n            const key = formatDataForPreview(entryOrEntries[0], true);\n            const value = formatDataForPreview(entryOrEntries[1], false);\n            formatted += `${key} => ${value}`;\n          } else {\n            formatted += formatDataForPreview(entryOrEntries, false);\n          }\n\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n\n        return `${name}(${data.size}) {${truncateForDisplay(formatted)}}`;\n      } else {\n        return `${name}(${data.size})`;\n      }\n    case 'opaque_iterator': {\n      return data[Symbol.toStringTag];\n    }\n    case 'date':\n      return data.toString();\n    case 'class_instance':\n      return data.constructor.name;\n    case 'object':\n      if (showFormattedValue) {\n        const keys = Array.from(getAllEnumerableKeys(data)).sort(alphaSortKeys);\n\n        let formatted = '';\n        for (let i = 0; i < keys.length; i++) {\n          const key = keys[i];\n          if (i > 0) {\n            formatted += ', ';\n          }\n          formatted += `${key.toString()}: ${formatDataForPreview(\n            data[key],\n            false,\n          )}`;\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n        return `{${truncateForDisplay(formatted)}}`;\n      } else {\n        return '{}';\n      }\n    case 'boolean':\n    case 'number':\n    case 'infinity':\n    case 'nan':\n    case 'null':\n    case 'undefined':\n      return data;\n    default:\n      try {\n        return truncateForDisplay(String(data));\n      } catch (error) {\n        return 'unserializable';\n      }\n  }\n}\n\n// Basically checking that the object only has Object in its prototype chain\nexport const isPlainObject = (object: Object): boolean => {\n  const objectPrototype = Object.getPrototypeOf(object);\n  if (!objectPrototype) return true;\n\n  const objectParentPrototype = Object.getPrototypeOf(objectPrototype);\n  return !objectParentPrototype;\n};\n\nexport function backendToFrontendSerializedElementMapper(\n  element: SerializedElementBackend,\n): SerializedElementFrontend {\n  const {formattedDisplayName, hocDisplayNames, compiledWithForget} =\n    parseElementDisplayNameFromBackend(element.displayName, element.type);\n\n  return {\n    ...element,\n    displayName: formattedDisplayName,\n    hocDisplayNames,\n    compiledWithForget,\n  };\n}\n\n// This is a hacky one to just support this exact case.\nexport function normalizeUrl(url: string): string {\n  return url.replace('/./', '/');\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {\n  getDataType,\n  getDisplayNameForReactElement,\n  getAllEnumerableKeys,\n  getInObject,\n  formatDataForPreview,\n  setInObject,\n} from 'react-devtools-shared/src/utils';\n\nimport type {\n  DehydratedData,\n  InspectedElementPath,\n} from 'react-devtools-shared/src/frontend/types';\n\nexport const meta = {\n  inspectable: (Symbol('inspectable'): symbol),\n  inspected: (Symbol('inspected'): symbol),\n  name: (Symbol('name'): symbol),\n  preview_long: (Symbol('preview_long'): symbol),\n  preview_short: (Symbol('preview_short'): symbol),\n  readonly: (Symbol('readonly'): symbol),\n  size: (Symbol('size'): symbol),\n  type: (Symbol('type'): symbol),\n  unserializable: (Symbol('unserializable'): symbol),\n};\n\nexport type Dehydrated = {\n  inspectable: boolean,\n  name: string | null,\n  preview_long: string | null,\n  preview_short: string | null,\n  readonly?: boolean,\n  size?: number,\n  type: string,\n};\n\n// Typed arrays and other complex iteratable objects (e.g. Map, Set, ImmutableJS) need special handling.\n// These objects can't be serialized without losing type information,\n// so a \"Unserializable\" type wrapper is used (with meta-data keys) to send nested values-\n// while preserving the original type and name.\nexport type Unserializable = {\n  name: string | null,\n  preview_long: string | null,\n  preview_short: string | null,\n  readonly?: boolean,\n  size?: number,\n  type: string,\n  unserializable: boolean,\n  [string | number]: any,\n};\n\n// This threshold determines the depth at which the bridge \"dehydrates\" nested data.\n// Dehydration means that we don't serialize the data for e.g. postMessage or stringify,\n// unless the frontend explicitly requests it (e.g. a user clicks to expand a props object).\n//\n// Reducing this threshold will improve the speed of initial component inspection,\n// but may decrease the responsiveness of expanding objects/arrays to inspect further.\nconst LEVEL_THRESHOLD = 2;\n\n/**\n * Generate the dehydrated metadata for complex object instances\n */\nfunction createDehydrated(\n  type: string,\n  inspectable: boolean,\n  data: Object,\n  cleaned: Array<Array<string | number>>,\n  path: Array<string | number>,\n): Dehydrated {\n  cleaned.push(path);\n\n  const dehydrated: Dehydrated = {\n    inspectable,\n    type,\n    preview_long: formatDataForPreview(data, true),\n    preview_short: formatDataForPreview(data, false),\n    name:\n      !data.constructor || data.constructor.name === 'Object'\n        ? ''\n        : data.constructor.name,\n  };\n\n  if (type === 'array' || type === 'typed_array') {\n    dehydrated.size = data.length;\n  } else if (type === 'object') {\n    dehydrated.size = Object.keys(data).length;\n  }\n\n  if (type === 'iterator' || type === 'typed_array') {\n    dehydrated.readonly = true;\n  }\n\n  return dehydrated;\n}\n\n/**\n * Strip out complex data (instances, functions, and data nested > LEVEL_THRESHOLD levels deep).\n * The paths of the stripped out objects are appended to the `cleaned` list.\n * On the other side of the barrier, the cleaned list is used to \"re-hydrate\" the cleaned representation into\n * an object with symbols as attributes, so that a sanitized object can be distinguished from a normal object.\n *\n * Input: {\"some\": {\"attr\": fn()}, \"other\": AnInstance}\n * Output: {\n *   \"some\": {\n *     \"attr\": {\"name\": the fn.name, type: \"function\"}\n *   },\n *   \"other\": {\n *     \"name\": \"AnInstance\",\n *     \"type\": \"object\",\n *   },\n * }\n * and cleaned = [[\"some\", \"attr\"], [\"other\"]]\n */\nexport function dehydrate(\n  data: Object,\n  cleaned: Array<Array<string | number>>,\n  unserializable: Array<Array<string | number>>,\n  path: Array<string | number>,\n  isPathAllowed: (path: Array<string | number>) => boolean,\n  level: number = 0,\n): $PropertyType<DehydratedData, 'data'> {\n  const type = getDataType(data);\n\n  let isPathAllowedCheck;\n\n  switch (type) {\n    case 'html_element':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.tagName,\n        type,\n      };\n\n    case 'function':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name:\n          typeof data.name === 'function' || !data.name\n            ? 'function'\n            : data.name,\n        type,\n      };\n\n    case 'string':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (isPathAllowedCheck) {\n        return data;\n      } else {\n        return data.length <= 500 ? data : data.slice(0, 500) + '...';\n      }\n\n    case 'bigint':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'symbol':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    // React Elements aren't very inspector-friendly,\n    // and often contain private fields or circular references.\n    case 'react_element':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: getDisplayNameForReactElement(data) || 'Unknown',\n        type,\n      };\n\n    // ArrayBuffers error if you try to inspect them.\n    case 'array_buffer':\n    case 'data_view':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: type === 'data_view' ? 'DataView' : 'ArrayBuffer',\n        size: data.byteLength,\n        type,\n      };\n\n    case 'array':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      }\n      return data.map((item, i) =>\n        dehydrate(\n          item,\n          cleaned,\n          unserializable,\n          path.concat([i]),\n          isPathAllowed,\n          isPathAllowedCheck ? 1 : level + 1,\n        ),\n      );\n\n    case 'html_all_collection':\n    case 'typed_array':\n    case 'iterator':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      } else {\n        const unserializableValue: Unserializable = {\n          unserializable: true,\n          type: type,\n          readonly: true,\n          size: type === 'typed_array' ? data.length : undefined,\n          preview_short: formatDataForPreview(data, false),\n          preview_long: formatDataForPreview(data, true),\n          name:\n            !data.constructor || data.constructor.name === 'Object'\n              ? ''\n              : data.constructor.name,\n        };\n\n        // TRICKY\n        // Don't use [...spread] syntax for this purpose.\n        // This project uses @babel/plugin-transform-spread in \"loose\" mode which only works with Array values.\n        // Other types (e.g. typed arrays, Sets) will not spread correctly.\n        Array.from(data).forEach(\n          (item, i) =>\n            (unserializableValue[i] = dehydrate(\n              item,\n              cleaned,\n              unserializable,\n              path.concat([i]),\n              isPathAllowed,\n              isPathAllowedCheck ? 1 : level + 1,\n            )),\n        );\n\n        unserializable.push(path);\n\n        return unserializableValue;\n      }\n\n    case 'opaque_iterator':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data[Symbol.toStringTag],\n        type,\n      };\n\n    case 'date':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'regexp':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'object':\n      isPathAllowedCheck = isPathAllowed(path);\n\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      } else {\n        const object: {\n          [string]: $PropertyType<DehydratedData, 'data'>,\n        } = {};\n        getAllEnumerableKeys(data).forEach(key => {\n          const name = key.toString();\n          object[name] = dehydrate(\n            data[key],\n            cleaned,\n            unserializable,\n            path.concat([name]),\n            isPathAllowed,\n            isPathAllowedCheck ? 1 : level + 1,\n          );\n        });\n        return object;\n      }\n\n    case 'class_instance':\n      isPathAllowedCheck = isPathAllowed(path);\n\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      }\n\n      const value: Unserializable = {\n        unserializable: true,\n        type,\n        readonly: true,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.constructor.name,\n      };\n\n      getAllEnumerableKeys(data).forEach(key => {\n        const keyAsString = key.toString();\n\n        value[keyAsString] = dehydrate(\n          data[key],\n          cleaned,\n          unserializable,\n          path.concat([keyAsString]),\n          isPathAllowed,\n          isPathAllowedCheck ? 1 : level + 1,\n        );\n      });\n\n      unserializable.push(path);\n\n      return value;\n\n    case 'infinity':\n    case 'nan':\n    case 'undefined':\n      // Some values are lossy when sent through a WebSocket.\n      // We dehydrate+rehydrate them to preserve their type.\n      cleaned.push(path);\n      return {type};\n\n    default:\n      return data;\n  }\n}\n\nexport function fillInPath(\n  object: Object,\n  data: DehydratedData,\n  path: InspectedElementPath,\n  value: any,\n) {\n  const target = getInObject(object, path);\n  if (target != null) {\n    if (!target[meta.unserializable]) {\n      delete target[meta.inspectable];\n      delete target[meta.inspected];\n      delete target[meta.name];\n      delete target[meta.preview_long];\n      delete target[meta.preview_short];\n      delete target[meta.readonly];\n      delete target[meta.size];\n      delete target[meta.type];\n    }\n  }\n\n  if (value !== null && data.unserializable.length > 0) {\n    const unserializablePath = data.unserializable[0];\n    let isMatch = unserializablePath.length === path.length;\n    for (let i = 0; i < path.length; i++) {\n      if (path[i] !== unserializablePath[i]) {\n        isMatch = false;\n        break;\n      }\n    }\n    if (isMatch) {\n      upgradeUnserializable(value, value);\n    }\n  }\n\n  setInObject(object, path, value);\n}\n\nexport function hydrate(\n  object: any,\n  cleaned: Array<Array<string | number>>,\n  unserializable: Array<Array<string | number>>,\n): Object {\n  cleaned.forEach((path: Array<string | number>) => {\n    const length = path.length;\n    const last = path[length - 1];\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (!parent || !parent.hasOwnProperty(last)) {\n      return;\n    }\n\n    const value = parent[last];\n\n    if (!value) {\n      return;\n    } else if (value.type === 'infinity') {\n      parent[last] = Infinity;\n    } else if (value.type === 'nan') {\n      parent[last] = NaN;\n    } else if (value.type === 'undefined') {\n      parent[last] = undefined;\n    } else {\n      // Replace the string keys with Symbols so they're non-enumerable.\n      const replaced: {[key: symbol]: boolean | string} = {};\n      replaced[meta.inspectable] = !!value.inspectable;\n      replaced[meta.inspected] = false;\n      replaced[meta.name] = value.name;\n      replaced[meta.preview_long] = value.preview_long;\n      replaced[meta.preview_short] = value.preview_short;\n      replaced[meta.size] = value.size;\n      replaced[meta.readonly] = !!value.readonly;\n      replaced[meta.type] = value.type;\n\n      parent[last] = replaced;\n    }\n  });\n  unserializable.forEach((path: Array<string | number>) => {\n    const length = path.length;\n    const last = path[length - 1];\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (!parent || !parent.hasOwnProperty(last)) {\n      return;\n    }\n\n    const node = parent[last];\n\n    const replacement = {\n      ...node,\n    };\n\n    upgradeUnserializable(replacement, node);\n\n    parent[last] = replacement;\n  });\n  return object;\n}\n\nfunction upgradeUnserializable(destination: Object, source: Object) {\n  Object.defineProperties(destination, {\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.inspected]: {\n      configurable: true,\n      enumerable: false,\n      value: !!source.inspected,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.name]: {\n      configurable: true,\n      enumerable: false,\n      value: source.name,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.preview_long]: {\n      configurable: true,\n      enumerable: false,\n      value: source.preview_long,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.preview_short]: {\n      configurable: true,\n      enumerable: false,\n      value: source.preview_short,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.size]: {\n      configurable: true,\n      enumerable: false,\n      value: source.size,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.readonly]: {\n      configurable: true,\n      enumerable: false,\n      value: !!source.readonly,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.type]: {\n      configurable: true,\n      enumerable: false,\n      value: source.type,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.unserializable]: {\n      configurable: true,\n      enumerable: false,\n      value: !!source.unserializable,\n    },\n  });\n\n  delete destination.inspected;\n  delete destination.name;\n  delete destination.preview_long;\n  delete destination.preview_short;\n  delete destination.size;\n  delete destination.readonly;\n  delete destination.type;\n  delete destination.unserializable;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\ndeclare function isArray(a: mixed): boolean %checks(Array.isArray(a));\n\nconst isArrayImpl = Array.isArray;\n\n// eslint-disable-next-line no-redeclare\nfunction isArray(a: mixed): boolean {\n  return isArrayImpl(a);\n}\n\nexport default isArray;\n","/**\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {compareVersions} from 'compare-versions';\nimport {dehydrate} from '../hydration';\nimport isArray from 'shared/isArray';\n\nimport type {Source} from 'react-devtools-shared/src/shared/types';\nimport type {DehydratedData} from 'react-devtools-shared/src/frontend/types';\n\n// TODO: update this to the first React version that has a corresponding DevTools backend\nconst FIRST_DEVTOOLS_BACKEND_LOCKSTEP_VER = '999.9.9';\nexport function hasAssignedBackend(version?: string): boolean {\n  if (version == null || version === '') {\n    return false;\n  }\n  return gte(version, FIRST_DEVTOOLS_BACKEND_LOCKSTEP_VER);\n}\n\nexport function cleanForBridge(\n  data: Object | null,\n  isPathAllowed: (path: Array<string | number>) => boolean,\n  path: Array<string | number> = [],\n): DehydratedData | null {\n  if (data !== null) {\n    const cleanedPaths: Array<Array<string | number>> = [];\n    const unserializablePaths: Array<Array<string | number>> = [];\n    const cleanedData = dehydrate(\n      data,\n      cleanedPaths,\n      unserializablePaths,\n      path,\n      isPathAllowed,\n    );\n\n    return {\n      data: cleanedData,\n      cleaned: cleanedPaths,\n      unserializable: unserializablePaths,\n    };\n  } else {\n    return null;\n  }\n}\n\nexport function copyWithDelete(\n  obj: Object | Array<any>,\n  path: Array<string | number>,\n  index: number = 0,\n): Object | Array<any> {\n  const key = path[index];\n  const updated = isArray(obj) ? obj.slice() : {...obj};\n  if (index + 1 === path.length) {\n    if (isArray(updated)) {\n      updated.splice(((key: any): number), 1);\n    } else {\n      delete updated[key];\n    }\n  } else {\n    // $FlowFixMe[incompatible-use] number or string is fine here\n    updated[key] = copyWithDelete(obj[key], path, index + 1);\n  }\n  return updated;\n}\n\n// This function expects paths to be the same except for the final value.\n// e.g. ['path', 'to', 'foo'] and ['path', 'to', 'bar']\nexport function copyWithRename(\n  obj: Object | Array<any>,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n  index: number = 0,\n): Object | Array<any> {\n  const oldKey = oldPath[index];\n  const updated = isArray(obj) ? obj.slice() : {...obj};\n  if (index + 1 === oldPath.length) {\n    const newKey = newPath[index];\n    // $FlowFixMe[incompatible-use] number or string is fine here\n    updated[newKey] = updated[oldKey];\n    if (isArray(updated)) {\n      updated.splice(((oldKey: any): number), 1);\n    } else {\n      delete updated[oldKey];\n    }\n  } else {\n    // $FlowFixMe[incompatible-use] number or string is fine here\n    updated[oldKey] = copyWithRename(obj[oldKey], oldPath, newPath, index + 1);\n  }\n  return updated;\n}\n\nexport function copyWithSet(\n  obj: Object | Array<any>,\n  path: Array<string | number>,\n  value: any,\n  index: number = 0,\n): Object | Array<any> {\n  if (index >= path.length) {\n    return value;\n  }\n  const key = path[index];\n  const updated = isArray(obj) ? obj.slice() : {...obj};\n  // $FlowFixMe[incompatible-use] number or string is fine here\n  updated[key] = copyWithSet(obj[key], path, value, index + 1);\n  return updated;\n}\n\nexport function getEffectDurations(root: Object): {\n  effectDuration: any | null,\n  passiveEffectDuration: any | null,\n} {\n  // Profiling durations are only available for certain builds.\n  // If available, they'll be stored on the HostRoot.\n  let effectDuration = null;\n  let passiveEffectDuration = null;\n  const hostRoot = root.current;\n  if (hostRoot != null) {\n    const stateNode = hostRoot.stateNode;\n    if (stateNode != null) {\n      effectDuration =\n        stateNode.effectDuration != null ? stateNode.effectDuration : null;\n      passiveEffectDuration =\n        stateNode.passiveEffectDuration != null\n          ? stateNode.passiveEffectDuration\n          : null;\n    }\n  }\n  return {effectDuration, passiveEffectDuration};\n}\n\nexport function serializeToString(data: any): string {\n  if (data === undefined) {\n    return 'undefined';\n  }\n\n  const cache = new Set<mixed>();\n  // Use a custom replacer function to protect against circular references.\n  return JSON.stringify(\n    data,\n    (key, value) => {\n      if (typeof value === 'object' && value !== null) {\n        if (cache.has(value)) {\n          return;\n        }\n        cache.add(value);\n      }\n      if (typeof value === 'bigint') {\n        return value.toString() + 'n';\n      }\n      return value;\n    },\n    2,\n  );\n}\n\n// Formats an array of args with a style for console methods, using\n// the following algorithm:\n//     1. The first param is a string that contains %c\n//          - Bail out and return the args without modifying the styles.\n//            We don't want to affect styles that the developer deliberately set.\n//     2. The first param is a string that doesn't contain %c but contains\n//        string formatting\n//          - [`%c${args[0]}`, style, ...args.slice(1)]\n//          - Note: we assume that the string formatting that the developer uses\n//            is correct.\n//     3. The first param is a string that doesn't contain string formatting\n//        OR is not a string\n//          - Create a formatting string where:\n//                 boolean, string, symbol -> %s\n//                 number -> %f OR %i depending on if it's an int or float\n//                 default -> %o\nexport function formatWithStyles(\n  inputArgs: $ReadOnlyArray<any>,\n  style?: string,\n): $ReadOnlyArray<any> {\n  if (\n    inputArgs === undefined ||\n    inputArgs === null ||\n    inputArgs.length === 0 ||\n    // Matches any of %c but not %%c\n    (typeof inputArgs[0] === 'string' && inputArgs[0].match(/([^%]|^)(%c)/g)) ||\n    style === undefined\n  ) {\n    return inputArgs;\n  }\n\n  // Matches any of %(o|O|d|i|s|f), but not %%(o|O|d|i|s|f)\n  const REGEXP = /([^%]|^)((%%)*)(%([oOdisf]))/g;\n  if (typeof inputArgs[0] === 'string' && inputArgs[0].match(REGEXP)) {\n    return [`%c${inputArgs[0]}`, style, ...inputArgs.slice(1)];\n  } else {\n    const firstArg = inputArgs.reduce((formatStr, elem, i) => {\n      if (i > 0) {\n        formatStr += ' ';\n      }\n      switch (typeof elem) {\n        case 'string':\n        case 'boolean':\n        case 'symbol':\n          return (formatStr += '%s');\n        case 'number':\n          const formatting = Number.isInteger(elem) ? '%i' : '%f';\n          return (formatStr += formatting);\n        default:\n          return (formatStr += '%o');\n      }\n    }, '%c');\n    return [firstArg, style, ...inputArgs];\n  }\n}\n\n// based on https://github.com/tmpfs/format-util/blob/0e62d430efb0a1c51448709abd3e2406c14d8401/format.js#L1\n// based on https://developer.mozilla.org/en-US/docs/Web/API/console#Using_string_substitutions\n// Implements s, d, i and f placeholders\n// NOTE: KEEP IN SYNC with src/hook.js\nexport function format(\n  maybeMessage: any,\n  ...inputArgs: $ReadOnlyArray<any>\n): string {\n  const args = inputArgs.slice();\n\n  let formatted: string = String(maybeMessage);\n\n  // If the first argument is a string, check for substitutions.\n  if (typeof maybeMessage === 'string') {\n    if (args.length) {\n      const REGEXP = /(%?)(%([jds]))/g;\n\n      formatted = formatted.replace(REGEXP, (match, escaped, ptn, flag) => {\n        let arg = args.shift();\n        switch (flag) {\n          case 's':\n            arg += '';\n            break;\n          case 'd':\n          case 'i':\n            arg = parseInt(arg, 10).toString();\n            break;\n          case 'f':\n            arg = parseFloat(arg).toString();\n            break;\n        }\n        if (!escaped) {\n          return arg;\n        }\n        args.unshift(arg);\n        return match;\n      });\n    }\n  }\n\n  // Arguments that remain after formatting.\n  if (args.length) {\n    for (let i = 0; i < args.length; i++) {\n      formatted += ' ' + String(args[i]);\n    }\n  }\n\n  // Update escaped %% values.\n  formatted = formatted.replace(/%{2,2}/g, '%');\n\n  return String(formatted);\n}\n\nexport function isSynchronousXHRSupported(): boolean {\n  return !!(\n    window.document &&\n    window.document.featurePolicy &&\n    window.document.featurePolicy.allowsFeature('sync-xhr')\n  );\n}\n\nexport function gt(a: string = '', b: string = ''): boolean {\n  return compareVersions(a, b) === 1;\n}\n\nexport function gte(a: string = '', b: string = ''): boolean {\n  return compareVersions(a, b) > -1;\n}\n\nexport const isReactNativeEnvironment = (): boolean => {\n  // We've been relying on this for such a long time\n  // We should probably define the client for DevTools on the backend side and share it with the frontend\n  return window.document == null;\n};\n\nfunction extractLocation(\n  url: string,\n): null | {sourceURL: string, line?: string, column?: string} {\n  if (url.indexOf(':') === -1) {\n    return null;\n  }\n\n  // remove any parentheses from start and end\n  const withoutParentheses = url.replace(/^\\(+/, '').replace(/\\)+$/, '');\n  const locationParts = /(at )?(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(\n    withoutParentheses,\n  );\n\n  if (locationParts == null) {\n    return null;\n  }\n\n  const [, , sourceURL, line, column] = locationParts;\n  return {sourceURL, line, column};\n}\n\nconst CHROME_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\nfunction parseSourceFromChromeStack(stack: string): Source | null {\n  const frames = stack.split('\\n');\n  // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n  for (const frame of frames) {\n    const sanitizedFrame = frame.trim();\n\n    const locationInParenthesesMatch = sanitizedFrame.match(/ (\\(.+\\)$)/);\n    const possibleLocation = locationInParenthesesMatch\n      ? locationInParenthesesMatch[1]\n      : sanitizedFrame;\n\n    const location = extractLocation(possibleLocation);\n    // Continue the search until at least sourceURL is found\n    if (location == null) {\n      continue;\n    }\n\n    const {sourceURL, line = '1', column = '1'} = location;\n\n    return {\n      sourceURL,\n      line: parseInt(line, 10),\n      column: parseInt(column, 10),\n    };\n  }\n\n  return null;\n}\n\nfunction parseSourceFromFirefoxStack(stack: string): Source | null {\n  const frames = stack.split('\\n');\n  // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n  for (const frame of frames) {\n    const sanitizedFrame = frame.trim();\n    const frameWithoutFunctionName = sanitizedFrame.replace(\n      /((.*\".+\"[^@]*)?[^@]*)(?:@)/,\n      '',\n    );\n\n    const location = extractLocation(frameWithoutFunctionName);\n    // Continue the search until at least sourceURL is found\n    if (location == null) {\n      continue;\n    }\n\n    const {sourceURL, line = '1', column = '1'} = location;\n\n    return {\n      sourceURL,\n      line: parseInt(line, 10),\n      column: parseInt(column, 10),\n    };\n  }\n\n  return null;\n}\n\nexport function parseSourceFromComponentStack(\n  componentStack: string,\n): Source | null {\n  if (componentStack.match(CHROME_STACK_REGEXP)) {\n    return parseSourceFromChromeStack(componentStack);\n  }\n\n  return parseSourceFromFirefoxStack(componentStack);\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport interface Rect {\n  bottom: number;\n  height: number;\n  left: number;\n  right: number;\n  top: number;\n  width: number;\n}\n\n// Get the window object for the document that a node belongs to,\n// or return null if it cannot be found (node not attached to DOM,\n// etc).\nexport function getOwnerWindow(node: HTMLElement): typeof window | null {\n  if (!node.ownerDocument) {\n    return null;\n  }\n  return node.ownerDocument.defaultView;\n}\n\n// Get the iframe containing a node, or return null if it cannot\n// be found (node not within iframe, etc).\nexport function getOwnerIframe(node: HTMLElement): HTMLElement | null {\n  const nodeWindow = getOwnerWindow(node);\n  if (nodeWindow) {\n    return nodeWindow.frameElement;\n  }\n  return null;\n}\n\n// Get a bounding client rect for a node, with an\n// offset added to compensate for its border.\nexport function getBoundingClientRectWithBorderOffset(node: HTMLElement): Rect {\n  const dimensions = getElementDimensions(node);\n  return mergeRectOffsets([\n    node.getBoundingClientRect(),\n    {\n      top: dimensions.borderTop,\n      left: dimensions.borderLeft,\n      bottom: dimensions.borderBottom,\n      right: dimensions.borderRight,\n      // This width and height won't get used by mergeRectOffsets (since this\n      // is not the first rect in the array), but we set them so that this\n      // object type checks as a ClientRect.\n      width: 0,\n      height: 0,\n    },\n  ]);\n}\n\n// Add together the top, left, bottom, and right properties of\n// each ClientRect, but keep the width and height of the first one.\nexport function mergeRectOffsets(rects: Array<Rect>): Rect {\n  return rects.reduce((previousRect, rect) => {\n    if (previousRect == null) {\n      return rect;\n    }\n\n    return {\n      top: previousRect.top + rect.top,\n      left: previousRect.left + rect.left,\n      width: previousRect.width,\n      height: previousRect.height,\n      bottom: previousRect.bottom + rect.bottom,\n      right: previousRect.right + rect.right,\n    };\n  });\n}\n\n// Calculate a boundingClientRect for a node relative to boundaryWindow,\n// taking into account any offsets caused by intermediate iframes.\nexport function getNestedBoundingClientRect(\n  node: HTMLElement,\n  boundaryWindow: typeof window,\n): Rect {\n  const ownerIframe = getOwnerIframe(node);\n  if (ownerIframe && ownerIframe !== boundaryWindow) {\n    const rects: Array<Rect | ClientRect> = [node.getBoundingClientRect()];\n    let currentIframe: null | HTMLElement = ownerIframe;\n    let onlyOneMore = false;\n    while (currentIframe) {\n      const rect = getBoundingClientRectWithBorderOffset(currentIframe);\n      rects.push(rect);\n      currentIframe = getOwnerIframe(currentIframe);\n\n      if (onlyOneMore) {\n        break;\n      }\n      // We don't want to calculate iframe offsets upwards beyond\n      // the iframe containing the boundaryWindow, but we\n      // need to calculate the offset relative to the boundaryWindow.\n      if (currentIframe && getOwnerWindow(currentIframe) === boundaryWindow) {\n        onlyOneMore = true;\n      }\n    }\n\n    return mergeRectOffsets(rects);\n  } else {\n    return node.getBoundingClientRect();\n  }\n}\n\nexport function getElementDimensions(domElement: Element): {\n  borderBottom: number,\n  borderLeft: number,\n  borderRight: number,\n  borderTop: number,\n  marginBottom: number,\n  marginLeft: number,\n  marginRight: number,\n  marginTop: number,\n  paddingBottom: number,\n  paddingLeft: number,\n  paddingRight: number,\n  paddingTop: number,\n} {\n  const calculatedStyle = window.getComputedStyle(domElement);\n  return {\n    borderLeft: parseInt(calculatedStyle.borderLeftWidth, 10),\n    borderRight: parseInt(calculatedStyle.borderRightWidth, 10),\n    borderTop: parseInt(calculatedStyle.borderTopWidth, 10),\n    borderBottom: parseInt(calculatedStyle.borderBottomWidth, 10),\n    marginLeft: parseInt(calculatedStyle.marginLeft, 10),\n    marginRight: parseInt(calculatedStyle.marginRight, 10),\n    marginTop: parseInt(calculatedStyle.marginTop, 10),\n    marginBottom: parseInt(calculatedStyle.marginBottom, 10),\n    paddingLeft: parseInt(calculatedStyle.paddingLeft, 10),\n    paddingRight: parseInt(calculatedStyle.paddingRight, 10),\n    paddingTop: parseInt(calculatedStyle.paddingTop, 10),\n    paddingBottom: parseInt(calculatedStyle.paddingBottom, 10),\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {getElementDimensions, getNestedBoundingClientRect} from '../utils';\n\nimport type {Rect} from '../utils';\nimport type Agent from 'react-devtools-shared/src/backend/agent';\n\ntype Box = {top: number, left: number, width: number, height: number};\n\nconst assign = Object.assign;\n\n// Note that the Overlay components are not affected by the active Theme,\n// because they highlight elements in the main Chrome window (outside of devtools).\n// The colors below were chosen to roughly match those used by Chrome devtools.\n\nclass OverlayRect {\n  node: HTMLElement;\n  border: HTMLElement;\n  padding: HTMLElement;\n  content: HTMLElement;\n\n  constructor(doc: Document, container: HTMLElement) {\n    this.node = doc.createElement('div');\n    this.border = doc.createElement('div');\n    this.padding = doc.createElement('div');\n    this.content = doc.createElement('div');\n\n    this.border.style.borderColor = overlayStyles.border;\n    this.padding.style.borderColor = overlayStyles.padding;\n    this.content.style.backgroundColor = overlayStyles.background;\n\n    assign(this.node.style, {\n      borderColor: overlayStyles.margin,\n      pointerEvents: 'none',\n      position: 'fixed',\n    });\n\n    this.node.style.zIndex = '10000000';\n\n    this.node.appendChild(this.border);\n    this.border.appendChild(this.padding);\n    this.padding.appendChild(this.content);\n    container.appendChild(this.node);\n  }\n\n  remove() {\n    if (this.node.parentNode) {\n      this.node.parentNode.removeChild(this.node);\n    }\n  }\n\n  update(box: Rect, dims: any) {\n    boxWrap(dims, 'margin', this.node);\n    boxWrap(dims, 'border', this.border);\n    boxWrap(dims, 'padding', this.padding);\n\n    assign(this.content.style, {\n      height:\n        box.height -\n        dims.borderTop -\n        dims.borderBottom -\n        dims.paddingTop -\n        dims.paddingBottom +\n        'px',\n      width:\n        box.width -\n        dims.borderLeft -\n        dims.borderRight -\n        dims.paddingLeft -\n        dims.paddingRight +\n        'px',\n    });\n\n    assign(this.node.style, {\n      top: box.top - dims.marginTop + 'px',\n      left: box.left - dims.marginLeft + 'px',\n    });\n  }\n}\n\nclass OverlayTip {\n  tip: HTMLElement;\n  nameSpan: HTMLElement;\n  dimSpan: HTMLElement;\n\n  constructor(doc: Document, container: HTMLElement) {\n    this.tip = doc.createElement('div');\n    assign(this.tip.style, {\n      display: 'flex',\n      flexFlow: 'row nowrap',\n      backgroundColor: '#333740',\n      borderRadius: '2px',\n      fontFamily:\n        '\"SFMono-Regular\", Consolas, \"Liberation Mono\", Menlo, Courier, monospace',\n      fontWeight: 'bold',\n      padding: '3px 5px',\n      pointerEvents: 'none',\n      position: 'fixed',\n      fontSize: '12px',\n      whiteSpace: 'nowrap',\n    });\n\n    this.nameSpan = doc.createElement('span');\n    this.tip.appendChild(this.nameSpan);\n    assign(this.nameSpan.style, {\n      color: '#ee78e6',\n      borderRight: '1px solid #aaaaaa',\n      paddingRight: '0.5rem',\n      marginRight: '0.5rem',\n    });\n    this.dimSpan = doc.createElement('span');\n    this.tip.appendChild(this.dimSpan);\n    assign(this.dimSpan.style, {\n      color: '#d7d7d7',\n    });\n\n    this.tip.style.zIndex = '10000000';\n    container.appendChild(this.tip);\n  }\n\n  remove() {\n    if (this.tip.parentNode) {\n      this.tip.parentNode.removeChild(this.tip);\n    }\n  }\n\n  updateText(name: string, width: number, height: number) {\n    this.nameSpan.textContent = name;\n    this.dimSpan.textContent =\n      Math.round(width) + 'px  ' + Math.round(height) + 'px';\n  }\n\n  updatePosition(dims: Box, bounds: Box) {\n    const tipRect = this.tip.getBoundingClientRect();\n    const tipPos = findTipPos(dims, bounds, {\n      width: tipRect.width,\n      height: tipRect.height,\n    });\n    assign(this.tip.style, tipPos.style);\n  }\n}\n\nexport default class Overlay {\n  window: any;\n  tipBoundsWindow: any;\n  container: HTMLElement;\n  tip: OverlayTip;\n  rects: Array<OverlayRect>;\n  agent: Agent;\n\n  constructor(agent: Agent) {\n    // Find the root window, because overlays are positioned relative to it.\n    const currentWindow = window.__REACT_DEVTOOLS_TARGET_WINDOW__ || window;\n    this.window = currentWindow;\n\n    // When opened in shells/dev, the tooltip should be bound by the app iframe, not by the topmost window.\n    const tipBoundsWindow = window.__REACT_DEVTOOLS_TARGET_WINDOW__ || window;\n    this.tipBoundsWindow = tipBoundsWindow;\n\n    const doc = currentWindow.document;\n    this.container = doc.createElement('div');\n    this.container.style.zIndex = '10000000';\n\n    this.tip = new OverlayTip(doc, this.container);\n    this.rects = [];\n\n    this.agent = agent;\n\n    doc.body.appendChild(this.container);\n  }\n\n  remove() {\n    this.tip.remove();\n    this.rects.forEach(rect => {\n      rect.remove();\n    });\n    this.rects.length = 0;\n    if (this.container.parentNode) {\n      this.container.parentNode.removeChild(this.container);\n    }\n  }\n\n  inspect(nodes: Array<HTMLElement>, name?: ?string) {\n    // We can't get the size of text nodes or comment nodes. React as of v15\n    // heavily uses comment nodes to delimit text.\n    const elements = nodes.filter(node => node.nodeType === Node.ELEMENT_NODE);\n\n    while (this.rects.length > elements.length) {\n      const rect = this.rects.pop();\n      rect.remove();\n    }\n    if (elements.length === 0) {\n      return;\n    }\n\n    while (this.rects.length < elements.length) {\n      this.rects.push(new OverlayRect(this.window.document, this.container));\n    }\n\n    const outerBox = {\n      top: Number.POSITIVE_INFINITY,\n      right: Number.NEGATIVE_INFINITY,\n      bottom: Number.NEGATIVE_INFINITY,\n      left: Number.POSITIVE_INFINITY,\n    };\n    elements.forEach((element, index) => {\n      const box = getNestedBoundingClientRect(element, this.window);\n      const dims = getElementDimensions(element);\n\n      outerBox.top = Math.min(outerBox.top, box.top - dims.marginTop);\n      outerBox.right = Math.max(\n        outerBox.right,\n        box.left + box.width + dims.marginRight,\n      );\n      outerBox.bottom = Math.max(\n        outerBox.bottom,\n        box.top + box.height + dims.marginBottom,\n      );\n      outerBox.left = Math.min(outerBox.left, box.left - dims.marginLeft);\n\n      const rect = this.rects[index];\n      rect.update(box, dims);\n    });\n\n    if (!name) {\n      name = elements[0].nodeName.toLowerCase();\n\n      const node = elements[0];\n      const rendererInterface =\n        this.agent.getBestMatchingRendererInterface(node);\n      if (rendererInterface) {\n        const id = rendererInterface.getFiberIDForNative(node, true);\n        if (id) {\n          const ownerName = rendererInterface.getDisplayNameForFiberID(\n            id,\n            true,\n          );\n          if (ownerName) {\n            name += ' (in ' + ownerName + ')';\n          }\n        }\n      }\n    }\n\n    this.tip.updateText(\n      name,\n      outerBox.right - outerBox.left,\n      outerBox.bottom - outerBox.top,\n    );\n    const tipBounds = getNestedBoundingClientRect(\n      this.tipBoundsWindow.document.documentElement,\n      this.window,\n    );\n\n    this.tip.updatePosition(\n      {\n        top: outerBox.top,\n        left: outerBox.left,\n        height: outerBox.bottom - outerBox.top,\n        width: outerBox.right - outerBox.left,\n      },\n      {\n        top: tipBounds.top + this.tipBoundsWindow.scrollY,\n        left: tipBounds.left + this.tipBoundsWindow.scrollX,\n        height: this.tipBoundsWindow.innerHeight,\n        width: this.tipBoundsWindow.innerWidth,\n      },\n    );\n  }\n}\n\nfunction findTipPos(\n  dims: Box,\n  bounds: Box,\n  tipSize: {height: number, width: number},\n) {\n  const tipHeight = Math.max(tipSize.height, 20);\n  const tipWidth = Math.max(tipSize.width, 60);\n  const margin = 5;\n\n  let top: number | string;\n  if (dims.top + dims.height + tipHeight <= bounds.top + bounds.height) {\n    if (dims.top + dims.height < bounds.top + 0) {\n      top = bounds.top + margin;\n    } else {\n      top = dims.top + dims.height + margin;\n    }\n  } else if (dims.top - tipHeight <= bounds.top + bounds.height) {\n    if (dims.top - tipHeight - margin < bounds.top + margin) {\n      top = bounds.top + margin;\n    } else {\n      top = dims.top - tipHeight - margin;\n    }\n  } else {\n    top = bounds.top + bounds.height - tipHeight - margin;\n  }\n\n  let left: number | string = dims.left + margin;\n  if (dims.left < bounds.left) {\n    left = bounds.left + margin;\n  }\n  if (dims.left + tipWidth > bounds.left + bounds.width) {\n    left = bounds.left + bounds.width - tipWidth - margin;\n  }\n\n  top += 'px';\n  left += 'px';\n  return {\n    style: {top, left},\n  };\n}\n\nfunction boxWrap(dims: any, what: string, node: HTMLElement) {\n  assign(node.style, {\n    borderTopWidth: dims[what + 'Top'] + 'px',\n    borderLeftWidth: dims[what + 'Left'] + 'px',\n    borderRightWidth: dims[what + 'Right'] + 'px',\n    borderBottomWidth: dims[what + 'Bottom'] + 'px',\n    borderStyle: 'solid',\n  });\n}\n\nconst overlayStyles = {\n  background: 'rgba(120, 170, 210, 0.7)',\n  padding: 'rgba(77, 200, 0, 0.3)',\n  margin: 'rgba(255, 155, 0, 0.3)',\n  border: 'rgba(255, 200, 50, 0.3)',\n};\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type Agent from 'react-devtools-shared/src/backend/agent';\n\nimport {isReactNativeEnvironment} from 'react-devtools-shared/src/backend/utils';\n\nimport Overlay from './Overlay';\n\nconst SHOW_DURATION = 2000;\n\nlet timeoutID: TimeoutID | null = null;\nlet overlay: Overlay | null = null;\n\nfunction hideOverlayNative(agent: Agent): void {\n  agent.emit('hideNativeHighlight');\n}\n\nfunction hideOverlayWeb(): void {\n  timeoutID = null;\n\n  if (overlay !== null) {\n    overlay.remove();\n    overlay = null;\n  }\n}\n\nexport function hideOverlay(agent: Agent): void {\n  return isReactNativeEnvironment()\n    ? hideOverlayNative(agent)\n    : hideOverlayWeb();\n}\n\nfunction showOverlayNative(elements: Array<HTMLElement>, agent: Agent): void {\n  agent.emit('showNativeHighlight', elements);\n}\n\nfunction showOverlayWeb(\n  elements: Array<HTMLElement>,\n  componentName: string | null,\n  agent: Agent,\n  hideAfterTimeout: boolean,\n): void {\n  if (timeoutID !== null) {\n    clearTimeout(timeoutID);\n  }\n\n  if (overlay === null) {\n    overlay = new Overlay(agent);\n  }\n\n  overlay.inspect(elements, componentName);\n\n  if (hideAfterTimeout) {\n    timeoutID = setTimeout(() => hideOverlay(agent), SHOW_DURATION);\n  }\n}\n\nexport function showOverlay(\n  elements: Array<HTMLElement>,\n  componentName: string | null,\n  agent: Agent,\n  hideAfterTimeout: boolean,\n): void {\n  return isReactNativeEnvironment()\n    ? showOverlayNative(elements, agent)\n    : showOverlayWeb(elements, componentName, agent, hideAfterTimeout);\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport memoize from 'memoize-one';\nimport throttle from 'lodash.throttle';\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport {hideOverlay, showOverlay} from './Highlighter';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\n\n// This plug-in provides in-page highlighting of the selected element.\n// It is used by the browser extension and the standalone DevTools shell (when connected to a browser).\n// It is not currently the mechanism used to highlight React Native views.\n// That is done by the React Native Inspector component.\n\nlet iframesListeningTo: Set<HTMLIFrameElement> = new Set();\n\nexport default function setupHighlighter(\n  bridge: BackendBridge,\n  agent: Agent,\n): void {\n  bridge.addListener(\n    'clearNativeElementHighlight',\n    clearNativeElementHighlight,\n  );\n  bridge.addListener('highlightNativeElement', highlightNativeElement);\n  bridge.addListener('shutdown', stopInspectingNative);\n  bridge.addListener('startInspectingNative', startInspectingNative);\n  bridge.addListener('stopInspectingNative', stopInspectingNative);\n\n  function startInspectingNative() {\n    registerListenersOnWindow(window);\n  }\n\n  function registerListenersOnWindow(window: any) {\n    // This plug-in may run in non-DOM environments (e.g. React Native).\n    if (window && typeof window.addEventListener === 'function') {\n      window.addEventListener('click', onClick, true);\n      window.addEventListener('mousedown', onMouseEvent, true);\n      window.addEventListener('mouseover', onMouseEvent, true);\n      window.addEventListener('mouseup', onMouseEvent, true);\n      window.addEventListener('pointerdown', onPointerDown, true);\n      window.addEventListener('pointermove', onPointerMove, true);\n      window.addEventListener('pointerup', onPointerUp, true);\n    } else {\n      agent.emit('startInspectingNative');\n    }\n  }\n\n  function stopInspectingNative() {\n    hideOverlay(agent);\n    removeListenersOnWindow(window);\n    iframesListeningTo.forEach(function (frame) {\n      try {\n        removeListenersOnWindow(frame.contentWindow);\n      } catch (error) {\n        // This can error when the iframe is on a cross-origin.\n      }\n    });\n    iframesListeningTo = new Set();\n  }\n\n  function removeListenersOnWindow(window: any) {\n    // This plug-in may run in non-DOM environments (e.g. React Native).\n    if (window && typeof window.removeEventListener === 'function') {\n      window.removeEventListener('click', onClick, true);\n      window.removeEventListener('mousedown', onMouseEvent, true);\n      window.removeEventListener('mouseover', onMouseEvent, true);\n      window.removeEventListener('mouseup', onMouseEvent, true);\n      window.removeEventListener('pointerdown', onPointerDown, true);\n      window.removeEventListener('pointermove', onPointerMove, true);\n      window.removeEventListener('pointerup', onPointerUp, true);\n    } else {\n      agent.emit('stopInspectingNative');\n    }\n  }\n\n  function clearNativeElementHighlight() {\n    hideOverlay(agent);\n  }\n\n  function highlightNativeElement({\n    displayName,\n    hideAfterTimeout,\n    id,\n    openNativeElementsPanel,\n    rendererID,\n    scrollIntoView,\n  }: {\n    displayName: string | null,\n    hideAfterTimeout: boolean,\n    id: number,\n    openNativeElementsPanel: boolean,\n    rendererID: number,\n    scrollIntoView: boolean,\n    ...\n  }) {\n    const renderer = agent.rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n\n      hideOverlay(agent);\n      return;\n    }\n\n    // In some cases fiber may already be unmounted\n    if (!renderer.hasFiberWithId(id)) {\n      hideOverlay(agent);\n      return;\n    }\n\n    const nodes: ?Array<HTMLElement> = (renderer.findNativeNodesForFiberID(\n      id,\n    ): any);\n\n    if (nodes != null && nodes[0] != null) {\n      const node = nodes[0];\n      // $FlowFixMe[method-unbinding]\n      if (scrollIntoView && typeof node.scrollIntoView === 'function') {\n        // If the node isn't visible show it before highlighting it.\n        // We may want to reconsider this; it might be a little disruptive.\n        node.scrollIntoView({block: 'nearest', inline: 'nearest'});\n      }\n\n      showOverlay(nodes, displayName, agent, hideAfterTimeout);\n\n      if (openNativeElementsPanel) {\n        window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$0 = node;\n        bridge.send('syncSelectionToNativeElementsPanel');\n      }\n    } else {\n      hideOverlay(agent);\n    }\n  }\n\n  function onClick(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    stopInspectingNative();\n\n    bridge.send('stopInspectingNative', true);\n  }\n\n  function onMouseEvent(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  function onPointerDown(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    selectFiberForNode(getEventTarget(event));\n  }\n\n  let lastHoveredNode: HTMLElement | null = null;\n  function onPointerMove(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    const target: HTMLElement = getEventTarget(event);\n    if (lastHoveredNode === target) return;\n    lastHoveredNode = target;\n\n    if (target.tagName === 'IFRAME') {\n      const iframe: HTMLIFrameElement = (target: any);\n      try {\n        if (!iframesListeningTo.has(iframe)) {\n          const window = iframe.contentWindow;\n          registerListenersOnWindow(window);\n          iframesListeningTo.add(iframe);\n        }\n      } catch (error) {\n        // This can error when the iframe is on a cross-origin.\n      }\n    }\n\n    // Don't pass the name explicitly.\n    // It will be inferred from DOM tag and Fiber owner.\n    showOverlay([target], null, agent, false);\n\n    selectFiberForNode(target);\n  }\n\n  function onPointerUp(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  const selectFiberForNode = throttle(\n    memoize((node: HTMLElement) => {\n      const id = agent.getIDForNode(node);\n      if (id !== null) {\n        bridge.send('selectFiber', id);\n      }\n    }),\n    200,\n    // Don't change the selection in the very first 200ms\n    // because those are usually unintentional as you lift the cursor.\n    {leading: false},\n  );\n\n  function getEventTarget(event: MouseEvent): HTMLElement {\n    if (event.composed) {\n      return (event.composedPath()[0]: any);\n    }\n\n    return (event.target: any);\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Data} from './index';\nimport type {Rect} from '../utils';\nimport type {NativeType} from '../../types';\nimport type Agent from '../../agent';\n\nimport {isReactNativeEnvironment} from 'react-devtools-shared/src/backend/utils';\n\nconst OUTLINE_COLOR = '#f0f0f0';\n\n// Note these colors are in sync with DevTools Profiler chart colors.\nconst COLORS = [\n  '#37afa9',\n  '#63b19e',\n  '#80b393',\n  '#97b488',\n  '#abb67d',\n  '#beb771',\n  '#cfb965',\n  '#dfba57',\n  '#efbb49',\n  '#febc38',\n];\n\nlet canvas: HTMLCanvasElement | null = null;\n\nfunction drawNative(nodeToData: Map<NativeType, Data>, agent: Agent) {\n  const nodesToDraw = [];\n  iterateNodes(nodeToData, (_, color, node) => {\n    nodesToDraw.push({node, color});\n  });\n\n  agent.emit('drawTraceUpdates', nodesToDraw);\n}\n\nfunction drawWeb(nodeToData: Map<NativeType, Data>) {\n  if (canvas === null) {\n    initialize();\n  }\n\n  const canvasFlow: HTMLCanvasElement = ((canvas: any): HTMLCanvasElement);\n  canvasFlow.width = window.innerWidth;\n  canvasFlow.height = window.innerHeight;\n\n  const context = canvasFlow.getContext('2d');\n  context.clearRect(0, 0, canvasFlow.width, canvasFlow.height);\n  iterateNodes(nodeToData, (rect, color) => {\n    if (rect !== null) {\n      drawBorder(context, rect, color);\n    }\n  });\n}\n\nexport function draw(nodeToData: Map<NativeType, Data>, agent: Agent): void {\n  return isReactNativeEnvironment()\n    ? drawNative(nodeToData, agent)\n    : drawWeb(nodeToData);\n}\n\nfunction iterateNodes(\n  nodeToData: Map<NativeType, Data>,\n  execute: (rect: Rect | null, color: string, node: NativeType) => void,\n) {\n  nodeToData.forEach(({count, rect}, node) => {\n    const colorIndex = Math.min(COLORS.length - 1, count - 1);\n    const color = COLORS[colorIndex];\n    execute(rect, color, node);\n  });\n}\n\nfunction drawBorder(\n  context: CanvasRenderingContext2D,\n  rect: Rect,\n  color: string,\n): void {\n  const {height, left, top, width} = rect;\n\n  // outline\n  context.lineWidth = 1;\n  context.strokeStyle = OUTLINE_COLOR;\n\n  context.strokeRect(left - 1, top - 1, width + 2, height + 2);\n\n  // inset\n  context.lineWidth = 1;\n  context.strokeStyle = OUTLINE_COLOR;\n  context.strokeRect(left + 1, top + 1, width - 1, height - 1);\n  context.strokeStyle = color;\n\n  context.setLineDash([0]);\n\n  // border\n  context.lineWidth = 1;\n  context.strokeRect(left, top, width - 1, height - 1);\n\n  context.setLineDash([0]);\n}\n\nfunction destroyNative(agent: Agent) {\n  agent.emit('disableTraceUpdates');\n}\n\nfunction destroyWeb() {\n  if (canvas !== null) {\n    if (canvas.parentNode != null) {\n      canvas.parentNode.removeChild(canvas);\n    }\n    canvas = null;\n  }\n}\n\nexport function destroy(agent: Agent): void {\n  return isReactNativeEnvironment() ? destroyNative(agent) : destroyWeb();\n}\n\nfunction initialize(): void {\n  canvas = window.document.createElement('canvas');\n  canvas.style.cssText = `\n    xx-background-color: red;\n    xx-opacity: 0.5;\n    bottom: 0;\n    left: 0;\n    pointer-events: none;\n    position: fixed;\n    right: 0;\n    top: 0;\n    z-index: 1000000000;\n  `;\n\n  const root = window.document.documentElement;\n  root.insertBefore(canvas, root.firstChild);\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport {destroy as destroyCanvas, draw} from './canvas';\nimport {getNestedBoundingClientRect} from '../utils';\n\nimport type {NativeType} from '../../types';\nimport type {Rect} from '../utils';\n\n// How long the rect should be shown for?\nconst DISPLAY_DURATION = 250;\n\n// What's the longest we are willing to show the overlay for?\n// This can be important if we're getting a flurry of events (e.g. scroll update).\nconst MAX_DISPLAY_DURATION = 3000;\n\n// How long should a rect be considered valid for?\nconst REMEASUREMENT_AFTER_DURATION = 250;\n\n// Some environments (e.g. React Native / Hermes) don't support the performance API yet.\nconst getCurrentTime =\n  // $FlowFixMe[method-unbinding]\n  typeof performance === 'object' && typeof performance.now === 'function'\n    ? () => performance.now()\n    : () => Date.now();\n\nexport type Data = {\n  count: number,\n  expirationTime: number,\n  lastMeasuredAt: number,\n  rect: Rect | null,\n};\n\nconst nodeToData: Map<NativeType, Data> = new Map();\n\nlet agent: Agent = ((null: any): Agent);\nlet drawAnimationFrameID: AnimationFrameID | null = null;\nlet isEnabled: boolean = false;\nlet redrawTimeoutID: TimeoutID | null = null;\n\nexport function initialize(injectedAgent: Agent): void {\n  agent = injectedAgent;\n  agent.addListener('traceUpdates', traceUpdates);\n}\n\nexport function toggleEnabled(value: boolean): void {\n  isEnabled = value;\n\n  if (!isEnabled) {\n    nodeToData.clear();\n\n    if (drawAnimationFrameID !== null) {\n      cancelAnimationFrame(drawAnimationFrameID);\n      drawAnimationFrameID = null;\n    }\n\n    if (redrawTimeoutID !== null) {\n      clearTimeout(redrawTimeoutID);\n      redrawTimeoutID = null;\n    }\n\n    destroyCanvas(agent);\n  }\n}\n\nfunction traceUpdates(nodes: Set<NativeType>): void {\n  if (!isEnabled) {\n    return;\n  }\n\n  nodes.forEach(node => {\n    const data = nodeToData.get(node);\n    const now = getCurrentTime();\n\n    let lastMeasuredAt = data != null ? data.lastMeasuredAt : 0;\n    let rect = data != null ? data.rect : null;\n    if (rect === null || lastMeasuredAt + REMEASUREMENT_AFTER_DURATION < now) {\n      lastMeasuredAt = now;\n      rect = measureNode(node);\n    }\n\n    nodeToData.set(node, {\n      count: data != null ? data.count + 1 : 1,\n      expirationTime:\n        data != null\n          ? Math.min(\n              now + MAX_DISPLAY_DURATION,\n              data.expirationTime + DISPLAY_DURATION,\n            )\n          : now + DISPLAY_DURATION,\n      lastMeasuredAt,\n      rect,\n    });\n  });\n\n  if (redrawTimeoutID !== null) {\n    clearTimeout(redrawTimeoutID);\n    redrawTimeoutID = null;\n  }\n\n  if (drawAnimationFrameID === null) {\n    drawAnimationFrameID = requestAnimationFrame(prepareToDraw);\n  }\n}\n\nfunction prepareToDraw(): void {\n  drawAnimationFrameID = null;\n  redrawTimeoutID = null;\n\n  const now = getCurrentTime();\n  let earliestExpiration = Number.MAX_VALUE;\n\n  // Remove any items that have already expired.\n  nodeToData.forEach((data, node) => {\n    if (data.expirationTime < now) {\n      nodeToData.delete(node);\n    } else {\n      earliestExpiration = Math.min(earliestExpiration, data.expirationTime);\n    }\n  });\n\n  draw(nodeToData, agent);\n\n  if (earliestExpiration !== Number.MAX_VALUE) {\n    redrawTimeoutID = setTimeout(prepareToDraw, earliestExpiration - now);\n  }\n}\n\nfunction measureNode(node: Object): Rect | null {\n  if (!node || typeof node.getBoundingClientRect !== 'function') {\n    return null;\n  }\n\n  const currentWindow = window.__REACT_DEVTOOLS_TARGET_WINDOW__ || window;\n\n  return getNestedBoundingClientRect(node, currentWindow);\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This list should be kept updated to reflect additions to 'shared/ReactSymbols'.\n// DevTools can't import symbols from 'shared/ReactSymbols' directly for two reasons:\n// 1. DevTools requires symbols which may have been deleted in more recent versions (e.g. concurrent mode)\n// 2. DevTools must support both Symbol and numeric forms of each symbol;\n//    Since e.g. standalone DevTools runs in a separate process, it can't rely on its own ES capabilities.\n\nexport const CONCURRENT_MODE_NUMBER = 0xeacf;\nexport const CONCURRENT_MODE_SYMBOL_STRING = 'Symbol(react.concurrent_mode)';\n\nexport const CONTEXT_NUMBER = 0xeace;\nexport const CONTEXT_SYMBOL_STRING = 'Symbol(react.context)';\n\nexport const SERVER_CONTEXT_SYMBOL_STRING = 'Symbol(react.server_context)';\n\nexport const DEPRECATED_ASYNC_MODE_SYMBOL_STRING = 'Symbol(react.async_mode)';\n\nexport const ELEMENT_NUMBER = 0xeac7;\nexport const ELEMENT_SYMBOL_STRING = 'Symbol(react.element)';\n\nexport const DEBUG_TRACING_MODE_NUMBER = 0xeae1;\nexport const DEBUG_TRACING_MODE_SYMBOL_STRING =\n  'Symbol(react.debug_trace_mode)';\n\nexport const FORWARD_REF_NUMBER = 0xead0;\nexport const FORWARD_REF_SYMBOL_STRING = 'Symbol(react.forward_ref)';\n\nexport const FRAGMENT_NUMBER = 0xeacb;\nexport const FRAGMENT_SYMBOL_STRING = 'Symbol(react.fragment)';\n\nexport const LAZY_NUMBER = 0xead4;\nexport const LAZY_SYMBOL_STRING = 'Symbol(react.lazy)';\n\nexport const MEMO_NUMBER = 0xead3;\nexport const MEMO_SYMBOL_STRING = 'Symbol(react.memo)';\n\nexport const PORTAL_NUMBER = 0xeaca;\nexport const PORTAL_SYMBOL_STRING = 'Symbol(react.portal)';\n\nexport const PROFILER_NUMBER = 0xead2;\nexport const PROFILER_SYMBOL_STRING = 'Symbol(react.profiler)';\n\nexport const PROVIDER_NUMBER = 0xeacd;\nexport const PROVIDER_SYMBOL_STRING = 'Symbol(react.provider)';\n\nexport const CONSUMER_SYMBOL_STRING = 'Symbol(react.consumer)';\n\nexport const SCOPE_NUMBER = 0xead7;\nexport const SCOPE_SYMBOL_STRING = 'Symbol(react.scope)';\n\nexport const STRICT_MODE_NUMBER = 0xeacc;\nexport const STRICT_MODE_SYMBOL_STRING = 'Symbol(react.strict_mode)';\n\nexport const SUSPENSE_NUMBER = 0xead1;\nexport const SUSPENSE_SYMBOL_STRING = 'Symbol(react.suspense)';\n\nexport const SUSPENSE_LIST_NUMBER = 0xead8;\nexport const SUSPENSE_LIST_SYMBOL_STRING = 'Symbol(react.suspense_list)';\n\nexport const SERVER_CONTEXT_DEFAULT_VALUE_NOT_LOADED_SYMBOL_STRING =\n  'Symbol(react.server_context.defaultValue)';\n\nexport const REACT_MEMO_CACHE_SENTINEL: symbol = Symbol.for(\n  'react.memo_cache_sentinel',\n);\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/************************************************************************\n * This file is forked between different DevTools implementations.\n * It should never be imported directly!\n * It should always be imported from \"react-devtools-feature-flags\".\n ************************************************************************/\n\nexport const consoleManagedByDevToolsDuringStrictMode = false;\nexport const enableLogger = false;\nexport const enableStyleXFeatures = false;\nexport const isInternalFacebookBuild = false;\n\n/************************************************************************\n * Do not edit the code below.\n * It ensures this fork exports the same types as the default flags file.\n ************************************************************************/\n\nimport typeof * as FeatureFlagsType from './DevToolsFeatureFlags.default';\nimport typeof * as ExportsType from './DevToolsFeatureFlags.core-oss';\n\n// Flow magic to verify the exports of this file match the original version.\n((((null: any): ExportsType): FeatureFlagsType): ExportsType);\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x: any, y: any) {\n  return (\n    (x === y && (x !== 0 || 1 / x === 1 / y)) || (x !== x && y !== y) // eslint-disable-line no-self-compare\n  );\n}\n\nconst objectIs: (x: any, y: any) => boolean =\n  // $FlowFixMe[method-unbinding]\n  typeof Object.is === 'function' ? Object.is : is;\n\nexport default objectIs;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// $FlowFixMe[method-unbinding]\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\nexport default hasOwnProperty;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {StyleXPlugin} from 'react-devtools-shared/src/frontend/types';\nimport isArray from 'react-devtools-shared/src/isArray';\n\nconst cachedStyleNameToValueMap: Map<string, string> = new Map();\n\nexport function getStyleXData(data: any): StyleXPlugin {\n  const sources = new Set<string>();\n  const resolvedStyles = {};\n\n  crawlData(data, sources, resolvedStyles);\n\n  return {\n    sources: Array.from(sources).sort(),\n    resolvedStyles,\n  };\n}\n\nexport function crawlData(\n  data: any,\n  sources: Set<string>,\n  resolvedStyles: Object,\n): void {\n  if (data == null) {\n    return;\n  }\n\n  if (isArray(data)) {\n    data.forEach(entry => {\n      if (entry == null) {\n        return;\n      }\n\n      if (isArray(entry)) {\n        crawlData(entry, sources, resolvedStyles);\n      } else {\n        crawlObjectProperties(entry, sources, resolvedStyles);\n      }\n    });\n  } else {\n    crawlObjectProperties(data, sources, resolvedStyles);\n  }\n\n  resolvedStyles = Object.fromEntries<string, any>(\n    Object.entries(resolvedStyles).sort(),\n  );\n}\n\nfunction crawlObjectProperties(\n  entry: Object,\n  sources: Set<string>,\n  resolvedStyles: Object,\n): void {\n  const keys = Object.keys(entry);\n  keys.forEach(key => {\n    const value = entry[key];\n    if (typeof value === 'string') {\n      if (key === value) {\n        // Special case; this key is the name of the style's source/file/module.\n        sources.add(key);\n      } else {\n        const propertyValue = getPropertyValueForStyleName(value);\n        if (propertyValue != null) {\n          resolvedStyles[key] = propertyValue;\n        }\n      }\n    } else {\n      const nestedStyle = {};\n      resolvedStyles[key] = nestedStyle;\n      crawlData([value], sources, nestedStyle);\n    }\n  });\n}\n\nfunction getPropertyValueForStyleName(styleName: string): string | null {\n  if (cachedStyleNameToValueMap.has(styleName)) {\n    return ((cachedStyleNameToValueMap.get(styleName): any): string);\n  }\n\n  for (\n    let styleSheetIndex = 0;\n    styleSheetIndex < document.styleSheets.length;\n    styleSheetIndex++\n  ) {\n    const styleSheet = ((document.styleSheets[\n      styleSheetIndex\n    ]: any): CSSStyleSheet);\n    let rules: CSSRuleList | null = null;\n    // this might throw if CORS rules are enforced https://www.w3.org/TR/cssom-1/#the-cssstylesheet-interface\n    try {\n      rules = styleSheet.cssRules;\n    } catch (_e) {\n      continue;\n    }\n\n    for (let ruleIndex = 0; ruleIndex < rules.length; ruleIndex++) {\n      if (!(rules[ruleIndex] instanceof CSSStyleRule)) {\n        continue;\n      }\n      const rule = ((rules[ruleIndex]: any): CSSStyleRule);\n      const {cssText, selectorText, style} = rule;\n\n      if (selectorText != null) {\n        if (selectorText.startsWith(`.${styleName}`)) {\n          const match = cssText.match(/{ *([a-z\\-]+):/);\n          if (match !== null) {\n            const property = match[1];\n            const value = style.getPropertyValue(property);\n\n            cachedStyleNameToValueMap.set(styleName, value);\n\n            return value;\n          } else {\n            return null;\n          }\n        }\n      }\n    }\n  }\n\n  return null;\n}\n","export const CHANGE_LOG_URL =\n  'https://github.com/facebook/react/blob/main/packages/react-devtools/CHANGELOG.md';\n\nexport const UNSUPPORTED_VERSION_URL =\n  'https://reactjs.org/blog/2019/08/15/new-react-devtools.html#how-do-i-get-the-old-version-back';\n\nexport const REACT_DEVTOOLS_WORKPLACE_URL =\n  'https://fburl.com/react-devtools-workplace-group';\n\nimport type {\n  Theme,\n  DisplayDensity,\n} from './devtools/views/Settings/SettingsContext';\n\nexport const THEME_STYLES: {[style: Theme | DisplayDensity]: any, ...} = {\n  light: {\n    '--color-attribute-name': '#ef6632',\n    '--color-attribute-name-not-editable': '#23272f',\n    '--color-attribute-name-inverted': 'rgba(255, 255, 255, 0.7)',\n    '--color-attribute-value': '#1a1aa6',\n    '--color-attribute-value-inverted': '#ffffff',\n    '--color-attribute-editable-value': '#1a1aa6',\n    '--color-background': '#ffffff',\n    '--color-background-hover': 'rgba(0, 136, 250, 0.1)',\n    '--color-background-inactive': '#e5e5e5',\n    '--color-background-invalid': '#fff0f0',\n    '--color-background-selected': '#0088fa',\n    '--color-button-background': '#ffffff',\n    '--color-button-background-focus': '#ededed',\n    '--color-button': '#5f6673',\n    '--color-button-disabled': '#cfd1d5',\n    '--color-button-active': '#0088fa',\n    '--color-button-focus': '#23272f',\n    '--color-button-hover': '#23272f',\n    '--color-border': '#eeeeee',\n    '--color-commit-did-not-render-fill': '#cfd1d5',\n    '--color-commit-did-not-render-fill-text': '#000000',\n    '--color-commit-did-not-render-pattern': '#cfd1d5',\n    '--color-commit-did-not-render-pattern-text': '#333333',\n    '--color-commit-gradient-0': '#37afa9',\n    '--color-commit-gradient-1': '#63b19e',\n    '--color-commit-gradient-2': '#80b393',\n    '--color-commit-gradient-3': '#97b488',\n    '--color-commit-gradient-4': '#abb67d',\n    '--color-commit-gradient-5': '#beb771',\n    '--color-commit-gradient-6': '#cfb965',\n    '--color-commit-gradient-7': '#dfba57',\n    '--color-commit-gradient-8': '#efbb49',\n    '--color-commit-gradient-9': '#febc38',\n    '--color-commit-gradient-text': '#000000',\n    '--color-component-name': '#6a51b2',\n    '--color-component-name-inverted': '#ffffff',\n    '--color-component-badge-background': 'rgba(0, 0, 0, 0.1)',\n    '--color-component-badge-background-inverted': 'rgba(255, 255, 255, 0.25)',\n    '--color-component-badge-count': '#777d88',\n    '--color-component-badge-count-inverted': 'rgba(255, 255, 255, 0.7)',\n    '--color-console-error-badge-text': '#ffffff',\n    '--color-console-error-background': '#fff0f0',\n    '--color-console-error-border': '#ffd6d6',\n    '--color-console-error-icon': '#eb3941',\n    '--color-console-error-text': '#fe2e31',\n    '--color-console-warning-badge-text': '#000000',\n    '--color-console-warning-background': '#fffbe5',\n    '--color-console-warning-border': '#fff5c1',\n    '--color-console-warning-icon': '#f4bd00',\n    '--color-console-warning-text': '#64460c',\n    '--color-context-background': 'rgba(0,0,0,.9)',\n    '--color-context-background-hover': 'rgba(255, 255, 255, 0.1)',\n    '--color-context-background-selected': '#178fb9',\n    '--color-context-border': '#3d424a',\n    '--color-context-text': '#ffffff',\n    '--color-context-text-selected': '#ffffff',\n    '--color-dim': '#777d88',\n    '--color-dimmer': '#cfd1d5',\n    '--color-dimmest': '#eff0f1',\n    '--color-error-background': 'hsl(0, 100%, 97%)',\n    '--color-error-border': 'hsl(0, 100%, 92%)',\n    '--color-error-text': '#ff0000',\n    '--color-expand-collapse-toggle': '#777d88',\n    '--color-forget-badge': '#2683E2',\n    '--color-link': '#0000ff',\n    '--color-modal-background': 'rgba(255, 255, 255, 0.75)',\n    '--color-bridge-version-npm-background': '#eff0f1',\n    '--color-bridge-version-npm-text': '#000000',\n    '--color-bridge-version-number': '#0088fa',\n    '--color-primitive-hook-badge-background': '#e5e5e5',\n    '--color-primitive-hook-badge-text': '#5f6673',\n    '--color-record-active': '#fc3a4b',\n    '--color-record-hover': '#3578e5',\n    '--color-record-inactive': '#0088fa',\n    '--color-resize-bar': '#eeeeee',\n    '--color-resize-bar-active': '#dcdcdc',\n    '--color-resize-bar-border': '#d1d1d1',\n    '--color-resize-bar-dot': '#333333',\n    '--color-timeline-internal-module': '#d1d1d1',\n    '--color-timeline-internal-module-hover': '#c9c9c9',\n    '--color-timeline-internal-module-text': '#444',\n    '--color-timeline-native-event': '#ccc',\n    '--color-timeline-native-event-hover': '#aaa',\n    '--color-timeline-network-primary': '#fcf3dc',\n    '--color-timeline-network-primary-hover': '#f0e7d1',\n    '--color-timeline-network-secondary': '#efc457',\n    '--color-timeline-network-secondary-hover': '#e3ba52',\n    '--color-timeline-priority-background': '#f6f6f6',\n    '--color-timeline-priority-border': '#eeeeee',\n    '--color-timeline-user-timing': '#c9cacd',\n    '--color-timeline-user-timing-hover': '#93959a',\n    '--color-timeline-react-idle': '#d3e5f6',\n    '--color-timeline-react-idle-hover': '#c3d9ef',\n    '--color-timeline-react-render': '#9fc3f3',\n    '--color-timeline-react-render-hover': '#83afe9',\n    '--color-timeline-react-render-text': '#11365e',\n    '--color-timeline-react-commit': '#c88ff0',\n    '--color-timeline-react-commit-hover': '#b281d6',\n    '--color-timeline-react-commit-text': '#3e2c4a',\n    '--color-timeline-react-layout-effects': '#b281d6',\n    '--color-timeline-react-layout-effects-hover': '#9d71bd',\n    '--color-timeline-react-layout-effects-text': '#3e2c4a',\n    '--color-timeline-react-passive-effects': '#b281d6',\n    '--color-timeline-react-passive-effects-hover': '#9d71bd',\n    '--color-timeline-react-passive-effects-text': '#3e2c4a',\n    '--color-timeline-react-schedule': '#9fc3f3',\n    '--color-timeline-react-schedule-hover': '#2683E2',\n    '--color-timeline-react-suspense-rejected': '#f1cc14',\n    '--color-timeline-react-suspense-rejected-hover': '#ffdf37',\n    '--color-timeline-react-suspense-resolved': '#a6e59f',\n    '--color-timeline-react-suspense-resolved-hover': '#89d281',\n    '--color-timeline-react-suspense-unresolved': '#c9cacd',\n    '--color-timeline-react-suspense-unresolved-hover': '#93959a',\n    '--color-timeline-thrown-error': '#ee1638',\n    '--color-timeline-thrown-error-hover': '#da1030',\n    '--color-timeline-text-color': '#000000',\n    '--color-timeline-text-dim-color': '#ccc',\n    '--color-timeline-react-work-border': '#eeeeee',\n    '--color-search-match': 'yellow',\n    '--color-search-match-current': '#f7923b',\n    '--color-selected-tree-highlight-active': 'rgba(0, 136, 250, 0.1)',\n    '--color-selected-tree-highlight-inactive': 'rgba(0, 0, 0, 0.05)',\n    '--color-scroll-caret': 'rgba(150, 150, 150, 0.5)',\n    '--color-tab-selected-border': '#0088fa',\n    '--color-text': '#000000',\n    '--color-text-invalid': '#ff0000',\n    '--color-text-selected': '#ffffff',\n    '--color-toggle-background-invalid': '#fc3a4b',\n    '--color-toggle-background-on': '#0088fa',\n    '--color-toggle-background-off': '#cfd1d5',\n    '--color-toggle-text': '#ffffff',\n    '--color-warning-background': '#fb3655',\n    '--color-warning-background-hover': '#f82042',\n    '--color-warning-text-color': '#ffffff',\n    '--color-warning-text-color-inverted': '#fd4d69',\n\n    // The styles below should be kept in sync with 'root.css'\n    // They are repeated there because they're used by e.g. tooltips or context menus\n    // which get rendered outside of the DOM subtree (where normal theme/styles are written).\n    '--color-scroll-thumb': '#c2c2c2',\n    '--color-scroll-track': '#fafafa',\n    '--color-tooltip-background': 'rgba(0, 0, 0, 0.9)',\n    '--color-tooltip-text': '#ffffff',\n  },\n  dark: {\n    '--color-attribute-name': '#9d87d2',\n    '--color-attribute-name-not-editable': '#ededed',\n    '--color-attribute-name-inverted': '#282828',\n    '--color-attribute-value': '#cedae0',\n    '--color-attribute-value-inverted': '#ffffff',\n    '--color-attribute-editable-value': 'yellow',\n    '--color-background': '#282c34',\n    '--color-background-hover': 'rgba(255, 255, 255, 0.1)',\n    '--color-background-inactive': '#3d424a',\n    '--color-background-invalid': '#5c0000',\n    '--color-background-selected': '#178fb9',\n    '--color-button-background': '#282c34',\n    '--color-button-background-focus': '#3d424a',\n    '--color-button': '#afb3b9',\n    '--color-button-active': '#61dafb',\n    '--color-button-disabled': '#4f5766',\n    '--color-button-focus': '#a2e9fc',\n    '--color-button-hover': '#ededed',\n    '--color-border': '#3d424a',\n    '--color-commit-did-not-render-fill': '#777d88',\n    '--color-commit-did-not-render-fill-text': '#000000',\n    '--color-commit-did-not-render-pattern': '#666c77',\n    '--color-commit-did-not-render-pattern-text': '#ffffff',\n    '--color-commit-gradient-0': '#37afa9',\n    '--color-commit-gradient-1': '#63b19e',\n    '--color-commit-gradient-2': '#80b393',\n    '--color-commit-gradient-3': '#97b488',\n    '--color-commit-gradient-4': '#abb67d',\n    '--color-commit-gradient-5': '#beb771',\n    '--color-commit-gradient-6': '#cfb965',\n    '--color-commit-gradient-7': '#dfba57',\n    '--color-commit-gradient-8': '#efbb49',\n    '--color-commit-gradient-9': '#febc38',\n    '--color-commit-gradient-text': '#000000',\n    '--color-component-name': '#61dafb',\n    '--color-component-name-inverted': '#282828',\n    '--color-component-badge-background': 'rgba(255, 255, 255, 0.25)',\n    '--color-component-badge-background-inverted': 'rgba(0, 0, 0, 0.25)',\n    '--color-component-badge-count': '#8f949d',\n    '--color-component-badge-count-inverted': 'rgba(255, 255, 255, 0.7)',\n    '--color-console-error-badge-text': '#000000',\n    '--color-console-error-background': '#290000',\n    '--color-console-error-border': '#5c0000',\n    '--color-console-error-icon': '#eb3941',\n    '--color-console-error-text': '#fc7f7f',\n    '--color-console-warning-badge-text': '#000000',\n    '--color-console-warning-background': '#332b00',\n    '--color-console-warning-border': '#665500',\n    '--color-console-warning-icon': '#f4bd00',\n    '--color-console-warning-text': '#f5f2ed',\n    '--color-context-background': 'rgba(255,255,255,.95)',\n    '--color-context-background-hover': 'rgba(0, 136, 250, 0.1)',\n    '--color-context-background-selected': '#0088fa',\n    '--color-context-border': '#eeeeee',\n    '--color-context-text': '#000000',\n    '--color-context-text-selected': '#ffffff',\n    '--color-dim': '#8f949d',\n    '--color-dimmer': '#777d88',\n    '--color-dimmest': '#4f5766',\n    '--color-error-background': '#200',\n    '--color-error-border': '#900',\n    '--color-error-text': '#f55',\n    '--color-expand-collapse-toggle': '#8f949d',\n    '--color-forget-badge': '#2683E2',\n    '--color-link': '#61dafb',\n    '--color-modal-background': 'rgba(0, 0, 0, 0.75)',\n    '--color-bridge-version-npm-background': 'rgba(0, 0, 0, 0.25)',\n    '--color-bridge-version-npm-text': '#ffffff',\n    '--color-bridge-version-number': 'yellow',\n    '--color-primitive-hook-badge-background': 'rgba(0, 0, 0, 0.25)',\n    '--color-primitive-hook-badge-text': 'rgba(255, 255, 255, 0.7)',\n    '--color-record-active': '#fc3a4b',\n    '--color-record-hover': '#a2e9fc',\n    '--color-record-inactive': '#61dafb',\n    '--color-resize-bar': '#282c34',\n    '--color-resize-bar-active': '#31363f',\n    '--color-resize-bar-border': '#3d424a',\n    '--color-resize-bar-dot': '#cfd1d5',\n    '--color-timeline-internal-module': '#303542',\n    '--color-timeline-internal-module-hover': '#363b4a',\n    '--color-timeline-internal-module-text': '#7f8899',\n    '--color-timeline-native-event': '#b2b2b2',\n    '--color-timeline-native-event-hover': '#949494',\n    '--color-timeline-network-primary': '#fcf3dc',\n    '--color-timeline-network-primary-hover': '#e3dbc5',\n    '--color-timeline-network-secondary': '#efc457',\n    '--color-timeline-network-secondary-hover': '#d6af4d',\n    '--color-timeline-priority-background': '#1d2129',\n    '--color-timeline-priority-border': '#282c34',\n    '--color-timeline-user-timing': '#c9cacd',\n    '--color-timeline-user-timing-hover': '#93959a',\n    '--color-timeline-react-idle': '#3d485b',\n    '--color-timeline-react-idle-hover': '#465269',\n    '--color-timeline-react-render': '#2683E2',\n    '--color-timeline-react-render-hover': '#1a76d4',\n    '--color-timeline-react-render-text': '#11365e',\n    '--color-timeline-react-commit': '#731fad',\n    '--color-timeline-react-commit-hover': '#611b94',\n    '--color-timeline-react-commit-text': '#e5c1ff',\n    '--color-timeline-react-layout-effects': '#611b94',\n    '--color-timeline-react-layout-effects-hover': '#51167a',\n    '--color-timeline-react-layout-effects-text': '#e5c1ff',\n    '--color-timeline-react-passive-effects': '#611b94',\n    '--color-timeline-react-passive-effects-hover': '#51167a',\n    '--color-timeline-react-passive-effects-text': '#e5c1ff',\n    '--color-timeline-react-schedule': '#2683E2',\n    '--color-timeline-react-schedule-hover': '#1a76d4',\n    '--color-timeline-react-suspense-rejected': '#f1cc14',\n    '--color-timeline-react-suspense-rejected-hover': '#e4c00f',\n    '--color-timeline-react-suspense-resolved': '#a6e59f',\n    '--color-timeline-react-suspense-resolved-hover': '#89d281',\n    '--color-timeline-react-suspense-unresolved': '#c9cacd',\n    '--color-timeline-react-suspense-unresolved-hover': '#93959a',\n    '--color-timeline-thrown-error': '#fb3655',\n    '--color-timeline-thrown-error-hover': '#f82042',\n    '--color-timeline-text-color': '#282c34',\n    '--color-timeline-text-dim-color': '#555b66',\n    '--color-timeline-react-work-border': '#3d424a',\n    '--color-search-match': 'yellow',\n    '--color-search-match-current': '#f7923b',\n    '--color-selected-tree-highlight-active': 'rgba(23, 143, 185, 0.15)',\n    '--color-selected-tree-highlight-inactive': 'rgba(255, 255, 255, 0.05)',\n    '--color-scroll-caret': '#4f5766',\n    '--color-shadow': 'rgba(0, 0, 0, 0.5)',\n    '--color-tab-selected-border': '#178fb9',\n    '--color-text': '#ffffff',\n    '--color-text-invalid': '#ff8080',\n    '--color-text-selected': '#ffffff',\n    '--color-toggle-background-invalid': '#fc3a4b',\n    '--color-toggle-background-on': '#178fb9',\n    '--color-toggle-background-off': '#777d88',\n    '--color-toggle-text': '#ffffff',\n    '--color-warning-background': '#ee1638',\n    '--color-warning-background-hover': '#da1030',\n    '--color-warning-text-color': '#ffffff',\n    '--color-warning-text-color-inverted': '#ee1638',\n\n    // The styles below should be kept in sync with 'root.css'\n    // They are repeated there because they're used by e.g. tooltips or context menus\n    // which get rendered outside of the DOM subtree (where normal theme/styles are written).\n    '--color-scroll-thumb': '#afb3b9',\n    '--color-scroll-track': '#313640',\n    '--color-tooltip-background': 'rgba(255, 255, 255, 0.95)',\n    '--color-tooltip-text': '#000000',\n  },\n  compact: {\n    '--font-size-monospace-small': '9px',\n    '--font-size-monospace-normal': '11px',\n    '--font-size-monospace-large': '15px',\n    '--font-size-sans-small': '10px',\n    '--font-size-sans-normal': '12px',\n    '--font-size-sans-large': '14px',\n    '--line-height-data': '18px',\n  },\n  comfortable: {\n    '--font-size-monospace-small': '10px',\n    '--font-size-monospace-normal': '13px',\n    '--font-size-monospace-large': '17px',\n    '--font-size-sans-small': '12px',\n    '--font-size-sans-normal': '14px',\n    '--font-size-sans-large': '16px',\n    '--line-height-data': '22px',\n  },\n};\n\n// HACK\n//\n// Sometimes the inline target is rendered before root styles are applied,\n// which would result in e.g. NaN itemSize being passed to react-window list.\nconst COMFORTABLE_LINE_HEIGHT: number = parseInt(\n  THEME_STYLES.comfortable['--line-height-data'],\n  10,\n);\nconst COMPACT_LINE_HEIGHT: number = parseInt(\n  THEME_STYLES.compact['--line-height-data'],\n  10,\n);\n\nexport {COMFORTABLE_LINE_HEIGHT, COMPACT_LINE_HEIGHT};\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport {\n  COMFORTABLE_LINE_HEIGHT,\n  COMPACT_LINE_HEIGHT,\n} from 'react-devtools-shared/src/devtools/constants.js';\n\nexport const REACT_TOTAL_NUM_LANES = 31;\n\n// Increment this number any time a backwards breaking change is made to the profiler metadata.\nexport const SCHEDULING_PROFILER_VERSION = 1;\n\nexport const SNAPSHOT_MAX_HEIGHT = 60;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of shared/ConsolePatchingDev.\n// The shared console patching code is DEV-only.\n// We can't use it since DevTools only ships production builds.\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\n\nlet disabledDepth = 0;\nlet prevLog;\nlet prevInfo;\nlet prevWarn;\nlet prevError;\nlet prevGroup;\nlet prevGroupCollapsed;\nlet prevGroupEnd;\n\nfunction disabledLog() {}\ndisabledLog.__reactDisabledLog = true;\n\nexport function disableLogs(): void {\n  if (disabledDepth === 0) {\n    /* eslint-disable react-internal/no-production-logging */\n    prevLog = console.log;\n    prevInfo = console.info;\n    prevWarn = console.warn;\n    prevError = console.error;\n    prevGroup = console.group;\n    prevGroupCollapsed = console.groupCollapsed;\n    prevGroupEnd = console.groupEnd;\n    // https://github.com/facebook/react/issues/19099\n    const props = {\n      configurable: true,\n      enumerable: true,\n      value: disabledLog,\n      writable: true,\n    };\n    // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n    Object.defineProperties(console, {\n      info: props,\n      log: props,\n      warn: props,\n      error: props,\n      group: props,\n      groupCollapsed: props,\n      groupEnd: props,\n    });\n    /* eslint-enable react-internal/no-production-logging */\n  }\n  disabledDepth++;\n}\n\nexport function reenableLogs(): void {\n  disabledDepth--;\n  if (disabledDepth === 0) {\n    /* eslint-disable react-internal/no-production-logging */\n    const props = {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n    };\n    // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n    Object.defineProperties(console, {\n      log: {...props, value: prevLog},\n      info: {...props, value: prevInfo},\n      warn: {...props, value: prevWarn},\n      error: {...props, value: prevError},\n      group: {...props, value: prevGroup},\n      groupCollapsed: {...props, value: prevGroupCollapsed},\n      groupEnd: {...props, value: prevGroupEnd},\n    });\n    /* eslint-enable react-internal/no-production-logging */\n  }\n  if (disabledDepth < 0) {\n    console.error(\n      'disabledDepth fell below zero. ' +\n        'This is a bug in React. Please file an issue.',\n    );\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of ReactComponentStackFrame.\n// This fork enables DevTools to use the same \"native\" component stack format,\n// while still maintaining support for multiple renderer versions\n// (which use different values for ReactTypeOfWork).\n\nimport type {LazyComponent} from 'react/src/ReactLazy';\nimport type {CurrentDispatcherRef} from './types';\n\nimport {\n  FORWARD_REF_NUMBER,\n  FORWARD_REF_SYMBOL_STRING,\n  LAZY_NUMBER,\n  LAZY_SYMBOL_STRING,\n  MEMO_NUMBER,\n  MEMO_SYMBOL_STRING,\n  SUSPENSE_NUMBER,\n  SUSPENSE_SYMBOL_STRING,\n  SUSPENSE_LIST_NUMBER,\n  SUSPENSE_LIST_SYMBOL_STRING,\n} from './ReactSymbols';\n\n// The shared console patching code is DEV-only.\n// We can't use it since DevTools only ships production builds.\nimport {disableLogs, reenableLogs} from './DevToolsConsolePatching';\n\nlet prefix;\nexport function describeBuiltInComponentFrame(name: string): string {\n  if (prefix === undefined) {\n    // Extract the VM specific prefix used by each line.\n    try {\n      throw Error();\n    } catch (x) {\n      const match = x.stack.trim().match(/\\n( *(at )?)/);\n      prefix = (match && match[1]) || '';\n    }\n  }\n  // We use the prefix to ensure our stacks line up with native stack frames.\n  return '\\n' + prefix + name;\n}\n\nexport function describeDebugInfoFrame(name: string, env: ?string): string {\n  return describeBuiltInComponentFrame(name + (env ? ' (' + env + ')' : ''));\n}\n\nlet reentry = false;\nlet componentFrameCache;\nif (__DEV__) {\n  const PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap<$FlowFixMe, string>();\n}\n\nexport function describeNativeComponentFrame(\n  fn: Function,\n  construct: boolean,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if (!fn || reentry) {\n    return '';\n  }\n\n  if (__DEV__) {\n    const frame = componentFrameCache.get(fn);\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  const previousPrepareStackTrace = Error.prepareStackTrace;\n  // $FlowFixMe[incompatible-type] It does accept undefined.\n  Error.prepareStackTrace = undefined;\n\n  reentry = true;\n\n  // Override the dispatcher so effects scheduled by this shallow render are thrown away.\n  //\n  // Note that unlike the code this was forked from (in ReactComponentStackFrame)\n  // DevTools should override the dispatcher even when DevTools is compiled in production mode,\n  // because the app itself may be in development mode and log errors/warnings.\n  const previousDispatcher = currentDispatcherRef.H;\n  currentDispatcherRef.H = null;\n  disableLogs();\n\n  // NOTE: keep in sync with the implementation in ReactComponentStackFrame\n\n  /**\n   * Finding a common stack frame between sample and control errors can be\n   * tricky given the different types and levels of stack trace truncation from\n   * different JS VMs. So instead we'll attempt to control what that common\n   * frame should be through this object method:\n   * Having both the sample and control errors be in the function under the\n   * `DescribeNativeComponentFrameRoot` property, + setting the `name` and\n   * `displayName` properties of the function ensures that a stack\n   * frame exists that has the method name `DescribeNativeComponentFrameRoot` in\n   * it for both control and sample stacks.\n   */\n  const RunInRootFrame = {\n    DetermineComponentFrameRoot(): [?string, ?string] {\n      let control;\n      try {\n        // This should throw.\n        if (construct) {\n          // Something should be setting the props in the constructor.\n          const Fake = function () {\n            throw Error();\n          };\n          // $FlowFixMe[prop-missing]\n          Object.defineProperty(Fake.prototype, 'props', {\n            set: function () {\n              // We use a throwing setter instead of frozen or non-writable props\n              // because that won't throw in a non-strict mode function.\n              throw Error();\n            },\n          });\n          if (typeof Reflect === 'object' && Reflect.construct) {\n            // We construct a different control for this case to include any extra\n            // frames added by the construct call.\n            try {\n              Reflect.construct(Fake, []);\n            } catch (x) {\n              control = x;\n            }\n            Reflect.construct(fn, [], Fake);\n          } else {\n            try {\n              Fake.call();\n            } catch (x) {\n              control = x;\n            }\n            // $FlowFixMe[prop-missing] found when upgrading Flow\n            fn.call(Fake.prototype);\n          }\n        } else {\n          try {\n            throw Error();\n          } catch (x) {\n            control = x;\n          }\n          // TODO(luna): This will currently only throw if the function component\n          // tries to access React/ReactDOM/props. We should probably make this throw\n          // in simple components too\n          const maybePromise = fn();\n\n          // If the function component returns a promise, it's likely an async\n          // component, which we don't yet support. Attach a noop catch handler to\n          // silence the error.\n          // TODO: Implement component stacks for async client components?\n          if (maybePromise && typeof maybePromise.catch === 'function') {\n            maybePromise.catch(() => {});\n          }\n        }\n      } catch (sample) {\n        // This is inlined manually because closure doesn't do it for us.\n        if (sample && control && typeof sample.stack === 'string') {\n          return [sample.stack, control.stack];\n        }\n      }\n      return [null, null];\n    },\n  };\n  // $FlowFixMe[prop-missing]\n  RunInRootFrame.DetermineComponentFrameRoot.displayName =\n    'DetermineComponentFrameRoot';\n  const namePropDescriptor = Object.getOwnPropertyDescriptor(\n    RunInRootFrame.DetermineComponentFrameRoot,\n    'name',\n  );\n  // Before ES6, the `name` property was not configurable.\n  if (namePropDescriptor && namePropDescriptor.configurable) {\n    // V8 utilizes a function's `name` property when generating a stack trace.\n    Object.defineProperty(\n      RunInRootFrame.DetermineComponentFrameRoot,\n      // Configurable properties can be updated even if its writable descriptor\n      // is set to `false`.\n      // $FlowFixMe[cannot-write]\n      'name',\n      {value: 'DetermineComponentFrameRoot'},\n    );\n  }\n\n  try {\n    const [sampleStack, controlStack] =\n      RunInRootFrame.DetermineComponentFrameRoot();\n    if (sampleStack && controlStack) {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      const sampleLines = sampleStack.split('\\n');\n      const controlLines = controlStack.split('\\n');\n      let s = 0;\n      let c = 0;\n      while (\n        s < sampleLines.length &&\n        !sampleLines[s].includes('DetermineComponentFrameRoot')\n      ) {\n        s++;\n      }\n      while (\n        c < controlLines.length &&\n        !controlLines[c].includes('DetermineComponentFrameRoot')\n      ) {\n        c++;\n      }\n      // We couldn't find our intentionally injected common root frame, attempt\n      // to find another common root frame by search from the bottom of the\n      // control stack...\n      if (s === sampleLines.length || c === controlLines.length) {\n        s = sampleLines.length - 1;\n        c = controlLines.length - 1;\n        while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n          // We expect at least one stack frame to be shared.\n          // Typically this will be the root most one. However, stack frames may be\n          // cut off due to maximum stack limits. In this case, one maybe cut off\n          // earlier than the other. We assume that the sample is longer or the same\n          // and there for cut off earlier. So we should find the root most frame in\n          // the sample somewhere in the control.\n          c--;\n        }\n      }\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--;\n              // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                let frame = '\\n' + sampleLines[s].replace(' at new ', ' at ');\n\n                // If our component frame is labeled \"<anonymous>\"\n                // but we have a user-provided \"displayName\"\n                // splice it in to make the stack more readable.\n                if (fn.displayName && frame.includes('<anonymous>')) {\n                  frame = frame.replace('<anonymous>', fn.displayName);\n                }\n\n                if (__DEV__) {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, frame);\n                  }\n                }\n                // Return the line we found.\n                return frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n\n    currentDispatcherRef.H = previousDispatcher;\n    reenableLogs();\n  }\n  // Fallback to just using the name if we couldn't make it throw.\n  const name = fn ? fn.displayName || fn.name : '';\n  const syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n  if (__DEV__) {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n  return syntheticFrame;\n}\n\nexport function describeClassComponentFrame(\n  ctor: Function,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  return describeNativeComponentFrame(ctor, true, currentDispatcherRef);\n}\n\nexport function describeFunctionComponentFrame(\n  fn: Function,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  return describeNativeComponentFrame(fn, false, currentDispatcherRef);\n}\n\nfunction shouldConstruct(Component: Function) {\n  const prototype = Component.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nexport function describeUnknownElementTypeFrameInDEV(\n  type: any,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  if (!__DEV__) {\n    return '';\n  }\n  if (type == null) {\n    return '';\n  }\n  if (typeof type === 'function') {\n    return describeNativeComponentFrame(\n      type,\n      shouldConstruct(type),\n      currentDispatcherRef,\n    );\n  }\n  if (typeof type === 'string') {\n    return describeBuiltInComponentFrame(type);\n  }\n  switch (type) {\n    case SUSPENSE_NUMBER:\n    case SUSPENSE_SYMBOL_STRING:\n      return describeBuiltInComponentFrame('Suspense');\n    case SUSPENSE_LIST_NUMBER:\n    case SUSPENSE_LIST_SYMBOL_STRING:\n      return describeBuiltInComponentFrame('SuspenseList');\n  }\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case FORWARD_REF_NUMBER:\n      case FORWARD_REF_SYMBOL_STRING:\n        return describeFunctionComponentFrame(\n          type.render,\n          currentDispatcherRef,\n        );\n      case MEMO_NUMBER:\n      case MEMO_SYMBOL_STRING:\n        // Memo may contain any component type so we recursively resolve it.\n        return describeUnknownElementTypeFrameInDEV(\n          type.type,\n          currentDispatcherRef,\n        );\n      case LAZY_NUMBER:\n      case LAZY_SYMBOL_STRING: {\n        const lazyComponent: LazyComponent<any, any> = (type: any);\n        const payload = lazyComponent._payload;\n        const init = lazyComponent._init;\n        try {\n          // Lazy may contain any component type so we recursively resolve it.\n          return describeUnknownElementTypeFrameInDEV(\n            init(payload),\n            currentDispatcherRef,\n          );\n        } catch (x) {}\n      }\n    }\n  }\n  return '';\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of ReactFiberComponentStack.\n// This fork enables DevTools to use the same \"native\" component stack format,\n// while still maintaining support for multiple renderer versions\n// (which use different values for ReactTypeOfWork).\n\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {CurrentDispatcherRef, WorkTagMap} from './types';\n\nimport {\n  describeBuiltInComponentFrame,\n  describeFunctionComponentFrame,\n  describeClassComponentFrame,\n  describeDebugInfoFrame,\n} from './DevToolsComponentStackFrame';\n\nexport function describeFiber(\n  workTagMap: WorkTagMap,\n  workInProgress: Fiber,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  const {\n    HostComponent,\n    LazyComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n    FunctionComponent,\n    IndeterminateComponent,\n    SimpleMemoComponent,\n    ForwardRef,\n    ClassComponent,\n  } = workTagMap;\n\n  switch (workInProgress.tag) {\n    case HostComponent:\n      return describeBuiltInComponentFrame(workInProgress.type);\n    case LazyComponent:\n      return describeBuiltInComponentFrame('Lazy');\n    case SuspenseComponent:\n      return describeBuiltInComponentFrame('Suspense');\n    case SuspenseListComponent:\n      return describeBuiltInComponentFrame('SuspenseList');\n    case FunctionComponent:\n    case IndeterminateComponent:\n    case SimpleMemoComponent:\n      return describeFunctionComponentFrame(\n        workInProgress.type,\n        currentDispatcherRef,\n      );\n    case ForwardRef:\n      return describeFunctionComponentFrame(\n        workInProgress.type.render,\n        currentDispatcherRef,\n      );\n    case ClassComponent:\n      return describeClassComponentFrame(\n        workInProgress.type,\n        currentDispatcherRef,\n      );\n    default:\n      return '';\n  }\n}\n\nexport function getStackByFiberInDevAndProd(\n  workTagMap: WorkTagMap,\n  workInProgress: Fiber,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  try {\n    let info = '';\n    let node: Fiber = workInProgress;\n    do {\n      info += describeFiber(workTagMap, node, currentDispatcherRef);\n      // Add any Server Component stack frames in reverse order.\n      const debugInfo = node._debugInfo;\n      if (debugInfo) {\n        for (let i = debugInfo.length - 1; i >= 0; i--) {\n          const entry = debugInfo[i];\n          if (typeof entry.name === 'string') {\n            info += describeDebugInfoFrame(entry.name, entry.env);\n          }\n        }\n      }\n      // $FlowFixMe[incompatible-type] we bail out when we get a null\n      node = node.return;\n    } while (node);\n    return info;\n  } catch (x) {\n    return '\\nError generating stack: ' + x.message + '\\n' + x.stack;\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {\n  Lane,\n  Lanes,\n  DevToolsProfilingHooks,\n  WorkTagMap,\n  CurrentDispatcherRef,\n} from 'react-devtools-shared/src/backend/types';\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {Wakeable} from 'shared/ReactTypes';\nimport type {\n  BatchUID,\n  InternalModuleSourceToRanges,\n  LaneToLabelMap,\n  ReactComponentMeasure,\n  ReactLane,\n  ReactMeasure,\n  ReactMeasureType,\n  ReactScheduleStateUpdateEvent,\n  SchedulingEvent,\n  SuspenseEvent,\n  TimelineData,\n} from 'react-devtools-timeline/src/types';\n\nimport isArray from 'shared/isArray';\nimport {\n  REACT_TOTAL_NUM_LANES,\n  SCHEDULING_PROFILER_VERSION,\n} from 'react-devtools-timeline/src/constants';\nimport {describeFiber} from './DevToolsFiberComponentStack';\n\n// Add padding to the start/stop time of the profile.\n// This makes the UI nicer to use.\nconst TIME_OFFSET = 10;\n\nlet performanceTarget: Performance | null = null;\n\n// If performance exists and supports the subset of the User Timing API that we require.\nlet supportsUserTiming =\n  typeof performance !== 'undefined' &&\n  // $FlowFixMe[method-unbinding]\n  typeof performance.mark === 'function' &&\n  // $FlowFixMe[method-unbinding]\n  typeof performance.clearMarks === 'function';\n\nlet supportsUserTimingV3 = false;\nif (supportsUserTiming) {\n  const CHECK_V3_MARK = '__v3';\n  const markOptions: {\n    detail?: mixed,\n    startTime?: number,\n  } = {};\n  Object.defineProperty(markOptions, 'startTime', {\n    get: function () {\n      supportsUserTimingV3 = true;\n      return 0;\n    },\n    set: function () {},\n  });\n\n  try {\n    performance.mark(CHECK_V3_MARK, markOptions);\n  } catch (error) {\n    // Ignore\n  } finally {\n    performance.clearMarks(CHECK_V3_MARK);\n  }\n}\n\nif (supportsUserTimingV3) {\n  performanceTarget = performance;\n}\n\n// Some environments (e.g. React Native / Hermes) don't support the performance API yet.\nconst getCurrentTime =\n  // $FlowFixMe[method-unbinding]\n  typeof performance === 'object' && typeof performance.now === 'function'\n    ? () => performance.now()\n    : () => Date.now();\n\n// Mocking the Performance Object (and User Timing APIs) for testing is fragile.\n// This API allows tests to directly override the User Timing APIs.\nexport function setPerformanceMock_ONLY_FOR_TESTING(\n  performanceMock: Performance | null,\n) {\n  performanceTarget = performanceMock;\n  supportsUserTiming = performanceMock !== null;\n  supportsUserTimingV3 = performanceMock !== null;\n}\n\nexport type GetTimelineData = () => TimelineData | null;\nexport type ToggleProfilingStatus = (value: boolean) => void;\n\ntype Response = {\n  getTimelineData: GetTimelineData,\n  profilingHooks: DevToolsProfilingHooks,\n  toggleProfilingStatus: ToggleProfilingStatus,\n};\n\nexport function createProfilingHooks({\n  getDisplayNameForFiber,\n  getIsProfiling,\n  getLaneLabelMap,\n  workTagMap,\n  currentDispatcherRef,\n  reactVersion,\n}: {\n  getDisplayNameForFiber: (fiber: Fiber) => string | null,\n  getIsProfiling: () => boolean,\n  getLaneLabelMap?: () => Map<Lane, string> | null,\n  currentDispatcherRef?: CurrentDispatcherRef,\n  workTagMap: WorkTagMap,\n  reactVersion: string,\n}): Response {\n  let currentBatchUID: BatchUID = 0;\n  let currentReactComponentMeasure: ReactComponentMeasure | null = null;\n  let currentReactMeasuresStack: Array<ReactMeasure> = [];\n  let currentTimelineData: TimelineData | null = null;\n  let currentFiberStacks: Map<SchedulingEvent, Array<Fiber>> = new Map();\n  let isProfiling: boolean = false;\n  let nextRenderShouldStartNewBatch: boolean = false;\n\n  function getRelativeTime() {\n    const currentTime = getCurrentTime();\n\n    if (currentTimelineData) {\n      if (currentTimelineData.startTime === 0) {\n        currentTimelineData.startTime = currentTime - TIME_OFFSET;\n      }\n\n      return currentTime - currentTimelineData.startTime;\n    }\n\n    return 0;\n  }\n\n  function getInternalModuleRanges() {\n    /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n    if (\n      typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n      typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.getInternalModuleRanges ===\n        'function'\n    ) {\n      // Ask the DevTools hook for module ranges that may have been reported by the current renderer(s).\n      // Don't do this eagerly like the laneToLabelMap,\n      // because some modules might not yet have registered their boundaries when the renderer is injected.\n      const ranges = __REACT_DEVTOOLS_GLOBAL_HOOK__.getInternalModuleRanges();\n\n      // This check would not be required,\n      // except that it's possible for things to override __REACT_DEVTOOLS_GLOBAL_HOOK__.\n      if (isArray(ranges)) {\n        return ranges;\n      }\n    }\n\n    return null;\n  }\n\n  function getTimelineData(): TimelineData | null {\n    return currentTimelineData;\n  }\n\n  function laneToLanesArray(lanes: Lane) {\n    const lanesArray = [];\n\n    let lane = 1;\n    for (let index = 0; index < REACT_TOTAL_NUM_LANES; index++) {\n      if (lane & lanes) {\n        lanesArray.push(lane);\n      }\n      lane *= 2;\n    }\n\n    return lanesArray;\n  }\n\n  const laneToLabelMap: LaneToLabelMap | null =\n    typeof getLaneLabelMap === 'function' ? getLaneLabelMap() : null;\n\n  function markMetadata() {\n    markAndClear(`--react-version-${reactVersion}`);\n    markAndClear(`--profiler-version-${SCHEDULING_PROFILER_VERSION}`);\n\n    const ranges = getInternalModuleRanges();\n    if (ranges) {\n      for (let i = 0; i < ranges.length; i++) {\n        const range = ranges[i];\n        if (isArray(range) && range.length === 2) {\n          const [startStackFrame, stopStackFrame] = ranges[i];\n\n          markAndClear(`--react-internal-module-start-${startStackFrame}`);\n          markAndClear(`--react-internal-module-stop-${stopStackFrame}`);\n        }\n      }\n    }\n\n    if (laneToLabelMap != null) {\n      const labels = Array.from(laneToLabelMap.values()).join(',');\n      markAndClear(`--react-lane-labels-${labels}`);\n    }\n  }\n\n  function markAndClear(markName: string) {\n    // This method won't be called unless these functions are defined, so we can skip the extra typeof check.\n    ((performanceTarget: any): Performance).mark(markName);\n    ((performanceTarget: any): Performance).clearMarks(markName);\n  }\n\n  function recordReactMeasureStarted(\n    type: ReactMeasureType,\n    lanes: Lanes,\n  ): void {\n    // Decide what depth thi work should be rendered at, based on what's on the top of the stack.\n    // It's okay to render over top of \"idle\" work but everything else should be on its own row.\n    let depth = 0;\n    if (currentReactMeasuresStack.length > 0) {\n      const top =\n        currentReactMeasuresStack[currentReactMeasuresStack.length - 1];\n      depth = top.type === 'render-idle' ? top.depth : top.depth + 1;\n    }\n\n    const lanesArray = laneToLanesArray(lanes);\n\n    const reactMeasure: ReactMeasure = {\n      type,\n      batchUID: currentBatchUID,\n      depth,\n      lanes: lanesArray,\n      timestamp: getRelativeTime(),\n      duration: 0,\n    };\n\n    currentReactMeasuresStack.push(reactMeasure);\n\n    if (currentTimelineData) {\n      const {batchUIDToMeasuresMap, laneToReactMeasureMap} =\n        currentTimelineData;\n\n      let reactMeasures = batchUIDToMeasuresMap.get(currentBatchUID);\n      if (reactMeasures != null) {\n        reactMeasures.push(reactMeasure);\n      } else {\n        batchUIDToMeasuresMap.set(currentBatchUID, [reactMeasure]);\n      }\n\n      lanesArray.forEach(lane => {\n        reactMeasures = laneToReactMeasureMap.get(lane);\n        if (reactMeasures) {\n          reactMeasures.push(reactMeasure);\n        }\n      });\n    }\n  }\n\n  function recordReactMeasureCompleted(type: ReactMeasureType): void {\n    const currentTime = getRelativeTime();\n\n    if (currentReactMeasuresStack.length === 0) {\n      console.error(\n        'Unexpected type \"%s\" completed at %sms while currentReactMeasuresStack is empty.',\n        type,\n        currentTime,\n      );\n      // Ignore work \"completion\" user timing mark that doesn't complete anything\n      return;\n    }\n\n    const top = currentReactMeasuresStack.pop();\n    if (top.type !== type) {\n      console.error(\n        'Unexpected type \"%s\" completed at %sms before \"%s\" completed.',\n        type,\n        currentTime,\n        top.type,\n      );\n    }\n\n    // $FlowFixMe[cannot-write] This property should not be writable outside of this function.\n    top.duration = currentTime - top.timestamp;\n\n    if (currentTimelineData) {\n      currentTimelineData.duration = getRelativeTime() + TIME_OFFSET;\n    }\n  }\n\n  function markCommitStarted(lanes: Lanes): void {\n    if (isProfiling) {\n      recordReactMeasureStarted('commit', lanes);\n\n      // TODO (timeline) Re-think this approach to \"batching\"; I don't think it works for Suspense or pre-rendering.\n      // This issue applies to the User Timing data also.\n      nextRenderShouldStartNewBatch = true;\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--commit-start-${lanes}`);\n\n      // Some metadata only needs to be logged once per session,\n      // but if profiling information is being recorded via the Performance tab,\n      // DevTools has no way of knowing when the recording starts.\n      // Because of that, we log thie type of data periodically (once per commit).\n      markMetadata();\n    }\n  }\n\n  function markCommitStopped(): void {\n    if (isProfiling) {\n      recordReactMeasureCompleted('commit');\n      recordReactMeasureCompleted('render-idle');\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--commit-stop');\n    }\n  }\n\n  function markComponentRenderStarted(fiber: Fiber): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (isProfiling) {\n          currentReactComponentMeasure = {\n            componentName,\n            duration: 0,\n            timestamp: getRelativeTime(),\n            type: 'render',\n            warning: null,\n          };\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--component-render-start-${componentName}`);\n      }\n    }\n  }\n\n  function markComponentRenderStopped(): void {\n    if (isProfiling) {\n      if (currentReactComponentMeasure) {\n        if (currentTimelineData) {\n          currentTimelineData.componentMeasures.push(\n            currentReactComponentMeasure,\n          );\n        }\n\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentReactComponentMeasure.duration =\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          getRelativeTime() - currentReactComponentMeasure.timestamp;\n        currentReactComponentMeasure = null;\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-render-stop');\n    }\n  }\n\n  function markComponentLayoutEffectMountStarted(fiber: Fiber): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (isProfiling) {\n          currentReactComponentMeasure = {\n            componentName,\n            duration: 0,\n            timestamp: getRelativeTime(),\n            type: 'layout-effect-mount',\n            warning: null,\n          };\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--component-layout-effect-mount-start-${componentName}`);\n      }\n    }\n  }\n\n  function markComponentLayoutEffectMountStopped(): void {\n    if (isProfiling) {\n      if (currentReactComponentMeasure) {\n        if (currentTimelineData) {\n          currentTimelineData.componentMeasures.push(\n            currentReactComponentMeasure,\n          );\n        }\n\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentReactComponentMeasure.duration =\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          getRelativeTime() - currentReactComponentMeasure.timestamp;\n        currentReactComponentMeasure = null;\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-layout-effect-mount-stop');\n    }\n  }\n\n  function markComponentLayoutEffectUnmountStarted(fiber: Fiber): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (isProfiling) {\n          currentReactComponentMeasure = {\n            componentName,\n            duration: 0,\n            timestamp: getRelativeTime(),\n            type: 'layout-effect-unmount',\n            warning: null,\n          };\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(\n          `--component-layout-effect-unmount-start-${componentName}`,\n        );\n      }\n    }\n  }\n\n  function markComponentLayoutEffectUnmountStopped(): void {\n    if (isProfiling) {\n      if (currentReactComponentMeasure) {\n        if (currentTimelineData) {\n          currentTimelineData.componentMeasures.push(\n            currentReactComponentMeasure,\n          );\n        }\n\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentReactComponentMeasure.duration =\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          getRelativeTime() - currentReactComponentMeasure.timestamp;\n        currentReactComponentMeasure = null;\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-layout-effect-unmount-stop');\n    }\n  }\n\n  function markComponentPassiveEffectMountStarted(fiber: Fiber): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (isProfiling) {\n          currentReactComponentMeasure = {\n            componentName,\n            duration: 0,\n            timestamp: getRelativeTime(),\n            type: 'passive-effect-mount',\n            warning: null,\n          };\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--component-passive-effect-mount-start-${componentName}`);\n      }\n    }\n  }\n\n  function markComponentPassiveEffectMountStopped(): void {\n    if (isProfiling) {\n      if (currentReactComponentMeasure) {\n        if (currentTimelineData) {\n          currentTimelineData.componentMeasures.push(\n            currentReactComponentMeasure,\n          );\n        }\n\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentReactComponentMeasure.duration =\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          getRelativeTime() - currentReactComponentMeasure.timestamp;\n        currentReactComponentMeasure = null;\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-passive-effect-mount-stop');\n    }\n  }\n\n  function markComponentPassiveEffectUnmountStarted(fiber: Fiber): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (isProfiling) {\n          currentReactComponentMeasure = {\n            componentName,\n            duration: 0,\n            timestamp: getRelativeTime(),\n            type: 'passive-effect-unmount',\n            warning: null,\n          };\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(\n          `--component-passive-effect-unmount-start-${componentName}`,\n        );\n      }\n    }\n  }\n\n  function markComponentPassiveEffectUnmountStopped(): void {\n    if (isProfiling) {\n      if (currentReactComponentMeasure) {\n        if (currentTimelineData) {\n          currentTimelineData.componentMeasures.push(\n            currentReactComponentMeasure,\n          );\n        }\n\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentReactComponentMeasure.duration =\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          getRelativeTime() - currentReactComponentMeasure.timestamp;\n        currentReactComponentMeasure = null;\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-passive-effect-unmount-stop');\n    }\n  }\n\n  function markComponentErrored(\n    fiber: Fiber,\n    thrownValue: mixed,\n    lanes: Lanes,\n  ): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n      const phase = fiber.alternate === null ? 'mount' : 'update';\n\n      let message = '';\n      if (\n        thrownValue !== null &&\n        typeof thrownValue === 'object' &&\n        typeof thrownValue.message === 'string'\n      ) {\n        message = thrownValue.message;\n      } else if (typeof thrownValue === 'string') {\n        message = thrownValue;\n      }\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (currentTimelineData) {\n          currentTimelineData.thrownErrors.push({\n            componentName,\n            message,\n            phase,\n            timestamp: getRelativeTime(),\n            type: 'thrown-error',\n          });\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--error-${componentName}-${phase}-${message}`);\n      }\n    }\n  }\n\n  const PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n\n  // $FlowFixMe[incompatible-type]: Flow cannot handle polymorphic WeakMaps\n  const wakeableIDs: WeakMap<Wakeable, number> = new PossiblyWeakMap();\n  let wakeableID: number = 0;\n  function getWakeableID(wakeable: Wakeable): number {\n    if (!wakeableIDs.has(wakeable)) {\n      wakeableIDs.set(wakeable, wakeableID++);\n    }\n    return ((wakeableIDs.get(wakeable): any): number);\n  }\n\n  function markComponentSuspended(\n    fiber: Fiber,\n    wakeable: Wakeable,\n    lanes: Lanes,\n  ): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const eventType = wakeableIDs.has(wakeable) ? 'resuspend' : 'suspend';\n      const id = getWakeableID(wakeable);\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n      const phase = fiber.alternate === null ? 'mount' : 'update';\n\n      // Following the non-standard fn.displayName convention,\n      // frameworks like Relay may also annotate Promises with a displayName,\n      // describing what operation/data the thrown Promise is related to.\n      // When this is available we should pass it along to the Timeline.\n      const displayName = (wakeable: any).displayName || '';\n\n      let suspenseEvent: SuspenseEvent | null = null;\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        suspenseEvent = {\n          componentName,\n          depth: 0,\n          duration: 0,\n          id: `${id}`,\n          phase,\n          promiseName: displayName,\n          resolution: 'unresolved',\n          timestamp: getRelativeTime(),\n          type: 'suspense',\n          warning: null,\n        };\n\n        if (currentTimelineData) {\n          currentTimelineData.suspenseEvents.push(suspenseEvent);\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(\n          `--suspense-${eventType}-${id}-${componentName}-${phase}-${lanes}-${displayName}`,\n        );\n      }\n\n      wakeable.then(\n        () => {\n          if (suspenseEvent) {\n            suspenseEvent.duration =\n              getRelativeTime() - suspenseEvent.timestamp;\n            suspenseEvent.resolution = 'resolved';\n          }\n\n          if (supportsUserTimingV3) {\n            markAndClear(`--suspense-resolved-${id}-${componentName}`);\n          }\n        },\n        () => {\n          if (suspenseEvent) {\n            suspenseEvent.duration =\n              getRelativeTime() - suspenseEvent.timestamp;\n            suspenseEvent.resolution = 'rejected';\n          }\n\n          if (supportsUserTimingV3) {\n            markAndClear(`--suspense-rejected-${id}-${componentName}`);\n          }\n        },\n      );\n    }\n  }\n\n  function markLayoutEffectsStarted(lanes: Lanes): void {\n    if (isProfiling) {\n      recordReactMeasureStarted('layout-effects', lanes);\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--layout-effects-start-${lanes}`);\n    }\n  }\n\n  function markLayoutEffectsStopped(): void {\n    if (isProfiling) {\n      recordReactMeasureCompleted('layout-effects');\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--layout-effects-stop');\n    }\n  }\n\n  function markPassiveEffectsStarted(lanes: Lanes): void {\n    if (isProfiling) {\n      recordReactMeasureStarted('passive-effects', lanes);\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--passive-effects-start-${lanes}`);\n    }\n  }\n\n  function markPassiveEffectsStopped(): void {\n    if (isProfiling) {\n      recordReactMeasureCompleted('passive-effects');\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--passive-effects-stop');\n    }\n  }\n\n  function markRenderStarted(lanes: Lanes): void {\n    if (isProfiling) {\n      if (nextRenderShouldStartNewBatch) {\n        nextRenderShouldStartNewBatch = false;\n        currentBatchUID++;\n      }\n\n      // If this is a new batch of work, wrap an \"idle\" measure around it.\n      // Log it before the \"render\" measure to preserve the stack ordering.\n      if (\n        currentReactMeasuresStack.length === 0 ||\n        currentReactMeasuresStack[currentReactMeasuresStack.length - 1].type !==\n          'render-idle'\n      ) {\n        recordReactMeasureStarted('render-idle', lanes);\n      }\n\n      recordReactMeasureStarted('render', lanes);\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--render-start-${lanes}`);\n    }\n  }\n\n  function markRenderYielded(): void {\n    if (isProfiling) {\n      recordReactMeasureCompleted('render');\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--render-yield');\n    }\n  }\n\n  function markRenderStopped(): void {\n    if (isProfiling) {\n      recordReactMeasureCompleted('render');\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--render-stop');\n    }\n  }\n\n  function markRenderScheduled(lane: Lane): void {\n    if (isProfiling) {\n      if (currentTimelineData) {\n        currentTimelineData.schedulingEvents.push({\n          lanes: laneToLanesArray(lane),\n          timestamp: getRelativeTime(),\n          type: 'schedule-render',\n          warning: null,\n        });\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--schedule-render-${lane}`);\n    }\n  }\n\n  function markForceUpdateScheduled(fiber: Fiber, lane: Lane): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (currentTimelineData) {\n          currentTimelineData.schedulingEvents.push({\n            componentName,\n            lanes: laneToLanesArray(lane),\n            timestamp: getRelativeTime(),\n            type: 'schedule-force-update',\n            warning: null,\n          });\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--schedule-forced-update-${lane}-${componentName}`);\n      }\n    }\n  }\n\n  function getParentFibers(fiber: Fiber): Array<Fiber> {\n    const parents = [];\n    let parent: null | Fiber = fiber;\n    while (parent !== null) {\n      parents.push(parent);\n      parent = parent.return;\n    }\n    return parents;\n  }\n\n  function markStateUpdateScheduled(fiber: Fiber, lane: Lane): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (currentTimelineData) {\n          const event: ReactScheduleStateUpdateEvent = {\n            componentName,\n            // Store the parent fibers so we can post process\n            // them after we finish profiling\n            lanes: laneToLanesArray(lane),\n            timestamp: getRelativeTime(),\n            type: 'schedule-state-update',\n            warning: null,\n          };\n          currentFiberStacks.set(event, getParentFibers(fiber));\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          currentTimelineData.schedulingEvents.push(event);\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--schedule-state-update-${lane}-${componentName}`);\n      }\n    }\n  }\n\n  function toggleProfilingStatus(value: boolean) {\n    if (isProfiling !== value) {\n      isProfiling = value;\n\n      if (isProfiling) {\n        const internalModuleSourceToRanges: InternalModuleSourceToRanges =\n          new Map();\n\n        if (supportsUserTimingV3) {\n          const ranges = getInternalModuleRanges();\n          if (ranges) {\n            for (let i = 0; i < ranges.length; i++) {\n              const range = ranges[i];\n              if (isArray(range) && range.length === 2) {\n                const [startStackFrame, stopStackFrame] = ranges[i];\n\n                markAndClear(\n                  `--react-internal-module-start-${startStackFrame}`,\n                );\n                markAndClear(`--react-internal-module-stop-${stopStackFrame}`);\n              }\n            }\n          }\n        }\n\n        const laneToReactMeasureMap = new Map<ReactLane, ReactMeasure[]>();\n        let lane = 1;\n        for (let index = 0; index < REACT_TOTAL_NUM_LANES; index++) {\n          laneToReactMeasureMap.set(lane, []);\n          lane *= 2;\n        }\n\n        currentBatchUID = 0;\n        currentReactComponentMeasure = null;\n        currentReactMeasuresStack = [];\n        currentFiberStacks = new Map();\n        currentTimelineData = {\n          // Session wide metadata; only collected once.\n          internalModuleSourceToRanges,\n          laneToLabelMap: laneToLabelMap || new Map(),\n          reactVersion,\n\n          // Data logged by React during profiling session.\n          componentMeasures: [],\n          schedulingEvents: [],\n          suspenseEvents: [],\n          thrownErrors: [],\n\n          // Data inferred based on what React logs.\n          batchUIDToMeasuresMap: new Map(),\n          duration: 0,\n          laneToReactMeasureMap,\n          startTime: 0,\n\n          // Data only available in Chrome profiles.\n          flamechart: [],\n          nativeEvents: [],\n          networkMeasures: [],\n          otherUserTimingMarks: [],\n          snapshots: [],\n          snapshotHeight: 0,\n        };\n        nextRenderShouldStartNewBatch = true;\n      } else {\n        // Postprocess Profile data\n        if (currentTimelineData !== null) {\n          currentTimelineData.schedulingEvents.forEach(event => {\n            if (event.type === 'schedule-state-update') {\n              // TODO(luna): We can optimize this by creating a map of\n              // fiber to component stack instead of generating the stack\n              // for every fiber every time\n              const fiberStack = currentFiberStacks.get(event);\n              if (fiberStack && currentDispatcherRef != null) {\n                event.componentStack = fiberStack.reduce((trace, fiber) => {\n                  return (\n                    trace +\n                    describeFiber(workTagMap, fiber, currentDispatcherRef)\n                  );\n                }, '');\n              }\n            }\n          });\n        }\n\n        // Clear the current fiber stacks so we don't hold onto the fibers\n        // in memory after profiling finishes\n        currentFiberStacks.clear();\n      }\n    }\n  }\n\n  return {\n    getTimelineData,\n    profilingHooks: {\n      markCommitStarted,\n      markCommitStopped,\n      markComponentRenderStarted,\n      markComponentRenderStopped,\n      markComponentPassiveEffectMountStarted,\n      markComponentPassiveEffectMountStopped,\n      markComponentPassiveEffectUnmountStarted,\n      markComponentPassiveEffectUnmountStopped,\n      markComponentLayoutEffectMountStarted,\n      markComponentLayoutEffectMountStopped,\n      markComponentLayoutEffectUnmountStarted,\n      markComponentLayoutEffectUnmountStopped,\n      markComponentErrored,\n      markComponentSuspended,\n      markLayoutEffectsStarted,\n      markLayoutEffectsStopped,\n      markPassiveEffectsStarted,\n      markPassiveEffectsStopped,\n      markRenderStarted,\n      markRenderYielded,\n      markRenderStopped,\n      markRenderScheduled,\n      markForceUpdateScheduled,\n      markStateUpdateScheduled,\n    },\n    toggleProfilingStatus,\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {\n  ComponentFilterDisplayName,\n  ComponentFilterElementType,\n  ComponentFilterHOC,\n  ComponentFilterLocation,\n  ElementTypeClass,\n  ElementTypeContext,\n  ElementTypeFunction,\n  ElementTypeForwardRef,\n  ElementTypeHostComponent,\n  ElementTypeMemo,\n  ElementTypeOtherOrUnknown,\n  ElementTypeProfiler,\n  ElementTypeRoot,\n  ElementTypeSuspense,\n  ElementTypeSuspenseList,\n  ElementTypeTracingMarker,\n  StrictMode,\n} from 'react-devtools-shared/src/frontend/types';\nimport {\n  deletePathInObject,\n  getDisplayName,\n  getWrappedDisplayName,\n  getDefaultComponentFilters,\n  getInObject,\n  getUID,\n  renamePathInObject,\n  setInObject,\n  utfEncodeString,\n  filterOutLocationComponentFilters,\n} from 'react-devtools-shared/src/utils';\nimport {sessionStorageGetItem} from 'react-devtools-shared/src/storage';\nimport {\n  gt,\n  gte,\n  parseSourceFromComponentStack,\n  serializeToString,\n} from 'react-devtools-shared/src/backend/utils';\nimport {\n  cleanForBridge,\n  copyWithDelete,\n  copyWithRename,\n  copyWithSet,\n  getEffectDurations,\n} from './utils';\nimport {\n  __DEBUG__,\n  PROFILING_FLAG_BASIC_SUPPORT,\n  PROFILING_FLAG_TIMELINE_SUPPORT,\n  SESSION_STORAGE_RELOAD_AND_PROFILE_KEY,\n  SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n  TREE_OPERATION_ADD,\n  TREE_OPERATION_REMOVE,\n  TREE_OPERATION_REMOVE_ROOT,\n  TREE_OPERATION_REORDER_CHILDREN,\n  TREE_OPERATION_SET_SUBTREE_MODE,\n  TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS,\n  TREE_OPERATION_UPDATE_TREE_BASE_DURATION,\n} from '../constants';\nimport {inspectHooksOfFiber} from 'react-debug-tools';\nimport {\n  patchConsoleUsingWindowValues,\n  registerRenderer as registerRendererWithConsole,\n  patchForStrictMode as patchConsoleForStrictMode,\n  unpatchForStrictMode as unpatchConsoleForStrictMode,\n} from './console';\nimport {\n  CONCURRENT_MODE_NUMBER,\n  CONCURRENT_MODE_SYMBOL_STRING,\n  DEPRECATED_ASYNC_MODE_SYMBOL_STRING,\n  PROVIDER_NUMBER,\n  PROVIDER_SYMBOL_STRING,\n  CONTEXT_NUMBER,\n  CONTEXT_SYMBOL_STRING,\n  CONSUMER_SYMBOL_STRING,\n  STRICT_MODE_NUMBER,\n  STRICT_MODE_SYMBOL_STRING,\n  PROFILER_NUMBER,\n  PROFILER_SYMBOL_STRING,\n  REACT_MEMO_CACHE_SENTINEL,\n  SCOPE_NUMBER,\n  SCOPE_SYMBOL_STRING,\n  FORWARD_REF_NUMBER,\n  FORWARD_REF_SYMBOL_STRING,\n  MEMO_NUMBER,\n  MEMO_SYMBOL_STRING,\n  SERVER_CONTEXT_SYMBOL_STRING,\n} from './ReactSymbols';\nimport {format} from './utils';\nimport {enableStyleXFeatures} from 'react-devtools-feature-flags';\nimport is from 'shared/objectIs';\nimport hasOwnProperty from 'shared/hasOwnProperty';\nimport {getStyleXData} from './StyleX/utils';\nimport {createProfilingHooks} from './profilingHooks';\n\nimport type {GetTimelineData, ToggleProfilingStatus} from './profilingHooks';\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {\n  ChangeDescription,\n  CommitDataBackend,\n  DevToolsHook,\n  InspectedElement,\n  InspectedElementPayload,\n  InstanceAndStyle,\n  NativeType,\n  PathFrame,\n  PathMatch,\n  ProfilingDataBackend,\n  ProfilingDataForRootBackend,\n  ReactRenderer,\n  RendererInterface,\n  SerializedElement,\n  WorkTagMap,\n  CurrentDispatcherRef,\n  LegacyDispatcherRef,\n} from './types';\nimport type {\n  ComponentFilter,\n  ElementType,\n  Plugins,\n} from 'react-devtools-shared/src/frontend/types';\nimport type {Source} from 'react-devtools-shared/src/shared/types';\nimport {getStackByFiberInDevAndProd} from './DevToolsFiberComponentStack';\n\ntype getDisplayNameForFiberType = (fiber: Fiber) => string | null;\ntype getTypeSymbolType = (type: any) => symbol | number;\n\ntype ReactPriorityLevelsType = {\n  ImmediatePriority: number,\n  UserBlockingPriority: number,\n  NormalPriority: number,\n  LowPriority: number,\n  IdlePriority: number,\n  NoPriority: number,\n};\n\nexport function getDispatcherRef(renderer: {\n  +currentDispatcherRef?: LegacyDispatcherRef | CurrentDispatcherRef,\n  ...\n}): void | CurrentDispatcherRef {\n  if (renderer.currentDispatcherRef === undefined) {\n    return undefined;\n  }\n  const injectedRef = renderer.currentDispatcherRef;\n  if (\n    typeof injectedRef.H === 'undefined' &&\n    typeof injectedRef.current !== 'undefined'\n  ) {\n    // We got a legacy dispatcher injected, let's create a wrapper proxy to translate.\n    return {\n      get H() {\n        return (injectedRef: any).current;\n      },\n      set H(value) {\n        (injectedRef: any).current = value;\n      },\n    };\n  }\n  return (injectedRef: any);\n}\n\nfunction getFiberFlags(fiber: Fiber): number {\n  // The name of this field changed from \"effectTag\" to \"flags\"\n  return fiber.flags !== undefined ? fiber.flags : (fiber: any).effectTag;\n}\n\n// Some environments (e.g. React Native / Hermes) don't support the performance API yet.\nconst getCurrentTime =\n  // $FlowFixMe[method-unbinding]\n  typeof performance === 'object' && typeof performance.now === 'function'\n    ? () => performance.now()\n    : () => Date.now();\n\nexport function getInternalReactConstants(version: string): {\n  getDisplayNameForFiber: getDisplayNameForFiberType,\n  getTypeSymbol: getTypeSymbolType,\n  ReactPriorityLevels: ReactPriorityLevelsType,\n  ReactTypeOfWork: WorkTagMap,\n  StrictModeBits: number,\n} {\n  // **********************************************************\n  // The section below is copied from files in React repo.\n  // Keep it in sync, and add version guards if it changes.\n  //\n  // Technically these priority levels are invalid for versions before 16.9,\n  // but 16.9 is the first version to report priority level to DevTools,\n  // so we can avoid checking for earlier versions and support pre-16.9 canary releases in the process.\n  let ReactPriorityLevels: ReactPriorityLevelsType = {\n    ImmediatePriority: 99,\n    UserBlockingPriority: 98,\n    NormalPriority: 97,\n    LowPriority: 96,\n    IdlePriority: 95,\n    NoPriority: 90,\n  };\n\n  if (gt(version, '17.0.2')) {\n    ReactPriorityLevels = {\n      ImmediatePriority: 1,\n      UserBlockingPriority: 2,\n      NormalPriority: 3,\n      LowPriority: 4,\n      IdlePriority: 5,\n      NoPriority: 0,\n    };\n  }\n\n  let StrictModeBits = 0;\n  if (gte(version, '18.0.0-alpha')) {\n    // 18+\n    StrictModeBits = 0b011000;\n  } else if (gte(version, '16.9.0')) {\n    // 16.9 - 17\n    StrictModeBits = 0b1;\n  } else if (gte(version, '16.3.0')) {\n    // 16.3 - 16.8\n    StrictModeBits = 0b10;\n  }\n\n  let ReactTypeOfWork: WorkTagMap = ((null: any): WorkTagMap);\n\n  // **********************************************************\n  // The section below is copied from files in React repo.\n  // Keep it in sync, and add version guards if it changes.\n  //\n  // TODO Update the gt() check below to be gte() whichever the next version number is.\n  // Currently the version in Git is 17.0.2 (but that version has not been/may not end up being released).\n  if (gt(version, '17.0.1')) {\n    ReactTypeOfWork = {\n      CacheComponent: 24, // Experimental\n      ClassComponent: 1,\n      ContextConsumer: 9,\n      ContextProvider: 10,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: 18, // Behind a flag\n      ForwardRef: 11,\n      Fragment: 7,\n      FunctionComponent: 0,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: 26, // In reality, 18.2+. But doesn't hurt to include it here\n      HostSingleton: 27, // Same as above\n      HostText: 6,\n      IncompleteClassComponent: 17,\n      IncompleteFunctionComponent: 28,\n      IndeterminateComponent: 2, // removed in 19.0.0\n      LazyComponent: 16,\n      LegacyHiddenComponent: 23,\n      MemoComponent: 14,\n      Mode: 8,\n      OffscreenComponent: 22, // Experimental\n      Profiler: 12,\n      ScopeComponent: 21, // Experimental\n      SimpleMemoComponent: 15,\n      SuspenseComponent: 13,\n      SuspenseListComponent: 19, // Experimental\n      TracingMarkerComponent: 25, // Experimental - This is technically in 18 but we don't\n      // want to fork again so we're adding it here instead\n      YieldComponent: -1, // Removed\n    };\n  } else if (gte(version, '17.0.0-alpha')) {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 1,\n      ContextConsumer: 9,\n      ContextProvider: 10,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: 18, // Behind a flag\n      ForwardRef: 11,\n      Fragment: 7,\n      FunctionComponent: 0,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 6,\n      IncompleteClassComponent: 17,\n      IncompleteFunctionComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 2,\n      LazyComponent: 16,\n      LegacyHiddenComponent: 24,\n      MemoComponent: 14,\n      Mode: 8,\n      OffscreenComponent: 23, // Experimental\n      Profiler: 12,\n      ScopeComponent: 21, // Experimental\n      SimpleMemoComponent: 15,\n      SuspenseComponent: 13,\n      SuspenseListComponent: 19, // Experimental\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: -1, // Removed\n    };\n  } else if (gte(version, '16.6.0-beta.0')) {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 1,\n      ContextConsumer: 9,\n      ContextProvider: 10,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: 18, // Behind a flag\n      ForwardRef: 11,\n      Fragment: 7,\n      FunctionComponent: 0,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 6,\n      IncompleteClassComponent: 17,\n      IncompleteFunctionComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 2,\n      LazyComponent: 16,\n      LegacyHiddenComponent: -1,\n      MemoComponent: 14,\n      Mode: 8,\n      OffscreenComponent: -1, // Experimental\n      Profiler: 12,\n      ScopeComponent: -1, // Experimental\n      SimpleMemoComponent: 15,\n      SuspenseComponent: 13,\n      SuspenseListComponent: 19, // Experimental\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: -1, // Removed\n    };\n  } else if (gte(version, '16.4.3-alpha')) {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 2,\n      ContextConsumer: 11,\n      ContextProvider: 12,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: -1, // Doesn't exist yet\n      ForwardRef: 13,\n      Fragment: 9,\n      FunctionComponent: 0,\n      HostComponent: 7,\n      HostPortal: 6,\n      HostRoot: 5,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 8,\n      IncompleteClassComponent: -1, // Doesn't exist yet\n      IncompleteFunctionComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 4,\n      LazyComponent: -1, // Doesn't exist yet\n      LegacyHiddenComponent: -1,\n      MemoComponent: -1, // Doesn't exist yet\n      Mode: 10,\n      OffscreenComponent: -1, // Experimental\n      Profiler: 15,\n      ScopeComponent: -1, // Experimental\n      SimpleMemoComponent: -1, // Doesn't exist yet\n      SuspenseComponent: 16,\n      SuspenseListComponent: -1, // Doesn't exist yet\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: -1, // Removed\n    };\n  } else {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 2,\n      ContextConsumer: 12,\n      ContextProvider: 13,\n      CoroutineComponent: 7,\n      CoroutineHandlerPhase: 8,\n      DehydratedSuspenseComponent: -1, // Doesn't exist yet\n      ForwardRef: 14,\n      Fragment: 10,\n      FunctionComponent: 1,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 6,\n      IncompleteClassComponent: -1, // Doesn't exist yet\n      IncompleteFunctionComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 0,\n      LazyComponent: -1, // Doesn't exist yet\n      LegacyHiddenComponent: -1,\n      MemoComponent: -1, // Doesn't exist yet\n      Mode: 11,\n      OffscreenComponent: -1, // Experimental\n      Profiler: 15,\n      ScopeComponent: -1, // Experimental\n      SimpleMemoComponent: -1, // Doesn't exist yet\n      SuspenseComponent: 16,\n      SuspenseListComponent: -1, // Doesn't exist yet\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: 9,\n    };\n  }\n  // **********************************************************\n  // End of copied code.\n  // **********************************************************\n\n  function getTypeSymbol(type: any): symbol | number {\n    const symbolOrNumber =\n      typeof type === 'object' && type !== null ? type.$$typeof : type;\n\n    return typeof symbolOrNumber === 'symbol'\n      ? // $FlowFixMe[incompatible-return] `toString()` doesn't match the type signature?\n        symbolOrNumber.toString()\n      : symbolOrNumber;\n  }\n\n  const {\n    CacheComponent,\n    ClassComponent,\n    IncompleteClassComponent,\n    IncompleteFunctionComponent,\n    FunctionComponent,\n    IndeterminateComponent,\n    ForwardRef,\n    HostRoot,\n    HostHoistable,\n    HostSingleton,\n    HostComponent,\n    HostPortal,\n    HostText,\n    Fragment,\n    LazyComponent,\n    LegacyHiddenComponent,\n    MemoComponent,\n    OffscreenComponent,\n    Profiler,\n    ScopeComponent,\n    SimpleMemoComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n    TracingMarkerComponent,\n  } = ReactTypeOfWork;\n\n  function resolveFiberType(type: any): $FlowFixMe {\n    const typeSymbol = getTypeSymbol(type);\n    switch (typeSymbol) {\n      case MEMO_NUMBER:\n      case MEMO_SYMBOL_STRING:\n        // recursively resolving memo type in case of memo(forwardRef(Component))\n        return resolveFiberType(type.type);\n      case FORWARD_REF_NUMBER:\n      case FORWARD_REF_SYMBOL_STRING:\n        return type.render;\n      default:\n        return type;\n    }\n  }\n\n  // NOTICE Keep in sync with shouldFilterFiber() and other get*ForFiber methods\n  function getDisplayNameForFiber(\n    fiber: Fiber,\n    shouldSkipForgetCheck: boolean = false,\n  ): string | null {\n    const {elementType, type, tag} = fiber;\n\n    let resolvedType = type;\n    if (typeof type === 'object' && type !== null) {\n      resolvedType = resolveFiberType(type);\n    }\n\n    let resolvedContext: any = null;\n    if (\n      !shouldSkipForgetCheck &&\n      // $FlowFixMe[incompatible-type] fiber.updateQueue is mixed\n      (fiber.updateQueue?.memoCache != null ||\n        fiber.memoizedState?.memoizedState?.[REACT_MEMO_CACHE_SENTINEL])\n    ) {\n      const displayNameWithoutForgetWrapper = getDisplayNameForFiber(\n        fiber,\n        true,\n      );\n      if (displayNameWithoutForgetWrapper == null) {\n        return null;\n      }\n\n      return `Forget(${displayNameWithoutForgetWrapper})`;\n    }\n\n    switch (tag) {\n      case CacheComponent:\n        return 'Cache';\n      case ClassComponent:\n      case IncompleteClassComponent:\n      case IncompleteFunctionComponent:\n      case FunctionComponent:\n      case IndeterminateComponent:\n        return getDisplayName(resolvedType);\n      case ForwardRef:\n        return getWrappedDisplayName(\n          elementType,\n          resolvedType,\n          'ForwardRef',\n          'Anonymous',\n        );\n      case HostRoot:\n        const fiberRoot = fiber.stateNode;\n        if (fiberRoot != null && fiberRoot._debugRootType !== null) {\n          return fiberRoot._debugRootType;\n        }\n        return null;\n      case HostComponent:\n      case HostSingleton:\n      case HostHoistable:\n        return type;\n      case HostPortal:\n      case HostText:\n        return null;\n      case Fragment:\n        return 'Fragment';\n      case LazyComponent:\n        // This display name will not be user visible.\n        // Once a Lazy component loads its inner component, React replaces the tag and type.\n        // This display name will only show up in console logs when DevTools DEBUG mode is on.\n        return 'Lazy';\n      case MemoComponent:\n      case SimpleMemoComponent:\n        // Display name in React does not use `Memo` as a wrapper but fallback name.\n        return getWrappedDisplayName(\n          elementType,\n          resolvedType,\n          'Memo',\n          'Anonymous',\n        );\n      case SuspenseComponent:\n        return 'Suspense';\n      case LegacyHiddenComponent:\n        return 'LegacyHidden';\n      case OffscreenComponent:\n        return 'Offscreen';\n      case ScopeComponent:\n        return 'Scope';\n      case SuspenseListComponent:\n        return 'SuspenseList';\n      case Profiler:\n        return 'Profiler';\n      case TracingMarkerComponent:\n        return 'TracingMarker';\n      default:\n        const typeSymbol = getTypeSymbol(type);\n\n        switch (typeSymbol) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n            return null;\n          case PROVIDER_NUMBER:\n          case PROVIDER_SYMBOL_STRING:\n            // 16.3.0 exposed the context object as \"context\"\n            // PR #12501 changed it to \"_context\" for 16.3.1+\n            // NOTE Keep in sync with inspectElementRaw()\n            resolvedContext = fiber.type._context || fiber.type.context;\n            return `${resolvedContext.displayName || 'Context'}.Provider`;\n          case CONTEXT_NUMBER:\n          case CONTEXT_SYMBOL_STRING:\n          case SERVER_CONTEXT_SYMBOL_STRING:\n            if (\n              fiber.type._context === undefined &&\n              fiber.type.Provider === fiber.type\n            ) {\n              // In 19+, Context.Provider === Context, so this is a provider.\n              resolvedContext = fiber.type;\n              return `${resolvedContext.displayName || 'Context'}.Provider`;\n            }\n\n            // 16.3-16.5 read from \"type\" because the Consumer is the actual context object.\n            // 16.6+ should read from \"type._context\" because Consumer can be different (in DEV).\n            // NOTE Keep in sync with inspectElementRaw()\n            resolvedContext = fiber.type._context || fiber.type;\n\n            // NOTE: TraceUpdatesBackendManager depends on the name ending in '.Consumer'\n            // If you change the name, figure out a more resilient way to detect it.\n            return `${resolvedContext.displayName || 'Context'}.Consumer`;\n          case CONSUMER_SYMBOL_STRING:\n            // 19+\n            resolvedContext = fiber.type._context;\n            return `${resolvedContext.displayName || 'Context'}.Consumer`;\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            return null;\n          case PROFILER_NUMBER:\n          case PROFILER_SYMBOL_STRING:\n            return `Profiler(${fiber.memoizedProps.id})`;\n          case SCOPE_NUMBER:\n          case SCOPE_SYMBOL_STRING:\n            return 'Scope';\n          default:\n            // Unknown element type.\n            // This may mean a new element type that has not yet been added to DevTools.\n            return null;\n        }\n    }\n  }\n\n  return {\n    getDisplayNameForFiber,\n    getTypeSymbol,\n    ReactPriorityLevels,\n    ReactTypeOfWork,\n    StrictModeBits,\n  };\n}\n\n// Map of one or more Fibers in a pair to their unique id number.\n// We track both Fibers to support Fast Refresh,\n// which may forcefully replace one of the pair as part of hot reloading.\n// In that case it's still important to be able to locate the previous ID during subsequent renders.\nconst fiberToIDMap: Map<Fiber, number> = new Map();\n\n// Map of id to one (arbitrary) Fiber in a pair.\n// This Map is used to e.g. get the display name for a Fiber or schedule an update,\n// operations that should be the same whether the current and work-in-progress Fiber is used.\nconst idToArbitraryFiberMap: Map<number, Fiber> = new Map();\n\nconst fiberToComponentStackMap: WeakMap<Fiber, string> = new WeakMap();\n\nexport function attach(\n  hook: DevToolsHook,\n  rendererID: number,\n  renderer: ReactRenderer,\n  global: Object,\n): RendererInterface {\n  // Newer versions of the reconciler package also specific reconciler version.\n  // If that version number is present, use it.\n  // Third party renderer versions may not match the reconciler version,\n  // and the latter is what's important in terms of tags and symbols.\n  const version = renderer.reconcilerVersion || renderer.version;\n\n  const {\n    getDisplayNameForFiber,\n    getTypeSymbol,\n    ReactPriorityLevels,\n    ReactTypeOfWork,\n    StrictModeBits,\n  } = getInternalReactConstants(version);\n  const {\n    CacheComponent,\n    ClassComponent,\n    ContextConsumer,\n    DehydratedSuspenseComponent,\n    ForwardRef,\n    Fragment,\n    FunctionComponent,\n    HostRoot,\n    HostHoistable,\n    HostSingleton,\n    HostPortal,\n    HostComponent,\n    HostText,\n    IncompleteClassComponent,\n    IncompleteFunctionComponent,\n    IndeterminateComponent,\n    LegacyHiddenComponent,\n    MemoComponent,\n    OffscreenComponent,\n    SimpleMemoComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n    TracingMarkerComponent,\n  } = ReactTypeOfWork;\n  const {\n    ImmediatePriority,\n    UserBlockingPriority,\n    NormalPriority,\n    LowPriority,\n    IdlePriority,\n    NoPriority,\n  } = ReactPriorityLevels;\n\n  const {\n    getLaneLabelMap,\n    injectProfilingHooks,\n    overrideHookState,\n    overrideHookStateDeletePath,\n    overrideHookStateRenamePath,\n    overrideProps,\n    overridePropsDeletePath,\n    overridePropsRenamePath,\n    scheduleRefresh,\n    setErrorHandler,\n    setSuspenseHandler,\n    scheduleUpdate,\n  } = renderer;\n  const supportsTogglingError =\n    typeof setErrorHandler === 'function' &&\n    typeof scheduleUpdate === 'function';\n  const supportsTogglingSuspense =\n    typeof setSuspenseHandler === 'function' &&\n    typeof scheduleUpdate === 'function';\n\n  if (typeof scheduleRefresh === 'function') {\n    // When Fast Refresh updates a component, the frontend may need to purge cached information.\n    // For example, ASTs cached for the component (for named hooks) may no longer be valid.\n    // Send a signal to the frontend to purge this cached information.\n    // The \"fastRefreshScheduled\" dispatched is global (not Fiber or even Renderer specific).\n    // This is less effecient since it means the front-end will need to purge the entire cache,\n    // but this is probably an okay trade off in order to reduce coupling between the DevTools and Fast Refresh.\n    renderer.scheduleRefresh = (...args) => {\n      try {\n        hook.emit('fastRefreshScheduled');\n      } finally {\n        return scheduleRefresh(...args);\n      }\n    };\n  }\n\n  let getTimelineData: null | GetTimelineData = null;\n  let toggleProfilingStatus: null | ToggleProfilingStatus = null;\n  if (typeof injectProfilingHooks === 'function') {\n    const response = createProfilingHooks({\n      getDisplayNameForFiber,\n      getIsProfiling: () => isProfiling,\n      getLaneLabelMap,\n      currentDispatcherRef: getDispatcherRef(renderer),\n      workTagMap: ReactTypeOfWork,\n      reactVersion: version,\n    });\n\n    // Pass the Profiling hooks to the reconciler for it to call during render.\n    injectProfilingHooks(response.profilingHooks);\n\n    // Hang onto this toggle so we can notify the external methods of profiling status changes.\n    getTimelineData = response.getTimelineData;\n    toggleProfilingStatus = response.toggleProfilingStatus;\n  }\n\n  // Tracks Fibers with recently changed number of error/warning messages.\n  // These collections store the Fiber rather than the ID,\n  // in order to avoid generating an ID for Fibers that never get mounted\n  // (due to e.g. Suspense or error boundaries).\n  // onErrorOrWarning() adds Fibers and recordPendingErrorsAndWarnings() later clears them.\n  const fibersWithChangedErrorOrWarningCounts: Set<Fiber> = new Set();\n  const pendingFiberToErrorsMap: Map<Fiber, Map<string, number>> = new Map();\n  const pendingFiberToWarningsMap: Map<Fiber, Map<string, number>> = new Map();\n\n  // Mapping of fiber IDs to error/warning messages and counts.\n  const fiberIDToErrorsMap: Map<number, Map<string, number>> = new Map();\n  const fiberIDToWarningsMap: Map<number, Map<string, number>> = new Map();\n\n  function clearErrorsAndWarnings() {\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const id of fiberIDToErrorsMap.keys()) {\n      const fiber = idToArbitraryFiberMap.get(id);\n      if (fiber != null) {\n        fibersWithChangedErrorOrWarningCounts.add(fiber);\n        updateMostRecentlyInspectedElementIfNecessary(id);\n      }\n    }\n\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const id of fiberIDToWarningsMap.keys()) {\n      const fiber = idToArbitraryFiberMap.get(id);\n      if (fiber != null) {\n        fibersWithChangedErrorOrWarningCounts.add(fiber);\n        updateMostRecentlyInspectedElementIfNecessary(id);\n      }\n    }\n\n    fiberIDToErrorsMap.clear();\n    fiberIDToWarningsMap.clear();\n\n    flushPendingEvents();\n  }\n\n  function clearMessageCountHelper(\n    fiberID: number,\n    pendingFiberToMessageCountMap: Map<Fiber, Map<string, number>>,\n    fiberIDToMessageCountMap: Map<number, Map<string, number>>,\n  ) {\n    const fiber = idToArbitraryFiberMap.get(fiberID);\n    if (fiber != null) {\n      // Throw out any pending changes.\n      pendingFiberToErrorsMap.delete(fiber);\n\n      if (fiberIDToMessageCountMap.has(fiberID)) {\n        fiberIDToMessageCountMap.delete(fiberID);\n\n        // If previous flushed counts have changed, schedule an update too.\n        fibersWithChangedErrorOrWarningCounts.add(fiber);\n        flushPendingEvents();\n\n        updateMostRecentlyInspectedElementIfNecessary(fiberID);\n      } else {\n        fibersWithChangedErrorOrWarningCounts.delete(fiber);\n      }\n    }\n  }\n\n  function clearErrorsForFiberID(fiberID: number) {\n    clearMessageCountHelper(\n      fiberID,\n      pendingFiberToErrorsMap,\n      fiberIDToErrorsMap,\n    );\n  }\n\n  function clearWarningsForFiberID(fiberID: number) {\n    clearMessageCountHelper(\n      fiberID,\n      pendingFiberToWarningsMap,\n      fiberIDToWarningsMap,\n    );\n  }\n\n  function updateMostRecentlyInspectedElementIfNecessary(\n    fiberID: number,\n  ): void {\n    if (\n      mostRecentlyInspectedElement !== null &&\n      mostRecentlyInspectedElement.id === fiberID\n    ) {\n      hasElementUpdatedSinceLastInspected = true;\n    }\n  }\n\n  // Called when an error or warning is logged during render, commit, or passive (including unmount functions).\n  function onErrorOrWarning(\n    fiber: Fiber,\n    type: 'error' | 'warn',\n    args: $ReadOnlyArray<any>,\n  ): void {\n    if (type === 'error') {\n      const maybeID = getFiberIDUnsafe(fiber);\n      // if this is an error simulated by us to trigger error boundary, ignore\n      if (maybeID != null && forceErrorForFiberIDs.get(maybeID) === true) {\n        return;\n      }\n    }\n    const message = format(...args);\n    if (__DEBUG__) {\n      debug('onErrorOrWarning', fiber, null, `${type}: \"${message}\"`);\n    }\n\n    // Mark this Fiber as needed its warning/error count updated during the next flush.\n    fibersWithChangedErrorOrWarningCounts.add(fiber);\n\n    // Track the warning/error for later.\n    const fiberMap =\n      type === 'error' ? pendingFiberToErrorsMap : pendingFiberToWarningsMap;\n    const messageMap = fiberMap.get(fiber);\n    if (messageMap != null) {\n      const count = messageMap.get(message) || 0;\n      messageMap.set(message, count + 1);\n    } else {\n      fiberMap.set(fiber, new Map([[message, 1]]));\n    }\n\n    // Passive effects may trigger errors or warnings too;\n    // In this case, we should wait until the rest of the passive effects have run,\n    // but we shouldn't wait until the next commit because that might be a long time.\n    // This would also cause \"tearing\" between an inspected Component and the tree view.\n    // Then again we don't want to flush too soon because this could be an error during async rendering.\n    // Use a debounce technique to ensure that we'll eventually flush.\n    flushPendingErrorsAndWarningsAfterDelay();\n  }\n\n  // Patching the console enables DevTools to do a few useful things:\n  // * Append component stacks to warnings and error messages\n  // * Disable logging during re-renders to inspect hooks (see inspectHooksOfFiber)\n  registerRendererWithConsole(renderer, onErrorOrWarning);\n\n  // The renderer interface can't read these preferences directly,\n  // because it is stored in localStorage within the context of the extension.\n  // It relies on the extension to pass the preference through via the global.\n  patchConsoleUsingWindowValues();\n\n  const debug = (\n    name: string,\n    fiber: Fiber,\n    parentFiber: ?Fiber,\n    extraString: string = '',\n  ): void => {\n    if (__DEBUG__) {\n      const displayName =\n        fiber.tag + ':' + (getDisplayNameForFiber(fiber) || 'null');\n\n      const maybeID = getFiberIDUnsafe(fiber) || '<no id>';\n      const parentDisplayName = parentFiber\n        ? parentFiber.tag +\n          ':' +\n          (getDisplayNameForFiber(parentFiber) || 'null')\n        : '';\n      const maybeParentID = parentFiber\n        ? getFiberIDUnsafe(parentFiber) || '<no-id>'\n        : '';\n\n      console.groupCollapsed(\n        `[renderer] %c${name} %c${displayName} (${maybeID}) %c${\n          parentFiber ? `${parentDisplayName} (${maybeParentID})` : ''\n        } %c${extraString}`,\n        'color: red; font-weight: bold;',\n        'color: blue;',\n        'color: purple;',\n        'color: black;',\n      );\n      console.log(new Error().stack.split('\\n').slice(1).join('\\n'));\n      console.groupEnd();\n    }\n  };\n\n  // Configurable Components tree filters.\n  const hideElementsWithDisplayNames: Set<RegExp> = new Set();\n  const hideElementsWithPaths: Set<RegExp> = new Set();\n  const hideElementsWithTypes: Set<ElementType> = new Set();\n\n  // Highlight updates\n  let traceUpdatesEnabled: boolean = false;\n  const traceUpdatesForNodes: Set<NativeType> = new Set();\n\n  function applyComponentFilters(componentFilters: Array<ComponentFilter>) {\n    hideElementsWithTypes.clear();\n    hideElementsWithDisplayNames.clear();\n    hideElementsWithPaths.clear();\n\n    componentFilters.forEach(componentFilter => {\n      if (!componentFilter.isEnabled) {\n        return;\n      }\n\n      switch (componentFilter.type) {\n        case ComponentFilterDisplayName:\n          if (componentFilter.isValid && componentFilter.value !== '') {\n            hideElementsWithDisplayNames.add(\n              new RegExp(componentFilter.value, 'i'),\n            );\n          }\n          break;\n        case ComponentFilterElementType:\n          hideElementsWithTypes.add(componentFilter.value);\n          break;\n        case ComponentFilterLocation:\n          if (componentFilter.isValid && componentFilter.value !== '') {\n            hideElementsWithPaths.add(new RegExp(componentFilter.value, 'i'));\n          }\n          break;\n        case ComponentFilterHOC:\n          hideElementsWithDisplayNames.add(new RegExp('\\\\('));\n          break;\n        default:\n          console.warn(\n            `Invalid component filter type \"${componentFilter.type}\"`,\n          );\n          break;\n      }\n    });\n  }\n\n  // The renderer interface can't read saved component filters directly,\n  // because they are stored in localStorage within the context of the extension.\n  // Instead it relies on the extension to pass filters through.\n  if (window.__REACT_DEVTOOLS_COMPONENT_FILTERS__ != null) {\n    const componentFiltersWithoutLocationBasedOnes =\n      filterOutLocationComponentFilters(\n        window.__REACT_DEVTOOLS_COMPONENT_FILTERS__,\n      );\n    applyComponentFilters(componentFiltersWithoutLocationBasedOnes);\n  } else {\n    // Unfortunately this feature is not expected to work for React Native for now.\n    // It would be annoying for us to spam YellowBox warnings with unactionable stuff,\n    // so for now just skip this message...\n    //console.warn(' DevTools: Could not locate saved component filters');\n\n    // Fallback to assuming the default filters in this case.\n    applyComponentFilters(getDefaultComponentFilters());\n  }\n\n  // If necessary, we can revisit optimizing this operation.\n  // For example, we could add a new recursive unmount tree operation.\n  // The unmount operations are already significantly smaller than mount operations though.\n  // This is something to keep in mind for later.\n  function updateComponentFilters(componentFilters: Array<ComponentFilter>) {\n    if (isProfiling) {\n      // Re-mounting a tree while profiling is in progress might break a lot of assumptions.\n      // If necessary, we could support this- but it doesn't seem like a necessary use case.\n      throw Error('Cannot modify filter preferences while profiling');\n    }\n\n    // Recursively unmount all roots.\n    hook.getFiberRoots(rendererID).forEach(root => {\n      currentRootID = getOrGenerateFiberID(root.current);\n      // The TREE_OPERATION_REMOVE_ROOT operation serves two purposes:\n      // 1. It avoids sending unnecessary bridge traffic to clear a root.\n      // 2. It preserves Fiber IDs when remounting (below) which in turn ID to error/warning mapping.\n      pushOperation(TREE_OPERATION_REMOVE_ROOT);\n      flushPendingEvents(root);\n      currentRootID = -1;\n    });\n\n    applyComponentFilters(componentFilters);\n\n    // Reset pseudo counters so that new path selections will be persisted.\n    rootDisplayNameCounter.clear();\n\n    // Recursively re-mount all roots with new filter criteria applied.\n    hook.getFiberRoots(rendererID).forEach(root => {\n      currentRootID = getOrGenerateFiberID(root.current);\n      setRootPseudoKey(currentRootID, root.current);\n      mountFiberRecursively(root.current, null, false, false);\n      flushPendingEvents(root);\n      currentRootID = -1;\n    });\n\n    // Also re-evaluate all error and warning counts given the new filters.\n    reevaluateErrorsAndWarnings();\n    flushPendingEvents();\n  }\n\n  // NOTICE Keep in sync with get*ForFiber methods\n  function shouldFilterFiber(fiber: Fiber): boolean {\n    const {tag, type, key} = fiber;\n\n    switch (tag) {\n      case DehydratedSuspenseComponent:\n        // TODO: ideally we would show dehydrated Suspense immediately.\n        // However, it has some special behavior (like disconnecting\n        // an alternate and turning into real Suspense) which breaks DevTools.\n        // For now, ignore it, and only show it once it gets hydrated.\n        // https://github.com/bvaughn/react-devtools-experimental/issues/197\n        return true;\n      case HostPortal:\n      case HostText:\n      case LegacyHiddenComponent:\n      case OffscreenComponent:\n        return true;\n      case HostRoot:\n        // It is never valid to filter the root element.\n        return false;\n      case Fragment:\n        return key === null;\n      default:\n        const typeSymbol = getTypeSymbol(type);\n\n        switch (typeSymbol) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            return true;\n          default:\n            break;\n        }\n    }\n\n    const elementType = getElementTypeForFiber(fiber);\n    if (hideElementsWithTypes.has(elementType)) {\n      return true;\n    }\n\n    if (hideElementsWithDisplayNames.size > 0) {\n      const displayName = getDisplayNameForFiber(fiber);\n      if (displayName != null) {\n        // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n        for (const displayNameRegExp of hideElementsWithDisplayNames) {\n          if (displayNameRegExp.test(displayName)) {\n            return true;\n          }\n        }\n      }\n    }\n\n    /* DISABLED: https://github.com/facebook/react/pull/28417\n    if (hideElementsWithPaths.size > 0) {\n      const source = getSourceForFiber(fiber);\n\n      if (source != null) {\n        const {fileName} = source;\n        // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n        for (const pathRegExp of hideElementsWithPaths) {\n          if (pathRegExp.test(fileName)) {\n            return true;\n          }\n        }\n      }\n    }\n    */\n\n    return false;\n  }\n\n  // NOTICE Keep in sync with shouldFilterFiber() and other get*ForFiber methods\n  function getElementTypeForFiber(fiber: Fiber): ElementType {\n    const {type, tag} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n        return ElementTypeClass;\n      case IncompleteFunctionComponent:\n      case FunctionComponent:\n      case IndeterminateComponent:\n        return ElementTypeFunction;\n      case ForwardRef:\n        return ElementTypeForwardRef;\n      case HostRoot:\n        return ElementTypeRoot;\n      case HostComponent:\n      case HostHoistable:\n      case HostSingleton:\n        return ElementTypeHostComponent;\n      case HostPortal:\n      case HostText:\n      case Fragment:\n        return ElementTypeOtherOrUnknown;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        return ElementTypeMemo;\n      case SuspenseComponent:\n        return ElementTypeSuspense;\n      case SuspenseListComponent:\n        return ElementTypeSuspenseList;\n      case TracingMarkerComponent:\n        return ElementTypeTracingMarker;\n      default:\n        const typeSymbol = getTypeSymbol(type);\n\n        switch (typeSymbol) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n            return ElementTypeOtherOrUnknown;\n          case PROVIDER_NUMBER:\n          case PROVIDER_SYMBOL_STRING:\n            return ElementTypeContext;\n          case CONTEXT_NUMBER:\n          case CONTEXT_SYMBOL_STRING:\n            return ElementTypeContext;\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            return ElementTypeOtherOrUnknown;\n          case PROFILER_NUMBER:\n          case PROFILER_SYMBOL_STRING:\n            return ElementTypeProfiler;\n          default:\n            return ElementTypeOtherOrUnknown;\n        }\n    }\n  }\n\n  // When profiling is supported, we store the latest tree base durations for each Fiber.\n  // This is so that we can quickly capture a snapshot of those values if profiling starts.\n  // If we didn't store these values, we'd have to crawl the tree when profiling started,\n  // and use a slow path to find each of the current Fibers.\n  const idToTreeBaseDurationMap: Map<number, number> = new Map();\n\n  // When profiling is supported, we store the latest tree base durations for each Fiber.\n  // This map enables us to filter these times by root when sending them to the frontend.\n  const idToRootMap: Map<number, number> = new Map();\n\n  // When a mount or update is in progress, this value tracks the root that is being operated on.\n  let currentRootID: number = -1;\n\n  // Returns the unique ID for a Fiber or generates and caches a new one if the Fiber hasn't been seen before.\n  // Once this method has been called for a Fiber, untrackFiberID() should always be called later to avoid leaking.\n  function getOrGenerateFiberID(fiber: Fiber): number {\n    let id = null;\n    if (fiberToIDMap.has(fiber)) {\n      id = fiberToIDMap.get(fiber);\n    } else {\n      const {alternate} = fiber;\n      if (alternate !== null && fiberToIDMap.has(alternate)) {\n        id = fiberToIDMap.get(alternate);\n      }\n    }\n\n    let didGenerateID = false;\n    if (id === null) {\n      didGenerateID = true;\n      id = getUID();\n    }\n\n    // This refinement is for Flow purposes only.\n    const refinedID = ((id: any): number);\n\n    // Make sure we're tracking this Fiber\n    // e.g. if it just mounted or an error was logged during initial render.\n    if (!fiberToIDMap.has(fiber)) {\n      fiberToIDMap.set(fiber, refinedID);\n      idToArbitraryFiberMap.set(refinedID, fiber);\n    }\n\n    // Also make sure we're tracking its alternate,\n    // e.g. in case this is the first update after mount.\n    const {alternate} = fiber;\n    if (alternate !== null) {\n      if (!fiberToIDMap.has(alternate)) {\n        fiberToIDMap.set(alternate, refinedID);\n      }\n    }\n\n    if (__DEBUG__) {\n      if (didGenerateID) {\n        debug(\n          'getOrGenerateFiberID()',\n          fiber,\n          fiber.return,\n          'Generated a new UID',\n        );\n      }\n    }\n\n    return refinedID;\n  }\n\n  // Returns an ID if one has already been generated for the Fiber or throws.\n  function getFiberIDThrows(fiber: Fiber): number {\n    const maybeID = getFiberIDUnsafe(fiber);\n    if (maybeID !== null) {\n      return maybeID;\n    }\n    throw Error(\n      `Could not find ID for Fiber \"${getDisplayNameForFiber(fiber) || ''}\"`,\n    );\n  }\n\n  // Returns an ID if one has already been generated for the Fiber or null if one has not been generated.\n  // Use this method while e.g. logging to avoid over-retaining Fibers.\n  function getFiberIDUnsafe(fiber: Fiber): number | null {\n    if (fiberToIDMap.has(fiber)) {\n      return ((fiberToIDMap.get(fiber): any): number);\n    } else {\n      const {alternate} = fiber;\n      if (alternate !== null && fiberToIDMap.has(alternate)) {\n        return ((fiberToIDMap.get(alternate): any): number);\n      }\n    }\n    return null;\n  }\n\n  // Removes a Fiber (and its alternate) from the Maps used to track their id.\n  // This method should always be called when a Fiber is unmounting.\n  function untrackFiberID(fiber: Fiber) {\n    if (__DEBUG__) {\n      debug('untrackFiberID()', fiber, fiber.return, 'schedule after delay');\n    }\n\n    // Untrack Fibers after a slight delay in order to support a Fast Refresh edge case:\n    // 1. Component type is updated and Fast Refresh schedules an update+remount.\n    // 2. flushPendingErrorsAndWarningsAfterDelay() runs, sees the old Fiber is no longer mounted\n    //    (it's been disconnected by Fast Refresh), and calls untrackFiberID() to clear it from the Map.\n    // 3. React flushes pending passive effects before it runs the next render,\n    //    which logs an error or warning, which causes a new ID to be generated for this Fiber.\n    // 4. DevTools now tries to unmount the old Component with the new ID.\n    //\n    // The underlying problem here is the premature clearing of the Fiber ID,\n    // but DevTools has no way to detect that a given Fiber has been scheduled for Fast Refresh.\n    // (The \"_debugNeedsRemount\" flag won't necessarily be set.)\n    //\n    // The best we can do is to delay untracking by a small amount,\n    // and give React time to process the Fast Refresh delay.\n\n    untrackFibersSet.add(fiber);\n\n    // React may detach alternate pointers during unmount;\n    // Since our untracking code is async, we should explicily track the pending alternate here as well.\n    const alternate = fiber.alternate;\n    if (alternate !== null) {\n      untrackFibersSet.add(alternate);\n    }\n\n    if (untrackFibersTimeoutID === null) {\n      untrackFibersTimeoutID = setTimeout(untrackFibers, 1000);\n    }\n  }\n\n  const untrackFibersSet: Set<Fiber> = new Set();\n  let untrackFibersTimeoutID: TimeoutID | null = null;\n\n  function untrackFibers() {\n    if (untrackFibersTimeoutID !== null) {\n      clearTimeout(untrackFibersTimeoutID);\n      untrackFibersTimeoutID = null;\n    }\n\n    untrackFibersSet.forEach(fiber => {\n      const fiberID = getFiberIDUnsafe(fiber);\n      if (fiberID !== null) {\n        idToArbitraryFiberMap.delete(fiberID);\n\n        // Also clear any errors/warnings associated with this fiber.\n        clearErrorsForFiberID(fiberID);\n        clearWarningsForFiberID(fiberID);\n      }\n\n      fiberToIDMap.delete(fiber);\n      fiberToComponentStackMap.delete(fiber);\n\n      const {alternate} = fiber;\n      if (alternate !== null) {\n        fiberToIDMap.delete(alternate);\n        fiberToComponentStackMap.delete(alternate);\n      }\n\n      if (forceErrorForFiberIDs.has(fiberID)) {\n        forceErrorForFiberIDs.delete(fiberID);\n        if (forceErrorForFiberIDs.size === 0 && setErrorHandler != null) {\n          setErrorHandler(shouldErrorFiberAlwaysNull);\n        }\n      }\n    });\n    untrackFibersSet.clear();\n  }\n\n  function getChangeDescription(\n    prevFiber: Fiber | null,\n    nextFiber: Fiber,\n  ): ChangeDescription | null {\n    switch (getElementTypeForFiber(nextFiber)) {\n      case ElementTypeClass:\n      case ElementTypeFunction:\n      case ElementTypeMemo:\n      case ElementTypeForwardRef:\n        if (prevFiber === null) {\n          return {\n            context: null,\n            didHooksChange: false,\n            isFirstMount: true,\n            props: null,\n            state: null,\n          };\n        } else {\n          const data: ChangeDescription = {\n            context: getContextChangedKeys(nextFiber),\n            didHooksChange: false,\n            isFirstMount: false,\n            props: getChangedKeys(\n              prevFiber.memoizedProps,\n              nextFiber.memoizedProps,\n            ),\n            state: getChangedKeys(\n              prevFiber.memoizedState,\n              nextFiber.memoizedState,\n            ),\n          };\n\n          // Only traverse the hooks list once, depending on what info we're returning.\n          const indices = getChangedHooksIndices(\n            prevFiber.memoizedState,\n            nextFiber.memoizedState,\n          );\n          data.hooks = indices;\n          data.didHooksChange = indices !== null && indices.length > 0;\n\n          return data;\n        }\n      default:\n        return null;\n    }\n  }\n\n  function updateContextsForFiber(fiber: Fiber) {\n    switch (getElementTypeForFiber(fiber)) {\n      case ElementTypeClass:\n      case ElementTypeForwardRef:\n      case ElementTypeFunction:\n      case ElementTypeMemo:\n        if (idToContextsMap !== null) {\n          const id = getFiberIDThrows(fiber);\n          const contexts = getContextsForFiber(fiber);\n          if (contexts !== null) {\n            // $FlowFixMe[incompatible-use] found when upgrading Flow\n            idToContextsMap.set(id, contexts);\n          }\n        }\n        break;\n      default:\n        break;\n    }\n  }\n\n  // Differentiates between a null context value and no context.\n  const NO_CONTEXT = {};\n\n  function getContextsForFiber(fiber: Fiber): [Object, any] | null {\n    let legacyContext = NO_CONTEXT;\n    let modernContext = NO_CONTEXT;\n\n    switch (getElementTypeForFiber(fiber)) {\n      case ElementTypeClass:\n        const instance = fiber.stateNode;\n        if (instance != null) {\n          if (\n            instance.constructor &&\n            instance.constructor.contextType != null\n          ) {\n            modernContext = instance.context;\n          } else {\n            legacyContext = instance.context;\n            if (legacyContext && Object.keys(legacyContext).length === 0) {\n              legacyContext = NO_CONTEXT;\n            }\n          }\n        }\n        return [legacyContext, modernContext];\n      case ElementTypeForwardRef:\n      case ElementTypeFunction:\n      case ElementTypeMemo:\n        const dependencies = fiber.dependencies;\n        if (dependencies && dependencies.firstContext) {\n          modernContext = dependencies.firstContext;\n        }\n\n        return [legacyContext, modernContext];\n      default:\n        return null;\n    }\n  }\n\n  // Record all contexts at the time profiling is started.\n  // Fibers only store the current context value,\n  // so we need to track them separately in order to determine changed keys.\n  function crawlToInitializeContextsMap(fiber: Fiber) {\n    const id = getFiberIDUnsafe(fiber);\n\n    // Not all Fibers in the subtree have mounted yet.\n    // For example, Offscreen (hidden) or Suspense (suspended) subtrees won't yet be tracked.\n    // We can safely skip these subtrees.\n    if (id !== null) {\n      updateContextsForFiber(fiber);\n\n      let current = fiber.child;\n      while (current !== null) {\n        crawlToInitializeContextsMap(current);\n        current = current.sibling;\n      }\n    }\n  }\n\n  function getContextChangedKeys(fiber: Fiber): null | boolean | Array<string> {\n    if (idToContextsMap !== null) {\n      const id = getFiberIDThrows(fiber);\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      const prevContexts = idToContextsMap.has(id)\n        ? // $FlowFixMe[incompatible-use] found when upgrading Flow\n          idToContextsMap.get(id)\n        : null;\n      const nextContexts = getContextsForFiber(fiber);\n\n      if (prevContexts == null || nextContexts == null) {\n        return null;\n      }\n\n      const [prevLegacyContext, prevModernContext] = prevContexts;\n      const [nextLegacyContext, nextModernContext] = nextContexts;\n\n      switch (getElementTypeForFiber(fiber)) {\n        case ElementTypeClass:\n          if (prevContexts && nextContexts) {\n            if (nextLegacyContext !== NO_CONTEXT) {\n              return getChangedKeys(prevLegacyContext, nextLegacyContext);\n            } else if (nextModernContext !== NO_CONTEXT) {\n              return prevModernContext !== nextModernContext;\n            }\n          }\n          break;\n        case ElementTypeForwardRef:\n        case ElementTypeFunction:\n        case ElementTypeMemo:\n          if (nextModernContext !== NO_CONTEXT) {\n            let prevContext = prevModernContext;\n            let nextContext = nextModernContext;\n\n            while (prevContext && nextContext) {\n              // Note this only works for versions of React that support this key (e.v. 18+)\n              // For older versions, there's no good way to read the current context value after render has completed.\n              // This is because React maintains a stack of context values during render,\n              // but by the time DevTools is called, render has finished and the stack is empty.\n              if (!is(prevContext.memoizedValue, nextContext.memoizedValue)) {\n                return true;\n              }\n\n              prevContext = prevContext.next;\n              nextContext = nextContext.next;\n            }\n\n            return false;\n          }\n          break;\n        default:\n          break;\n      }\n    }\n    return null;\n  }\n\n  function isHookThatCanScheduleUpdate(hookObject: any) {\n    const queue = hookObject.queue;\n    if (!queue) {\n      return false;\n    }\n\n    const boundHasOwnProperty = hasOwnProperty.bind(queue);\n\n    // Detect the shape of useState() / useReducer() / useTransition()\n    // using the attributes that are unique to these hooks\n    // but also stable (e.g. not tied to current Lanes implementation)\n    // We don't check for dispatch property, because useTransition doesn't have it\n    if (boundHasOwnProperty('pending')) {\n      return true;\n    }\n\n    // Detect useSyncExternalStore()\n    return (\n      boundHasOwnProperty('value') &&\n      boundHasOwnProperty('getSnapshot') &&\n      typeof queue.getSnapshot === 'function'\n    );\n  }\n\n  function didStatefulHookChange(prev: any, next: any): boolean {\n    const prevMemoizedState = prev.memoizedState;\n    const nextMemoizedState = next.memoizedState;\n\n    if (isHookThatCanScheduleUpdate(prev)) {\n      return prevMemoizedState !== nextMemoizedState;\n    }\n\n    return false;\n  }\n\n  function getChangedHooksIndices(prev: any, next: any): null | Array<number> {\n    if (prev == null || next == null) {\n      return null;\n    }\n\n    const indices = [];\n    let index = 0;\n    if (\n      next.hasOwnProperty('baseState') &&\n      next.hasOwnProperty('memoizedState') &&\n      next.hasOwnProperty('next') &&\n      next.hasOwnProperty('queue')\n    ) {\n      while (next !== null) {\n        if (didStatefulHookChange(prev, next)) {\n          indices.push(index);\n        }\n        next = next.next;\n        prev = prev.next;\n        index++;\n      }\n    }\n\n    return indices;\n  }\n\n  function getChangedKeys(prev: any, next: any): null | Array<string> {\n    if (prev == null || next == null) {\n      return null;\n    }\n\n    // We can't report anything meaningful for hooks changes.\n    if (\n      next.hasOwnProperty('baseState') &&\n      next.hasOwnProperty('memoizedState') &&\n      next.hasOwnProperty('next') &&\n      next.hasOwnProperty('queue')\n    ) {\n      return null;\n    }\n\n    const keys = new Set([...Object.keys(prev), ...Object.keys(next)]);\n    const changedKeys = [];\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const key of keys) {\n      if (prev[key] !== next[key]) {\n        changedKeys.push(key);\n      }\n    }\n\n    return changedKeys;\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  function didFiberRender(prevFiber: Fiber, nextFiber: Fiber): boolean {\n    switch (nextFiber.tag) {\n      case ClassComponent:\n      case FunctionComponent:\n      case ContextConsumer:\n      case MemoComponent:\n      case SimpleMemoComponent:\n      case ForwardRef:\n        // For types that execute user code, we check PerformedWork effect.\n        // We don't reflect bailouts (either referential or sCU) in DevTools.\n        // TODO: This flag is a leaked implementation detail. Once we start\n        // releasing DevTools in lockstep with React, we should import a\n        // function from the reconciler instead.\n        const PerformedWork = 0b000000000000000000000000001;\n        return (getFiberFlags(nextFiber) & PerformedWork) === PerformedWork;\n      // Note: ContextConsumer only gets PerformedWork effect in 16.3.3+\n      // so it won't get highlighted with React 16.3.0 to 16.3.2.\n      default:\n        // For host components and other types, we compare inputs\n        // to determine whether something is an update.\n        return (\n          prevFiber.memoizedProps !== nextFiber.memoizedProps ||\n          prevFiber.memoizedState !== nextFiber.memoizedState ||\n          prevFiber.ref !== nextFiber.ref\n        );\n    }\n  }\n\n  type OperationsArray = Array<number>;\n\n  type StringTableEntry = {\n    encodedString: Array<number>,\n    id: number,\n  };\n\n  const pendingOperations: OperationsArray = [];\n  const pendingRealUnmountedIDs: Array<number> = [];\n  const pendingSimulatedUnmountedIDs: Array<number> = [];\n  let pendingOperationsQueue: Array<OperationsArray> | null = [];\n  const pendingStringTable: Map<string, StringTableEntry> = new Map();\n  let pendingStringTableLength: number = 0;\n  let pendingUnmountedRootID: number | null = null;\n\n  function pushOperation(op: number): void {\n    if (__DEV__) {\n      if (!Number.isInteger(op)) {\n        console.error(\n          'pushOperation() was called but the value is not an integer.',\n          op,\n        );\n      }\n    }\n    pendingOperations.push(op);\n  }\n\n  function shouldBailoutWithPendingOperations() {\n    if (isProfiling) {\n      if (\n        currentCommitProfilingMetadata != null &&\n        currentCommitProfilingMetadata.durations.length > 0\n      ) {\n        return false;\n      }\n    }\n\n    return (\n      pendingOperations.length === 0 &&\n      pendingRealUnmountedIDs.length === 0 &&\n      pendingSimulatedUnmountedIDs.length === 0 &&\n      pendingUnmountedRootID === null\n    );\n  }\n\n  function flushOrQueueOperations(operations: OperationsArray): void {\n    if (shouldBailoutWithPendingOperations()) {\n      return;\n    }\n\n    if (pendingOperationsQueue !== null) {\n      pendingOperationsQueue.push(operations);\n    } else {\n      hook.emit('operations', operations);\n    }\n  }\n\n  let flushPendingErrorsAndWarningsAfterDelayTimeoutID: null | TimeoutID = null;\n\n  function clearPendingErrorsAndWarningsAfterDelay() {\n    if (flushPendingErrorsAndWarningsAfterDelayTimeoutID !== null) {\n      clearTimeout(flushPendingErrorsAndWarningsAfterDelayTimeoutID);\n      flushPendingErrorsAndWarningsAfterDelayTimeoutID = null;\n    }\n  }\n\n  function flushPendingErrorsAndWarningsAfterDelay() {\n    clearPendingErrorsAndWarningsAfterDelay();\n\n    flushPendingErrorsAndWarningsAfterDelayTimeoutID = setTimeout(() => {\n      flushPendingErrorsAndWarningsAfterDelayTimeoutID = null;\n\n      if (pendingOperations.length > 0) {\n        // On the off chance that something else has pushed pending operations,\n        // we should bail on warnings; it's probably not safe to push midway.\n        return;\n      }\n\n      recordPendingErrorsAndWarnings();\n\n      if (shouldBailoutWithPendingOperations()) {\n        // No warnings or errors to flush; we can bail out early here too.\n        return;\n      }\n\n      // We can create a smaller operations array than flushPendingEvents()\n      // because we only need to flush warning and error counts.\n      // Only a few pieces of fixed information are required up front.\n      const operations: OperationsArray = new Array(\n        3 + pendingOperations.length,\n      );\n      operations[0] = rendererID;\n      operations[1] = currentRootID;\n      operations[2] = 0; // String table size\n      for (let j = 0; j < pendingOperations.length; j++) {\n        operations[3 + j] = pendingOperations[j];\n      }\n\n      flushOrQueueOperations(operations);\n\n      pendingOperations.length = 0;\n    }, 1000);\n  }\n\n  function reevaluateErrorsAndWarnings() {\n    fibersWithChangedErrorOrWarningCounts.clear();\n    fiberIDToErrorsMap.forEach((countMap, fiberID) => {\n      const fiber = idToArbitraryFiberMap.get(fiberID);\n      if (fiber != null) {\n        fibersWithChangedErrorOrWarningCounts.add(fiber);\n      }\n    });\n    fiberIDToWarningsMap.forEach((countMap, fiberID) => {\n      const fiber = idToArbitraryFiberMap.get(fiberID);\n      if (fiber != null) {\n        fibersWithChangedErrorOrWarningCounts.add(fiber);\n      }\n    });\n    recordPendingErrorsAndWarnings();\n  }\n\n  function mergeMapsAndGetCountHelper(\n    fiber: Fiber,\n    fiberID: number,\n    pendingFiberToMessageCountMap: Map<Fiber, Map<string, number>>,\n    fiberIDToMessageCountMap: Map<number, Map<string, number>>,\n  ): number {\n    let newCount = 0;\n\n    let messageCountMap = fiberIDToMessageCountMap.get(fiberID);\n\n    const pendingMessageCountMap = pendingFiberToMessageCountMap.get(fiber);\n    if (pendingMessageCountMap != null) {\n      if (messageCountMap == null) {\n        messageCountMap = pendingMessageCountMap;\n\n        fiberIDToMessageCountMap.set(fiberID, pendingMessageCountMap);\n      } else {\n        // This Flow refinement should not be necessary and yet...\n        const refinedMessageCountMap = ((messageCountMap: any): Map<\n          string,\n          number,\n        >);\n\n        pendingMessageCountMap.forEach((pendingCount, message) => {\n          const previousCount = refinedMessageCountMap.get(message) || 0;\n          refinedMessageCountMap.set(message, previousCount + pendingCount);\n        });\n      }\n    }\n\n    if (!shouldFilterFiber(fiber)) {\n      if (messageCountMap != null) {\n        messageCountMap.forEach(count => {\n          newCount += count;\n        });\n      }\n    }\n\n    pendingFiberToMessageCountMap.delete(fiber);\n\n    return newCount;\n  }\n\n  function recordPendingErrorsAndWarnings() {\n    clearPendingErrorsAndWarningsAfterDelay();\n\n    fibersWithChangedErrorOrWarningCounts.forEach(fiber => {\n      const fiberID = getFiberIDUnsafe(fiber);\n      if (fiberID === null) {\n        // Don't send updates for Fibers that didn't mount due to e.g. Suspense or an error boundary.\n      } else {\n        const errorCount = mergeMapsAndGetCountHelper(\n          fiber,\n          fiberID,\n          pendingFiberToErrorsMap,\n          fiberIDToErrorsMap,\n        );\n        const warningCount = mergeMapsAndGetCountHelper(\n          fiber,\n          fiberID,\n          pendingFiberToWarningsMap,\n          fiberIDToWarningsMap,\n        );\n\n        pushOperation(TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS);\n        pushOperation(fiberID);\n        pushOperation(errorCount);\n        pushOperation(warningCount);\n      }\n\n      // Always clean up so that we don't leak.\n      pendingFiberToErrorsMap.delete(fiber);\n      pendingFiberToWarningsMap.delete(fiber);\n    });\n    fibersWithChangedErrorOrWarningCounts.clear();\n  }\n\n  function flushPendingEvents(root: Object): void {\n    // Add any pending errors and warnings to the operations array.\n    // We do this just before flushing, so we can ignore errors for no-longer-mounted Fibers.\n    recordPendingErrorsAndWarnings();\n\n    if (shouldBailoutWithPendingOperations()) {\n      // If we aren't profiling, we can just bail out here.\n      // No use sending an empty update over the bridge.\n      //\n      // The Profiler stores metadata for each commit and reconstructs the app tree per commit using:\n      // (1) an initial tree snapshot and\n      // (2) the operations array for each commit\n      // Because of this, it's important that the operations and metadata arrays align,\n      // So it's important not to omit even empty operations while profiling is active.\n      return;\n    }\n\n    const numUnmountIDs =\n      pendingRealUnmountedIDs.length +\n      pendingSimulatedUnmountedIDs.length +\n      (pendingUnmountedRootID === null ? 0 : 1);\n\n    const operations = new Array<number>(\n      // Identify which renderer this update is coming from.\n      2 + // [rendererID, rootFiberID]\n        // How big is the string table?\n        1 + // [stringTableLength]\n        // Then goes the actual string table.\n        pendingStringTableLength +\n        // All unmounts are batched in a single message.\n        // [TREE_OPERATION_REMOVE, removedIDLength, ...ids]\n        (numUnmountIDs > 0 ? 2 + numUnmountIDs : 0) +\n        // Regular operations\n        pendingOperations.length,\n    );\n\n    // Identify which renderer this update is coming from.\n    // This enables roots to be mapped to renderers,\n    // Which in turn enables fiber props, states, and hooks to be inspected.\n    let i = 0;\n    operations[i++] = rendererID;\n    operations[i++] = currentRootID;\n\n    // Now fill in the string table.\n    // [stringTableLength, str1Length, ...str1, str2Length, ...str2, ...]\n    operations[i++] = pendingStringTableLength;\n    pendingStringTable.forEach((entry, stringKey) => {\n      const encodedString = entry.encodedString;\n\n      // Don't use the string length.\n      // It won't work for multibyte characters (like emoji).\n      const length = encodedString.length;\n\n      operations[i++] = length;\n      for (let j = 0; j < length; j++) {\n        operations[i + j] = encodedString[j];\n      }\n\n      i += length;\n    });\n\n    if (numUnmountIDs > 0) {\n      // All unmounts except roots are batched in a single message.\n      operations[i++] = TREE_OPERATION_REMOVE;\n      // The first number is how many unmounted IDs we're gonna send.\n      operations[i++] = numUnmountIDs;\n      // Fill in the real unmounts in the reverse order.\n      // They were inserted parents-first by React, but we want children-first.\n      // So we traverse our array backwards.\n      for (let j = pendingRealUnmountedIDs.length - 1; j >= 0; j--) {\n        operations[i++] = pendingRealUnmountedIDs[j];\n      }\n      // Fill in the simulated unmounts (hidden Suspense subtrees) in their order.\n      // (We want children to go before parents.)\n      // They go *after* the real unmounts because we know for sure they won't be\n      // children of already pushed \"real\" IDs. If they were, we wouldn't be able\n      // to discover them during the traversal, as they would have been deleted.\n      for (let j = 0; j < pendingSimulatedUnmountedIDs.length; j++) {\n        operations[i + j] = pendingSimulatedUnmountedIDs[j];\n      }\n      i += pendingSimulatedUnmountedIDs.length;\n      // The root ID should always be unmounted last.\n      if (pendingUnmountedRootID !== null) {\n        operations[i] = pendingUnmountedRootID;\n        i++;\n      }\n    }\n    // Fill in the rest of the operations.\n    for (let j = 0; j < pendingOperations.length; j++) {\n      operations[i + j] = pendingOperations[j];\n    }\n    i += pendingOperations.length;\n\n    // Let the frontend know about tree operations.\n    flushOrQueueOperations(operations);\n\n    // Reset all of the pending state now that we've told the frontend about it.\n    pendingOperations.length = 0;\n    pendingRealUnmountedIDs.length = 0;\n    pendingSimulatedUnmountedIDs.length = 0;\n    pendingUnmountedRootID = null;\n    pendingStringTable.clear();\n    pendingStringTableLength = 0;\n  }\n\n  function getStringID(string: string | null): number {\n    if (string === null) {\n      return 0;\n    }\n    const existingEntry = pendingStringTable.get(string);\n    if (existingEntry !== undefined) {\n      return existingEntry.id;\n    }\n\n    const id = pendingStringTable.size + 1;\n    const encodedString = utfEncodeString(string);\n\n    pendingStringTable.set(string, {\n      encodedString,\n      id,\n    });\n\n    // The string table total length needs to account both for the string length,\n    // and for the array item that contains the length itself.\n    //\n    // Don't use string length for this table.\n    // It won't work for multibyte characters (like emoji).\n    pendingStringTableLength += encodedString.length + 1;\n\n    return id;\n  }\n\n  function recordMount(fiber: Fiber, parentFiber: Fiber | null) {\n    const isRoot = fiber.tag === HostRoot;\n    const id = getOrGenerateFiberID(fiber);\n\n    if (__DEBUG__) {\n      debug('recordMount()', fiber, parentFiber);\n    }\n\n    const hasOwnerMetadata = fiber.hasOwnProperty('_debugOwner');\n    const isProfilingSupported = fiber.hasOwnProperty('treeBaseDuration');\n\n    // Adding a new field here would require a bridge protocol version bump (a backwads breaking change).\n    // Instead let's re-purpose a pre-existing field to carry more information.\n    let profilingFlags = 0;\n    if (isProfilingSupported) {\n      profilingFlags = PROFILING_FLAG_BASIC_SUPPORT;\n      if (typeof injectProfilingHooks === 'function') {\n        profilingFlags |= PROFILING_FLAG_TIMELINE_SUPPORT;\n      }\n    }\n\n    if (isRoot) {\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(ElementTypeRoot);\n      pushOperation((fiber.mode & StrictModeBits) !== 0 ? 1 : 0);\n      pushOperation(profilingFlags);\n      pushOperation(StrictModeBits !== 0 ? 1 : 0);\n      pushOperation(hasOwnerMetadata ? 1 : 0);\n\n      if (isProfiling) {\n        if (displayNamesByRootID !== null) {\n          displayNamesByRootID.set(id, getDisplayNameForRoot(fiber));\n        }\n      }\n    } else {\n      const {key} = fiber;\n      const displayName = getDisplayNameForFiber(fiber);\n      const elementType = getElementTypeForFiber(fiber);\n      const debugOwner = fiber._debugOwner;\n\n      // Ideally we should call getFiberIDThrows() for _debugOwner,\n      // since owners are almost always higher in the tree (and so have already been processed),\n      // but in some (rare) instances reported in open source, a descendant mounts before an owner.\n      // Since this is a DEV only field it's probably okay to also just lazily generate and ID here if needed.\n      // See https://github.com/facebook/react/issues/21445\n      let ownerID: number;\n      if (debugOwner != null) {\n        if (typeof debugOwner.tag === 'number') {\n          ownerID = getOrGenerateFiberID((debugOwner: any));\n        } else {\n          // TODO: Track Server Component Owners.\n          ownerID = 0;\n        }\n      } else {\n        ownerID = 0;\n      }\n      const parentID = parentFiber ? getFiberIDThrows(parentFiber) : 0;\n\n      const displayNameStringID = getStringID(displayName);\n\n      // This check is a guard to handle a React element that has been modified\n      // in such a way as to bypass the default stringification of the \"key\" property.\n      const keyString = key === null ? null : String(key);\n      const keyStringID = getStringID(keyString);\n\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(elementType);\n      pushOperation(parentID);\n      pushOperation(ownerID);\n      pushOperation(displayNameStringID);\n      pushOperation(keyStringID);\n\n      // If this subtree has a new mode, let the frontend know.\n      if (\n        (fiber.mode & StrictModeBits) !== 0 &&\n        (((parentFiber: any): Fiber).mode & StrictModeBits) === 0\n      ) {\n        pushOperation(TREE_OPERATION_SET_SUBTREE_MODE);\n        pushOperation(id);\n        pushOperation(StrictMode);\n      }\n    }\n\n    if (isProfilingSupported) {\n      idToRootMap.set(id, currentRootID);\n\n      recordProfilingDurations(fiber);\n    }\n  }\n\n  function recordUnmount(fiber: Fiber, isSimulated: boolean) {\n    if (__DEBUG__) {\n      debug(\n        'recordUnmount()',\n        fiber,\n        null,\n        isSimulated ? 'unmount is simulated' : '',\n      );\n    }\n\n    if (trackedPathMatchFiber !== null) {\n      // We're in the process of trying to restore previous selection.\n      // If this fiber matched but is being unmounted, there's no use trying.\n      // Reset the state so we don't keep holding onto it.\n      if (\n        fiber === trackedPathMatchFiber ||\n        fiber === trackedPathMatchFiber.alternate\n      ) {\n        setTrackedPath(null);\n      }\n    }\n\n    const unsafeID = getFiberIDUnsafe(fiber);\n    if (unsafeID === null) {\n      // If we've never seen this Fiber, it might be inside of a legacy render Suspense fragment (so the store is not even aware of it).\n      // In that case we can just ignore it or it will cause errors later on.\n      // One example of this is a Lazy component that never resolves before being unmounted.\n      //\n      // This also might indicate a Fast Refresh force-remount scenario.\n      //\n      // TODO: This is fragile and can obscure actual bugs.\n      return;\n    }\n\n    // Flow refinement.\n    const id = ((unsafeID: any): number);\n    const isRoot = fiber.tag === HostRoot;\n    if (isRoot) {\n      // Roots must be removed only after all children (pending and simulated) have been removed.\n      // So we track it separately.\n      pendingUnmountedRootID = id;\n    } else if (!shouldFilterFiber(fiber)) {\n      // To maintain child-first ordering,\n      // we'll push it into one of these queues,\n      // and later arrange them in the correct order.\n      if (isSimulated) {\n        pendingSimulatedUnmountedIDs.push(id);\n      } else {\n        pendingRealUnmountedIDs.push(id);\n      }\n    }\n\n    if (!fiber._debugNeedsRemount) {\n      untrackFiberID(fiber);\n\n      const isProfilingSupported = fiber.hasOwnProperty('treeBaseDuration');\n      if (isProfilingSupported) {\n        idToRootMap.delete(id);\n        idToTreeBaseDurationMap.delete(id);\n      }\n    }\n  }\n\n  function mountFiberRecursively(\n    firstChild: Fiber,\n    parentFiber: Fiber | null,\n    traverseSiblings: boolean,\n    traceNearestHostComponentUpdate: boolean,\n  ) {\n    // Iterate over siblings rather than recursing.\n    // This reduces the chance of stack overflow for wide trees (e.g. lists with many items).\n    let fiber: Fiber | null = firstChild;\n    while (fiber !== null) {\n      // Generate an ID even for filtered Fibers, in case it's needed later (e.g. for Profiling).\n      getOrGenerateFiberID(fiber);\n\n      if (__DEBUG__) {\n        debug('mountFiberRecursively()', fiber, parentFiber);\n      }\n\n      // If we have the tree selection from previous reload, try to match this Fiber.\n      // Also remember whether to do the same for siblings.\n      const mightSiblingsBeOnTrackedPath =\n        updateTrackedPathStateBeforeMount(fiber);\n\n      const shouldIncludeInTree = !shouldFilterFiber(fiber);\n      if (shouldIncludeInTree) {\n        recordMount(fiber, parentFiber);\n      }\n\n      if (traceUpdatesEnabled) {\n        if (traceNearestHostComponentUpdate) {\n          const elementType = getElementTypeForFiber(fiber);\n          // If an ancestor updated, we should mark the nearest host nodes for highlighting.\n          if (elementType === ElementTypeHostComponent) {\n            traceUpdatesForNodes.add(fiber.stateNode);\n            traceNearestHostComponentUpdate = false;\n          }\n        }\n\n        // We intentionally do not re-enable the traceNearestHostComponentUpdate flag in this branch,\n        // because we don't want to highlight every host node inside of a newly mounted subtree.\n      }\n\n      const isSuspense = fiber.tag === ReactTypeOfWork.SuspenseComponent;\n      if (isSuspense) {\n        const isTimedOut = fiber.memoizedState !== null;\n        if (isTimedOut) {\n          // Special case: if Suspense mounts in a timed-out state,\n          // get the fallback child from the inner fragment and mount\n          // it as if it was our own child. Updates handle this too.\n          const primaryChildFragment = fiber.child;\n          const fallbackChildFragment = primaryChildFragment\n            ? primaryChildFragment.sibling\n            : null;\n          const fallbackChild = fallbackChildFragment\n            ? fallbackChildFragment.child\n            : null;\n          if (fallbackChild !== null) {\n            mountFiberRecursively(\n              fallbackChild,\n              shouldIncludeInTree ? fiber : parentFiber,\n              true,\n              traceNearestHostComponentUpdate,\n            );\n          }\n        } else {\n          let primaryChild: Fiber | null = null;\n          const areSuspenseChildrenConditionallyWrapped =\n            OffscreenComponent === -1;\n          if (areSuspenseChildrenConditionallyWrapped) {\n            primaryChild = fiber.child;\n          } else if (fiber.child !== null) {\n            primaryChild = fiber.child.child;\n          }\n          if (primaryChild !== null) {\n            mountFiberRecursively(\n              primaryChild,\n              shouldIncludeInTree ? fiber : parentFiber,\n              true,\n              traceNearestHostComponentUpdate,\n            );\n          }\n        }\n      } else {\n        if (fiber.child !== null) {\n          mountFiberRecursively(\n            fiber.child,\n            shouldIncludeInTree ? fiber : parentFiber,\n            true,\n            traceNearestHostComponentUpdate,\n          );\n        }\n      }\n\n      // We're exiting this Fiber now, and entering its siblings.\n      // If we have selection to restore, we might need to re-activate tracking.\n      updateTrackedPathStateAfterMount(mightSiblingsBeOnTrackedPath);\n\n      fiber = traverseSiblings ? fiber.sibling : null;\n    }\n  }\n\n  // We use this to simulate unmounting for Suspense trees\n  // when we switch from primary to fallback.\n  function unmountFiberChildrenRecursively(fiber: Fiber) {\n    if (__DEBUG__) {\n      debug('unmountFiberChildrenRecursively()', fiber);\n    }\n\n    // We might meet a nested Suspense on our way.\n    const isTimedOutSuspense =\n      fiber.tag === ReactTypeOfWork.SuspenseComponent &&\n      fiber.memoizedState !== null;\n\n    let child = fiber.child;\n    if (isTimedOutSuspense) {\n      // If it's showing fallback tree, let's traverse it instead.\n      const primaryChildFragment = fiber.child;\n      const fallbackChildFragment = primaryChildFragment\n        ? primaryChildFragment.sibling\n        : null;\n      // Skip over to the real Fiber child.\n      child = fallbackChildFragment ? fallbackChildFragment.child : null;\n    }\n\n    while (child !== null) {\n      // Record simulated unmounts children-first.\n      // We skip nodes without return because those are real unmounts.\n      if (child.return !== null) {\n        unmountFiberChildrenRecursively(child);\n        recordUnmount(child, true);\n      }\n      child = child.sibling;\n    }\n  }\n\n  function recordProfilingDurations(fiber: Fiber) {\n    const id = getFiberIDThrows(fiber);\n    const {actualDuration, treeBaseDuration} = fiber;\n\n    idToTreeBaseDurationMap.set(id, treeBaseDuration || 0);\n\n    if (isProfiling) {\n      const {alternate} = fiber;\n\n      // It's important to update treeBaseDuration even if the current Fiber did not render,\n      // because it's possible that one of its descendants did.\n      if (\n        alternate == null ||\n        treeBaseDuration !== alternate.treeBaseDuration\n      ) {\n        // Tree base duration updates are included in the operations typed array.\n        // So we have to convert them from milliseconds to microseconds so we can send them as ints.\n        const convertedTreeBaseDuration = Math.floor(\n          (treeBaseDuration || 0) * 1000,\n        );\n        pushOperation(TREE_OPERATION_UPDATE_TREE_BASE_DURATION);\n        pushOperation(id);\n        pushOperation(convertedTreeBaseDuration);\n      }\n\n      if (alternate == null || didFiberRender(alternate, fiber)) {\n        if (actualDuration != null) {\n          // The actual duration reported by React includes time spent working on children.\n          // This is useful information, but it's also useful to be able to exclude child durations.\n          // The frontend can't compute this, since the immediate children may have been filtered out.\n          // So we need to do this on the backend.\n          // Note that this calculated self duration is not the same thing as the base duration.\n          // The two are calculated differently (tree duration does not accumulate).\n          let selfDuration = actualDuration;\n          let child = fiber.child;\n          while (child !== null) {\n            selfDuration -= child.actualDuration || 0;\n            child = child.sibling;\n          }\n\n          // If profiling is active, store durations for elements that were rendered during the commit.\n          // Note that we should do this for any fiber we performed work on, regardless of its actualDuration value.\n          // In some cases actualDuration might be 0 for fibers we worked on (particularly if we're using Date.now)\n          // In other cases (e.g. Memo) actualDuration might be greater than 0 even if we \"bailed out\".\n          const metadata =\n            ((currentCommitProfilingMetadata: any): CommitProfilingData);\n          metadata.durations.push(id, actualDuration, selfDuration);\n          metadata.maxActualDuration = Math.max(\n            metadata.maxActualDuration,\n            actualDuration,\n          );\n\n          if (recordChangeDescriptions) {\n            const changeDescription = getChangeDescription(alternate, fiber);\n            if (changeDescription !== null) {\n              if (metadata.changeDescriptions !== null) {\n                metadata.changeDescriptions.set(id, changeDescription);\n              }\n            }\n\n            updateContextsForFiber(fiber);\n          }\n        }\n      }\n    }\n  }\n\n  function recordResetChildren(fiber: Fiber, childSet: Fiber) {\n    if (__DEBUG__) {\n      debug('recordResetChildren()', childSet, fiber);\n    }\n    // The frontend only really cares about the displayName, key, and children.\n    // The first two don't really change, so we are only concerned with the order of children here.\n    // This is trickier than a simple comparison though, since certain types of fibers are filtered.\n    const nextChildren: Array<number> = [];\n\n    // This is a naive implementation that shallowly recourses children.\n    // We might want to revisit this if it proves to be too inefficient.\n    let child: null | Fiber = childSet;\n    while (child !== null) {\n      findReorderedChildrenRecursively(child, nextChildren);\n      child = child.sibling;\n    }\n\n    const numChildren = nextChildren.length;\n    if (numChildren < 2) {\n      // No need to reorder.\n      return;\n    }\n    pushOperation(TREE_OPERATION_REORDER_CHILDREN);\n    pushOperation(getFiberIDThrows(fiber));\n    pushOperation(numChildren);\n    for (let i = 0; i < nextChildren.length; i++) {\n      pushOperation(nextChildren[i]);\n    }\n  }\n\n  function findReorderedChildrenRecursively(\n    fiber: Fiber,\n    nextChildren: Array<number>,\n  ) {\n    if (!shouldFilterFiber(fiber)) {\n      nextChildren.push(getFiberIDThrows(fiber));\n    } else {\n      let child = fiber.child;\n      const isTimedOutSuspense =\n        fiber.tag === SuspenseComponent && fiber.memoizedState !== null;\n      if (isTimedOutSuspense) {\n        // Special case: if Suspense mounts in a timed-out state,\n        // get the fallback child from the inner fragment,\n        // and skip over the primary child.\n        const primaryChildFragment = fiber.child;\n        const fallbackChildFragment = primaryChildFragment\n          ? primaryChildFragment.sibling\n          : null;\n        const fallbackChild = fallbackChildFragment\n          ? fallbackChildFragment.child\n          : null;\n        if (fallbackChild !== null) {\n          child = fallbackChild;\n        }\n      }\n      while (child !== null) {\n        findReorderedChildrenRecursively(child, nextChildren);\n        child = child.sibling;\n      }\n    }\n  }\n\n  // Returns whether closest unfiltered fiber parent needs to reset its child list.\n  function updateFiberRecursively(\n    nextFiber: Fiber,\n    prevFiber: Fiber,\n    parentFiber: Fiber | null,\n    traceNearestHostComponentUpdate: boolean,\n  ): boolean {\n    const id = getOrGenerateFiberID(nextFiber);\n\n    if (__DEBUG__) {\n      debug('updateFiberRecursively()', nextFiber, parentFiber);\n    }\n\n    if (traceUpdatesEnabled) {\n      const elementType = getElementTypeForFiber(nextFiber);\n      if (traceNearestHostComponentUpdate) {\n        // If an ancestor updated, we should mark the nearest host nodes for highlighting.\n        if (elementType === ElementTypeHostComponent) {\n          traceUpdatesForNodes.add(nextFiber.stateNode);\n          traceNearestHostComponentUpdate = false;\n        }\n      } else {\n        if (\n          elementType === ElementTypeFunction ||\n          elementType === ElementTypeClass ||\n          elementType === ElementTypeContext ||\n          elementType === ElementTypeMemo ||\n          elementType === ElementTypeForwardRef\n        ) {\n          // Otherwise if this is a traced ancestor, flag for the nearest host descendant(s).\n          traceNearestHostComponentUpdate = didFiberRender(\n            prevFiber,\n            nextFiber,\n          );\n        }\n      }\n    }\n\n    if (\n      mostRecentlyInspectedElement !== null &&\n      mostRecentlyInspectedElement.id === id &&\n      didFiberRender(prevFiber, nextFiber)\n    ) {\n      // If this Fiber has updated, clear cached inspected data.\n      // If it is inspected again, it may need to be re-run to obtain updated hooks values.\n      hasElementUpdatedSinceLastInspected = true;\n    }\n\n    const shouldIncludeInTree = !shouldFilterFiber(nextFiber);\n    const isSuspense = nextFiber.tag === SuspenseComponent;\n    let shouldResetChildren = false;\n    // The behavior of timed-out Suspense trees is unique.\n    // Rather than unmount the timed out content (and possibly lose important state),\n    // React re-parents this content within a hidden Fragment while the fallback is showing.\n    // This behavior doesn't need to be observable in the DevTools though.\n    // It might even result in a bad user experience for e.g. node selection in the Elements panel.\n    // The easiest fix is to strip out the intermediate Fragment fibers,\n    // so the Elements panel and Profiler don't need to special case them.\n    // Suspense components only have a non-null memoizedState if they're timed-out.\n    const prevDidTimeout = isSuspense && prevFiber.memoizedState !== null;\n    const nextDidTimeOut = isSuspense && nextFiber.memoizedState !== null;\n    // The logic below is inspired by the code paths in updateSuspenseComponent()\n    // inside ReactFiberBeginWork in the React source code.\n    if (prevDidTimeout && nextDidTimeOut) {\n      // Fallback -> Fallback:\n      // 1. Reconcile fallback set.\n      const nextFiberChild = nextFiber.child;\n      const nextFallbackChildSet = nextFiberChild\n        ? nextFiberChild.sibling\n        : null;\n      // Note: We can't use nextFiber.child.sibling.alternate\n      // because the set is special and alternate may not exist.\n      const prevFiberChild = prevFiber.child;\n      const prevFallbackChildSet = prevFiberChild\n        ? prevFiberChild.sibling\n        : null;\n\n      if (prevFallbackChildSet == null && nextFallbackChildSet != null) {\n        mountFiberRecursively(\n          nextFallbackChildSet,\n          shouldIncludeInTree ? nextFiber : parentFiber,\n          true,\n          traceNearestHostComponentUpdate,\n        );\n\n        shouldResetChildren = true;\n      }\n\n      if (\n        nextFallbackChildSet != null &&\n        prevFallbackChildSet != null &&\n        updateFiberRecursively(\n          nextFallbackChildSet,\n          prevFallbackChildSet,\n          nextFiber,\n          traceNearestHostComponentUpdate,\n        )\n      ) {\n        shouldResetChildren = true;\n      }\n    } else if (prevDidTimeout && !nextDidTimeOut) {\n      // Fallback -> Primary:\n      // 1. Unmount fallback set\n      // Note: don't emulate fallback unmount because React actually did it.\n      // 2. Mount primary set\n      const nextPrimaryChildSet = nextFiber.child;\n      if (nextPrimaryChildSet !== null) {\n        mountFiberRecursively(\n          nextPrimaryChildSet,\n          shouldIncludeInTree ? nextFiber : parentFiber,\n          true,\n          traceNearestHostComponentUpdate,\n        );\n      }\n      shouldResetChildren = true;\n    } else if (!prevDidTimeout && nextDidTimeOut) {\n      // Primary -> Fallback:\n      // 1. Hide primary set\n      // This is not a real unmount, so it won't get reported by React.\n      // We need to manually walk the previous tree and record unmounts.\n      unmountFiberChildrenRecursively(prevFiber);\n      // 2. Mount fallback set\n      const nextFiberChild = nextFiber.child;\n      const nextFallbackChildSet = nextFiberChild\n        ? nextFiberChild.sibling\n        : null;\n      if (nextFallbackChildSet != null) {\n        mountFiberRecursively(\n          nextFallbackChildSet,\n          shouldIncludeInTree ? nextFiber : parentFiber,\n          true,\n          traceNearestHostComponentUpdate,\n        );\n        shouldResetChildren = true;\n      }\n    } else {\n      // Common case: Primary -> Primary.\n      // This is the same code path as for non-Suspense fibers.\n      if (nextFiber.child !== prevFiber.child) {\n        // If the first child is different, we need to traverse them.\n        // Each next child will be either a new child (mount) or an alternate (update).\n        let nextChild = nextFiber.child;\n        let prevChildAtSameIndex = prevFiber.child;\n        while (nextChild) {\n          // We already know children will be referentially different because\n          // they are either new mounts or alternates of previous children.\n          // Schedule updates and mounts depending on whether alternates exist.\n          // We don't track deletions here because they are reported separately.\n          if (nextChild.alternate) {\n            const prevChild = nextChild.alternate;\n            if (\n              updateFiberRecursively(\n                nextChild,\n                prevChild,\n                shouldIncludeInTree ? nextFiber : parentFiber,\n                traceNearestHostComponentUpdate,\n              )\n            ) {\n              // If a nested tree child order changed but it can't handle its own\n              // child order invalidation (e.g. because it's filtered out like host nodes),\n              // propagate the need to reset child order upwards to this Fiber.\n              shouldResetChildren = true;\n            }\n            // However we also keep track if the order of the children matches\n            // the previous order. They are always different referentially, but\n            // if the instances line up conceptually we'll want to know that.\n            if (prevChild !== prevChildAtSameIndex) {\n              shouldResetChildren = true;\n            }\n          } else {\n            mountFiberRecursively(\n              nextChild,\n              shouldIncludeInTree ? nextFiber : parentFiber,\n              false,\n              traceNearestHostComponentUpdate,\n            );\n            shouldResetChildren = true;\n          }\n          // Try the next child.\n          nextChild = nextChild.sibling;\n          // Advance the pointer in the previous list so that we can\n          // keep comparing if they line up.\n          if (!shouldResetChildren && prevChildAtSameIndex !== null) {\n            prevChildAtSameIndex = prevChildAtSameIndex.sibling;\n          }\n        }\n        // If we have no more children, but used to, they don't line up.\n        if (prevChildAtSameIndex !== null) {\n          shouldResetChildren = true;\n        }\n      } else {\n        if (traceUpdatesEnabled) {\n          // If we're tracing updates and we've bailed out before reaching a host node,\n          // we should fall back to recursively marking the nearest host descendants for highlight.\n          if (traceNearestHostComponentUpdate) {\n            const hostFibers = findAllCurrentHostFibers(\n              getFiberIDThrows(nextFiber),\n            );\n            hostFibers.forEach(hostFiber => {\n              traceUpdatesForNodes.add(hostFiber.stateNode);\n            });\n          }\n        }\n      }\n    }\n\n    if (shouldIncludeInTree) {\n      const isProfilingSupported = nextFiber.hasOwnProperty('treeBaseDuration');\n      if (isProfilingSupported) {\n        recordProfilingDurations(nextFiber);\n      }\n    }\n    if (shouldResetChildren) {\n      // We need to crawl the subtree for closest non-filtered Fibers\n      // so that we can display them in a flat children set.\n      if (shouldIncludeInTree) {\n        // Normally, search for children from the rendered child.\n        let nextChildSet = nextFiber.child;\n        if (nextDidTimeOut) {\n          // Special case: timed-out Suspense renders the fallback set.\n          const nextFiberChild = nextFiber.child;\n          nextChildSet = nextFiberChild ? nextFiberChild.sibling : null;\n        }\n        if (nextChildSet != null) {\n          recordResetChildren(nextFiber, nextChildSet);\n        }\n        // We've handled the child order change for this Fiber.\n        // Since it's included, there's no need to invalidate parent child order.\n        return false;\n      } else {\n        // Let the closest unfiltered parent Fiber reset its child order instead.\n        return true;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  function cleanup() {\n    // We don't patch any methods so there is no cleanup.\n  }\n\n  function rootSupportsProfiling(root: any) {\n    if (root.memoizedInteractions != null) {\n      // v16 builds include this field for the scheduler/tracing API.\n      return true;\n    } else if (\n      root.current != null &&\n      root.current.hasOwnProperty('treeBaseDuration')\n    ) {\n      // The scheduler/tracing API was removed in v17 though\n      // so we need to check a non-root Fiber.\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  function flushInitialOperations() {\n    const localPendingOperationsQueue = pendingOperationsQueue;\n\n    pendingOperationsQueue = null;\n\n    if (\n      localPendingOperationsQueue !== null &&\n      localPendingOperationsQueue.length > 0\n    ) {\n      // We may have already queued up some operations before the frontend connected\n      // If so, let the frontend know about them.\n      localPendingOperationsQueue.forEach(operations => {\n        hook.emit('operations', operations);\n      });\n    } else {\n      // Before the traversals, remember to start tracking\n      // our path in case we have selection to restore.\n      if (trackedPath !== null) {\n        mightBeOnTrackedPath = true;\n      }\n      // If we have not been profiling, then we can just walk the tree and build up its current state as-is.\n      hook.getFiberRoots(rendererID).forEach(root => {\n        currentRootID = getOrGenerateFiberID(root.current);\n        setRootPseudoKey(currentRootID, root.current);\n\n        // Handle multi-renderer edge-case where only some v16 renderers support profiling.\n        if (isProfiling && rootSupportsProfiling(root)) {\n          // If profiling is active, store commit time and duration.\n          // The frontend may request this information after profiling has stopped.\n          currentCommitProfilingMetadata = {\n            changeDescriptions: recordChangeDescriptions ? new Map() : null,\n            durations: [],\n            commitTime: getCurrentTime() - profilingStartTime,\n            maxActualDuration: 0,\n            priorityLevel: null,\n            updaters: getUpdatersList(root),\n            effectDuration: null,\n            passiveEffectDuration: null,\n          };\n        }\n\n        mountFiberRecursively(root.current, null, false, false);\n        flushPendingEvents(root);\n        currentRootID = -1;\n      });\n    }\n  }\n\n  function getUpdatersList(root: any): Array<SerializedElement> | null {\n    return root.memoizedUpdaters != null\n      ? Array.from(root.memoizedUpdaters)\n          .filter(fiber => getFiberIDUnsafe(fiber) !== null)\n          .map(fiberToSerializedElement)\n      : null;\n  }\n\n  function handleCommitFiberUnmount(fiber: any) {\n    // If the untrackFiberSet already has the unmounted Fiber, this means we've already\n    // recordedUnmount, so we don't need to do it again. If we don't do this, we might\n    // end up double-deleting Fibers in some cases (like Legacy Suspense).\n    if (!untrackFibersSet.has(fiber)) {\n      // This is not recursive.\n      // We can't traverse fibers after unmounting so instead\n      // we rely on React telling us about each unmount.\n      recordUnmount(fiber, false);\n    }\n  }\n\n  function handlePostCommitFiberRoot(root: any) {\n    if (isProfiling && rootSupportsProfiling(root)) {\n      if (currentCommitProfilingMetadata !== null) {\n        const {effectDuration, passiveEffectDuration} =\n          getEffectDurations(root);\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentCommitProfilingMetadata.effectDuration = effectDuration;\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentCommitProfilingMetadata.passiveEffectDuration =\n          passiveEffectDuration;\n      }\n    }\n  }\n\n  function handleCommitFiberRoot(root: any, priorityLevel: void | number) {\n    const current = root.current;\n    const alternate = current.alternate;\n\n    // Flush any pending Fibers that we are untracking before processing the new commit.\n    // If we don't do this, we might end up double-deleting Fibers in some cases (like Legacy Suspense).\n    untrackFibers();\n\n    currentRootID = getOrGenerateFiberID(current);\n\n    // Before the traversals, remember to start tracking\n    // our path in case we have selection to restore.\n    if (trackedPath !== null) {\n      mightBeOnTrackedPath = true;\n    }\n\n    if (traceUpdatesEnabled) {\n      traceUpdatesForNodes.clear();\n    }\n\n    // Handle multi-renderer edge-case where only some v16 renderers support profiling.\n    const isProfilingSupported = rootSupportsProfiling(root);\n\n    if (isProfiling && isProfilingSupported) {\n      // If profiling is active, store commit time and duration.\n      // The frontend may request this information after profiling has stopped.\n      currentCommitProfilingMetadata = {\n        changeDescriptions: recordChangeDescriptions ? new Map() : null,\n        durations: [],\n        commitTime: getCurrentTime() - profilingStartTime,\n        maxActualDuration: 0,\n        priorityLevel:\n          priorityLevel == null ? null : formatPriorityLevel(priorityLevel),\n\n        updaters: getUpdatersList(root),\n\n        // Initialize to null; if new enough React version is running,\n        // these values will be read during separate handlePostCommitFiberRoot() call.\n        effectDuration: null,\n        passiveEffectDuration: null,\n      };\n    }\n\n    if (alternate) {\n      // TODO: relying on this seems a bit fishy.\n      const wasMounted =\n        alternate.memoizedState != null &&\n        alternate.memoizedState.element != null &&\n        // A dehydrated root is not considered mounted\n        alternate.memoizedState.isDehydrated !== true;\n      const isMounted =\n        current.memoizedState != null &&\n        current.memoizedState.element != null &&\n        // A dehydrated root is not considered mounted\n        current.memoizedState.isDehydrated !== true;\n      if (!wasMounted && isMounted) {\n        // Mount a new root.\n        setRootPseudoKey(currentRootID, current);\n        mountFiberRecursively(current, null, false, false);\n      } else if (wasMounted && isMounted) {\n        // Update an existing root.\n        updateFiberRecursively(current, alternate, null, false);\n      } else if (wasMounted && !isMounted) {\n        // Unmount an existing root.\n        removeRootPseudoKey(currentRootID);\n        recordUnmount(current, false);\n      }\n    } else {\n      // Mount a new root.\n      setRootPseudoKey(currentRootID, current);\n      mountFiberRecursively(current, null, false, false);\n    }\n\n    if (isProfiling && isProfilingSupported) {\n      if (!shouldBailoutWithPendingOperations()) {\n        const commitProfilingMetadata =\n          ((rootToCommitProfilingMetadataMap: any): CommitProfilingMetadataMap).get(\n            currentRootID,\n          );\n\n        if (commitProfilingMetadata != null) {\n          commitProfilingMetadata.push(\n            ((currentCommitProfilingMetadata: any): CommitProfilingData),\n          );\n        } else {\n          ((rootToCommitProfilingMetadataMap: any): CommitProfilingMetadataMap).set(\n            currentRootID,\n            [((currentCommitProfilingMetadata: any): CommitProfilingData)],\n          );\n        }\n      }\n    }\n\n    // We're done here.\n    flushPendingEvents(root);\n\n    if (traceUpdatesEnabled) {\n      hook.emit('traceUpdates', traceUpdatesForNodes);\n    }\n\n    currentRootID = -1;\n  }\n\n  function findAllCurrentHostFibers(id: number): $ReadOnlyArray<Fiber> {\n    const fibers = [];\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (!fiber) {\n      return fibers;\n    }\n\n    // Next we'll drill down this component to find all HostComponent/Text.\n    let node: Fiber = fiber;\n    while (true) {\n      if (node.tag === HostComponent || node.tag === HostText) {\n        fibers.push(node);\n      } else if (node.child) {\n        node.child.return = node;\n        node = node.child;\n        continue;\n      }\n      if (node === fiber) {\n        return fibers;\n      }\n      while (!node.sibling) {\n        if (!node.return || node.return === fiber) {\n          return fibers;\n        }\n        node = node.return;\n      }\n      node.sibling.return = node.return;\n      node = node.sibling;\n    }\n    // Flow needs the return here, but ESLint complains about it.\n    // eslint-disable-next-line no-unreachable\n    return fibers;\n  }\n\n  function findNativeNodesForFiberID(id: number) {\n    try {\n      const fiber = findCurrentFiberUsingSlowPathById(id);\n      if (fiber === null) {\n        return null;\n      }\n\n      const hostFibers = findAllCurrentHostFibers(id);\n      return hostFibers.map(hostFiber => hostFiber.stateNode).filter(Boolean);\n    } catch (err) {\n      // The fiber might have unmounted by now.\n      return null;\n    }\n  }\n\n  function getDisplayNameForFiberID(id: number): null | string {\n    const fiber = idToArbitraryFiberMap.get(id);\n    return fiber != null ? getDisplayNameForFiber(fiber) : null;\n  }\n\n  function getFiberForNative(hostInstance: NativeType) {\n    return renderer.findFiberByHostInstance(hostInstance);\n  }\n\n  function getFiberIDForNative(\n    hostInstance: NativeType,\n    findNearestUnfilteredAncestor: boolean = false,\n  ) {\n    let fiber = renderer.findFiberByHostInstance(hostInstance);\n    if (fiber != null) {\n      if (findNearestUnfilteredAncestor) {\n        while (fiber !== null && shouldFilterFiber(fiber)) {\n          fiber = fiber.return;\n        }\n      }\n      return getFiberIDThrows(((fiber: any): Fiber));\n    }\n    return null;\n  }\n\n  // This function is copied from React and should be kept in sync:\n  // https://github.com/facebook/react/blob/main/packages/react-reconciler/src/ReactFiberTreeReflection.js\n  function assertIsMounted(fiber: Fiber) {\n    if (getNearestMountedFiber(fiber) !== fiber) {\n      throw new Error('Unable to find node on an unmounted component.');\n    }\n  }\n\n  // This function is copied from React and should be kept in sync:\n  // https://github.com/facebook/react/blob/main/packages/react-reconciler/src/ReactFiberTreeReflection.js\n  function getNearestMountedFiber(fiber: Fiber): null | Fiber {\n    let node = fiber;\n    let nearestMounted: null | Fiber = fiber;\n    if (!fiber.alternate) {\n      // If there is no alternate, this might be a new tree that isn't inserted\n      // yet. If it is, then it will have a pending insertion effect on it.\n      let nextNode: Fiber = node;\n      do {\n        node = nextNode;\n        // TODO: This function, and these flags, are a leaked implementation\n        // detail. Once we start releasing DevTools in lockstep with React, we\n        // should import a function from the reconciler instead.\n        const Placement = 0b000000000000000000000000010;\n        const Hydrating = 0b000000000000001000000000000;\n        if ((node.flags & (Placement | Hydrating)) !== 0) {\n          // This is an insertion or in-progress hydration. The nearest possible\n          // mounted fiber is the parent but we need to continue to figure out\n          // if that one is still mounted.\n          nearestMounted = node.return;\n        }\n        // $FlowFixMe[incompatible-type] we bail out when we get a null\n        nextNode = node.return;\n      } while (nextNode);\n    } else {\n      while (node.return) {\n        node = node.return;\n      }\n    }\n    if (node.tag === HostRoot) {\n      // TODO: Check if this was a nested HostRoot when used with\n      // renderContainerIntoSubtree.\n      return nearestMounted;\n    }\n    // If we didn't hit the root, that means that we're in an disconnected tree\n    // that has been unmounted.\n    return null;\n  }\n\n  // This function is copied from React and should be kept in sync:\n  // https://github.com/facebook/react/blob/main/packages/react-reconciler/src/ReactFiberTreeReflection.js\n  // It would be nice if we updated React to inject this function directly (vs just indirectly via findDOMNode).\n  // BEGIN copied code\n  function findCurrentFiberUsingSlowPathById(id: number): Fiber | null {\n    const fiber = idToArbitraryFiberMap.get(id);\n    if (fiber == null) {\n      console.warn(`Could not find Fiber with id \"${id}\"`);\n      return null;\n    }\n\n    const alternate = fiber.alternate;\n    if (!alternate) {\n      // If there is no alternate, then we only need to check if it is mounted.\n      const nearestMounted = getNearestMountedFiber(fiber);\n\n      if (nearestMounted === null) {\n        throw new Error('Unable to find node on an unmounted component.');\n      }\n\n      if (nearestMounted !== fiber) {\n        return null;\n      }\n      return fiber;\n    }\n    // If we have two possible branches, we'll walk backwards up to the root\n    // to see what path the root points to. On the way we may hit one of the\n    // special cases and we'll deal with them.\n    let a: Fiber = fiber;\n    let b: Fiber = alternate;\n    while (true) {\n      const parentA = a.return;\n      if (parentA === null) {\n        // We're at the root.\n        break;\n      }\n      const parentB = parentA.alternate;\n      if (parentB === null) {\n        // There is no alternate. This is an unusual case. Currently, it only\n        // happens when a Suspense component is hidden. An extra fragment fiber\n        // is inserted in between the Suspense fiber and its children. Skip\n        // over this extra fragment fiber and proceed to the next parent.\n        const nextParent = parentA.return;\n        if (nextParent !== null) {\n          a = b = nextParent;\n          continue;\n        }\n        // If there's no parent, we're at the root.\n        break;\n      }\n\n      // If both copies of the parent fiber point to the same child, we can\n      // assume that the child is current. This happens when we bailout on low\n      // priority: the bailed out fiber's child reuses the current child.\n      if (parentA.child === parentB.child) {\n        let child = parentA.child;\n        while (child) {\n          if (child === a) {\n            // We've determined that A is the current branch.\n            assertIsMounted(parentA);\n            return fiber;\n          }\n          if (child === b) {\n            // We've determined that B is the current branch.\n            assertIsMounted(parentA);\n            return alternate;\n          }\n          child = child.sibling;\n        }\n\n        // We should never have an alternate for any mounting node. So the only\n        // way this could possibly happen is if this was unmounted, if at all.\n        throw new Error('Unable to find node on an unmounted component.');\n      }\n\n      if (a.return !== b.return) {\n        // The return pointer of A and the return pointer of B point to different\n        // fibers. We assume that return pointers never criss-cross, so A must\n        // belong to the child set of A.return, and B must belong to the child\n        // set of B.return.\n        a = parentA;\n        b = parentB;\n      } else {\n        // The return pointers point to the same fiber. We'll have to use the\n        // default, slow path: scan the child sets of each parent alternate to see\n        // which child belongs to which set.\n        //\n        // Search parent A's child set\n        let didFindChild = false;\n        let child = parentA.child;\n        while (child) {\n          if (child === a) {\n            didFindChild = true;\n            a = parentA;\n            b = parentB;\n            break;\n          }\n          if (child === b) {\n            didFindChild = true;\n            b = parentA;\n            a = parentB;\n            break;\n          }\n          child = child.sibling;\n        }\n        if (!didFindChild) {\n          // Search parent B's child set\n          child = parentB.child;\n          while (child) {\n            if (child === a) {\n              didFindChild = true;\n              a = parentB;\n              b = parentA;\n              break;\n            }\n            if (child === b) {\n              didFindChild = true;\n              b = parentB;\n              a = parentA;\n              break;\n            }\n            child = child.sibling;\n          }\n\n          if (!didFindChild) {\n            throw new Error(\n              'Child was not found in either parent set. This indicates a bug ' +\n                'in React related to the return pointer. Please file an issue.',\n            );\n          }\n        }\n      }\n\n      if (a.alternate !== b) {\n        throw new Error(\n          \"Return fibers should always be each others' alternates. \" +\n            'This error is likely caused by a bug in React. Please file an issue.',\n        );\n      }\n    }\n\n    // If the root is not a host container, we're in a disconnected tree. I.e.\n    // unmounted.\n    if (a.tag !== HostRoot) {\n      throw new Error('Unable to find node on an unmounted component.');\n    }\n\n    if (a.stateNode.current === a) {\n      // We've determined that A is the current branch.\n      return fiber;\n    }\n    // Otherwise B has to be current branch.\n    return alternate;\n  }\n\n  // END copied code\n\n  function prepareViewAttributeSource(\n    id: number,\n    path: Array<string | number>,\n  ): void {\n    if (isMostRecentlyInspectedElement(id)) {\n      window.$attribute = getInObject(\n        ((mostRecentlyInspectedElement: any): InspectedElement),\n        path,\n      );\n    }\n  }\n\n  function prepareViewElementSource(id: number): void {\n    const fiber = idToArbitraryFiberMap.get(id);\n    if (fiber == null) {\n      console.warn(`Could not find Fiber with id \"${id}\"`);\n      return;\n    }\n\n    const {elementType, tag, type} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n      case IncompleteFunctionComponent:\n      case IndeterminateComponent:\n      case FunctionComponent:\n        global.$type = type;\n        break;\n      case ForwardRef:\n        global.$type = type.render;\n        break;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        global.$type =\n          elementType != null && elementType.type != null\n            ? elementType.type\n            : type;\n        break;\n      default:\n        global.$type = null;\n        break;\n    }\n  }\n\n  function fiberToSerializedElement(fiber: Fiber): SerializedElement {\n    return {\n      displayName: getDisplayNameForFiber(fiber) || 'Anonymous',\n      id: getFiberIDThrows(fiber),\n      key: fiber.key,\n      type: getElementTypeForFiber(fiber),\n    };\n  }\n\n  function getOwnersList(id: number): Array<SerializedElement> | null {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber == null) {\n      return null;\n    }\n\n    const owners: Array<SerializedElement> = [fiberToSerializedElement(fiber)];\n\n    let owner = fiber._debugOwner;\n    while (owner != null) {\n      if (typeof owner.tag === 'number') {\n        const ownerFiber: Fiber = (owner: any); // Refined\n        owners.unshift(fiberToSerializedElement(ownerFiber));\n        owner = ownerFiber._debugOwner;\n      } else {\n        // TODO: Track Server Component Owners.\n        break;\n      }\n    }\n\n    return owners;\n  }\n\n  // Fast path props lookup for React Native style editor.\n  // Could use inspectElementRaw() but that would require shallow rendering hooks components,\n  // and could also mess with memoization.\n  function getInstanceAndStyle(id: number): InstanceAndStyle {\n    let instance = null;\n    let style = null;\n\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber !== null) {\n      instance = fiber.stateNode;\n\n      if (fiber.memoizedProps !== null) {\n        style = fiber.memoizedProps.style;\n      }\n    }\n\n    return {instance, style};\n  }\n\n  function isErrorBoundary(fiber: Fiber): boolean {\n    const {tag, type} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n        const instance = fiber.stateNode;\n        return (\n          typeof type.getDerivedStateFromError === 'function' ||\n          (instance !== null &&\n            typeof instance.componentDidCatch === 'function')\n        );\n      default:\n        return false;\n    }\n  }\n\n  function getNearestErrorBoundaryID(fiber: Fiber): number | null {\n    let parent = fiber.return;\n    while (parent !== null) {\n      if (isErrorBoundary(parent)) {\n        return getFiberIDUnsafe(parent);\n      }\n      parent = parent.return;\n    }\n    return null;\n  }\n\n  function inspectElementRaw(id: number): InspectedElement | null {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber == null) {\n      return null;\n    }\n\n    const {\n      _debugOwner: debugOwner,\n      stateNode,\n      key,\n      memoizedProps,\n      memoizedState,\n      dependencies,\n      tag,\n      type,\n    } = fiber;\n\n    const elementType = getElementTypeForFiber(fiber);\n\n    const usesHooks =\n      (tag === FunctionComponent ||\n        tag === SimpleMemoComponent ||\n        tag === ForwardRef) &&\n      (!!memoizedState || !!dependencies);\n\n    // TODO Show custom UI for Cache like we do for Suspense\n    // For now, just hide state data entirely since it's not meant to be inspected.\n    const showState = !usesHooks && tag !== CacheComponent;\n\n    const typeSymbol = getTypeSymbol(type);\n\n    let canViewSource = false;\n    let context = null;\n    if (\n      tag === ClassComponent ||\n      tag === FunctionComponent ||\n      tag === IncompleteClassComponent ||\n      tag === IncompleteFunctionComponent ||\n      tag === IndeterminateComponent ||\n      tag === MemoComponent ||\n      tag === ForwardRef ||\n      tag === SimpleMemoComponent\n    ) {\n      canViewSource = true;\n      if (stateNode && stateNode.context != null) {\n        // Don't show an empty context object for class components that don't use the context API.\n        const shouldHideContext =\n          elementType === ElementTypeClass &&\n          !(type.contextTypes || type.contextType);\n\n        if (!shouldHideContext) {\n          context = stateNode.context;\n        }\n      }\n    } else if (\n      // Detect pre-19 Context Consumers\n      (typeSymbol === CONTEXT_NUMBER || typeSymbol === CONTEXT_SYMBOL_STRING) &&\n      !(\n        // In 19+, CONTEXT_SYMBOL_STRING means a Provider instead.\n        // It will be handled in a different branch below.\n        // Eventually, this entire branch can be removed.\n        (type._context === undefined && type.Provider === type)\n      )\n    ) {\n      // 16.3-16.5 read from \"type\" because the Consumer is the actual context object.\n      // 16.6+ should read from \"type._context\" because Consumer can be different (in DEV).\n      // NOTE Keep in sync with getDisplayNameForFiber()\n      const consumerResolvedContext = type._context || type;\n\n      // Global context value.\n      context = consumerResolvedContext._currentValue || null;\n\n      // Look for overridden value.\n      let current = ((fiber: any): Fiber).return;\n      while (current !== null) {\n        const currentType = current.type;\n        const currentTypeSymbol = getTypeSymbol(currentType);\n        if (\n          currentTypeSymbol === PROVIDER_NUMBER ||\n          currentTypeSymbol === PROVIDER_SYMBOL_STRING\n        ) {\n          // 16.3.0 exposed the context object as \"context\"\n          // PR #12501 changed it to \"_context\" for 16.3.1+\n          // NOTE Keep in sync with getDisplayNameForFiber()\n          const providerResolvedContext =\n            currentType._context || currentType.context;\n          if (providerResolvedContext === consumerResolvedContext) {\n            context = current.memoizedProps.value;\n            break;\n          }\n        }\n\n        current = current.return;\n      }\n    } else if (\n      // Detect 19+ Context Consumers\n      typeSymbol === CONSUMER_SYMBOL_STRING\n    ) {\n      // This branch is 19+ only, where Context.Provider === Context.\n      // NOTE Keep in sync with getDisplayNameForFiber()\n      const consumerResolvedContext = type._context;\n\n      // Global context value.\n      context = consumerResolvedContext._currentValue || null;\n\n      // Look for overridden value.\n      let current = ((fiber: any): Fiber).return;\n      while (current !== null) {\n        const currentType = current.type;\n        const currentTypeSymbol = getTypeSymbol(currentType);\n        if (\n          // In 19+, these are Context Providers\n          currentTypeSymbol === CONTEXT_SYMBOL_STRING\n        ) {\n          const providerResolvedContext = currentType;\n          if (providerResolvedContext === consumerResolvedContext) {\n            context = current.memoizedProps.value;\n            break;\n          }\n        }\n\n        current = current.return;\n      }\n    }\n\n    let hasLegacyContext = false;\n    if (context !== null) {\n      hasLegacyContext = !!type.contextTypes;\n\n      // To simplify hydration and display logic for context, wrap in a value object.\n      // Otherwise simple values (e.g. strings, booleans) become harder to handle.\n      context = {value: context};\n    }\n\n    let owners: null | Array<SerializedElement> = null;\n    let owner = debugOwner;\n    while (owner != null) {\n      if (typeof owner.tag === 'number') {\n        const ownerFiber: Fiber = (owner: any); // Refined\n        if (owners === null) {\n          owners = [];\n        }\n        owners.push(fiberToSerializedElement(ownerFiber));\n        owner = ownerFiber._debugOwner;\n      } else {\n        // TODO: Track Server Component Owners.\n        break;\n      }\n    }\n\n    const isTimedOutSuspense =\n      tag === SuspenseComponent && memoizedState !== null;\n\n    let hooks = null;\n    if (usesHooks) {\n      const originalConsoleMethods: {[string]: $FlowFixMe} = {};\n\n      // Temporarily disable all console logging before re-running the hook.\n      for (const method in console) {\n        try {\n          originalConsoleMethods[method] = console[method];\n          // $FlowFixMe[prop-missing]\n          console[method] = () => {};\n        } catch (error) {}\n      }\n\n      try {\n        hooks = inspectHooksOfFiber(fiber, getDispatcherRef(renderer));\n      } finally {\n        // Restore original console functionality.\n        for (const method in originalConsoleMethods) {\n          try {\n            // $FlowFixMe[prop-missing]\n            console[method] = originalConsoleMethods[method];\n          } catch (error) {}\n        }\n      }\n    }\n\n    let rootType = null;\n    let current = fiber;\n    while (current.return !== null) {\n      current = current.return;\n    }\n    const fiberRoot = current.stateNode;\n    if (fiberRoot != null && fiberRoot._debugRootType !== null) {\n      rootType = fiberRoot._debugRootType;\n    }\n\n    const errors = fiberIDToErrorsMap.get(id) || new Map();\n    const warnings = fiberIDToWarningsMap.get(id) || new Map();\n\n    let isErrored = false;\n    let targetErrorBoundaryID;\n    if (isErrorBoundary(fiber)) {\n      // if the current inspected element is an error boundary,\n      // either that we want to use it to toggle off error state\n      // or that we allow to force error state on it if it's within another\n      // error boundary\n      //\n      // TODO: This flag is a leaked implementation detail. Once we start\n      // releasing DevTools in lockstep with React, we should import a function\n      // from the reconciler instead.\n      const DidCapture = 0b000000000000000000010000000;\n      isErrored =\n        (fiber.flags & DidCapture) !== 0 ||\n        forceErrorForFiberIDs.get(id) === true;\n      targetErrorBoundaryID = isErrored ? id : getNearestErrorBoundaryID(fiber);\n    } else {\n      targetErrorBoundaryID = getNearestErrorBoundaryID(fiber);\n    }\n\n    const plugins: Plugins = {\n      stylex: null,\n    };\n\n    if (enableStyleXFeatures) {\n      if (memoizedProps != null && memoizedProps.hasOwnProperty('xstyle')) {\n        plugins.stylex = getStyleXData(memoizedProps.xstyle);\n      }\n    }\n\n    let source = null;\n    if (canViewSource) {\n      source = getSourceForFiber(fiber);\n    }\n\n    return {\n      id,\n\n      // Does the current renderer support editable hooks and function props?\n      canEditHooks: typeof overrideHookState === 'function',\n      canEditFunctionProps: typeof overrideProps === 'function',\n\n      // Does the current renderer support advanced editing interface?\n      canEditHooksAndDeletePaths:\n        typeof overrideHookStateDeletePath === 'function',\n      canEditHooksAndRenamePaths:\n        typeof overrideHookStateRenamePath === 'function',\n      canEditFunctionPropsDeletePaths:\n        typeof overridePropsDeletePath === 'function',\n      canEditFunctionPropsRenamePaths:\n        typeof overridePropsRenamePath === 'function',\n\n      canToggleError: supportsTogglingError && targetErrorBoundaryID != null,\n      // Is this error boundary in error state.\n      isErrored,\n      targetErrorBoundaryID,\n\n      canToggleSuspense:\n        supportsTogglingSuspense &&\n        // If it's showing the real content, we can always flip fallback.\n        (!isTimedOutSuspense ||\n          // If it's showing fallback because we previously forced it to,\n          // allow toggling it back to remove the fallback override.\n          forceFallbackForSuspenseIDs.has(id)),\n\n      // Can view component source location.\n      canViewSource,\n      source,\n\n      // Does the component have legacy context attached to it.\n      hasLegacyContext,\n\n      key: key != null ? key : null,\n\n      displayName: getDisplayNameForFiber(fiber),\n      type: elementType,\n\n      // Inspectable properties.\n      // TODO Review sanitization approach for the below inspectable values.\n      context,\n      hooks,\n      props: memoizedProps,\n      state: showState ? memoizedState : null,\n      errors: Array.from(errors.entries()),\n      warnings: Array.from(warnings.entries()),\n\n      // List of owners\n      owners,\n\n      rootType,\n      rendererPackageName: renderer.rendererPackageName,\n      rendererVersion: renderer.version,\n\n      plugins,\n    };\n  }\n\n  let mostRecentlyInspectedElement: InspectedElement | null = null;\n  let hasElementUpdatedSinceLastInspected: boolean = false;\n  let currentlyInspectedPaths: Object = {};\n\n  function isMostRecentlyInspectedElement(id: number): boolean {\n    return (\n      mostRecentlyInspectedElement !== null &&\n      mostRecentlyInspectedElement.id === id\n    );\n  }\n\n  function isMostRecentlyInspectedElementCurrent(id: number): boolean {\n    return (\n      isMostRecentlyInspectedElement(id) && !hasElementUpdatedSinceLastInspected\n    );\n  }\n\n  // Track the intersection of currently inspected paths,\n  // so that we can send their data along if the element is re-rendered.\n  function mergeInspectedPaths(path: Array<string | number>) {\n    let current = currentlyInspectedPaths;\n    path.forEach(key => {\n      if (!current[key]) {\n        current[key] = {};\n      }\n      current = current[key];\n    });\n  }\n\n  function createIsPathAllowed(\n    key: string | null,\n    secondaryCategory: 'hooks' | null,\n  ) {\n    // This function helps prevent previously-inspected paths from being dehydrated in updates.\n    // This is important to avoid a bad user experience where expanded toggles collapse on update.\n    return function isPathAllowed(path: Array<string | number>): boolean {\n      switch (secondaryCategory) {\n        case 'hooks':\n          if (path.length === 1) {\n            // Never dehydrate the \"hooks\" object at the top levels.\n            return true;\n          }\n\n          if (\n            path[path.length - 2] === 'hookSource' &&\n            path[path.length - 1] === 'fileName'\n          ) {\n            // It's important to preserve the full file name (URL) for hook sources\n            // in case the user has enabled the named hooks feature.\n            // Otherwise the frontend may end up with a partial URL which it can't load.\n            return true;\n          }\n\n          if (\n            path[path.length - 1] === 'subHooks' ||\n            path[path.length - 2] === 'subHooks'\n          ) {\n            // Dehydrating the 'subHooks' property makes the HooksTree UI a lot more complicated,\n            // so it's easiest for now if we just don't break on this boundary.\n            // We can always dehydrate a level deeper (in the value object).\n            return true;\n          }\n          break;\n        default:\n          break;\n      }\n\n      let current =\n        key === null ? currentlyInspectedPaths : currentlyInspectedPaths[key];\n      if (!current) {\n        return false;\n      }\n      for (let i = 0; i < path.length; i++) {\n        current = current[path[i]];\n        if (!current) {\n          return false;\n        }\n      }\n      return true;\n    };\n  }\n\n  function updateSelectedElement(inspectedElement: InspectedElement): void {\n    const {hooks, id, props} = inspectedElement;\n\n    const fiber = idToArbitraryFiberMap.get(id);\n    if (fiber == null) {\n      console.warn(`Could not find Fiber with id \"${id}\"`);\n      return;\n    }\n\n    const {elementType, stateNode, tag, type} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n      case IndeterminateComponent:\n        global.$r = stateNode;\n        break;\n      case IncompleteFunctionComponent:\n      case FunctionComponent:\n        global.$r = {\n          hooks,\n          props,\n          type,\n        };\n        break;\n      case ForwardRef:\n        global.$r = {\n          hooks,\n          props,\n          type: type.render,\n        };\n        break;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        global.$r = {\n          hooks,\n          props,\n          type:\n            elementType != null && elementType.type != null\n              ? elementType.type\n              : type,\n        };\n        break;\n      default:\n        global.$r = null;\n        break;\n    }\n  }\n\n  function storeAsGlobal(\n    id: number,\n    path: Array<string | number>,\n    count: number,\n  ): void {\n    if (isMostRecentlyInspectedElement(id)) {\n      const value = getInObject(\n        ((mostRecentlyInspectedElement: any): InspectedElement),\n        path,\n      );\n      const key = `$reactTemp${count}`;\n\n      window[key] = value;\n\n      console.log(key);\n      console.log(value);\n    }\n  }\n\n  function getSerializedElementValueByPath(\n    id: number,\n    path: Array<string | number>,\n  ): ?string {\n    if (isMostRecentlyInspectedElement(id)) {\n      const valueToCopy = getInObject(\n        ((mostRecentlyInspectedElement: any): InspectedElement),\n        path,\n      );\n\n      return serializeToString(valueToCopy);\n    }\n  }\n\n  function inspectElement(\n    requestID: number,\n    id: number,\n    path: Array<string | number> | null,\n    forceFullData: boolean,\n  ): InspectedElementPayload {\n    if (path !== null) {\n      mergeInspectedPaths(path);\n    }\n\n    if (isMostRecentlyInspectedElement(id) && !forceFullData) {\n      if (!hasElementUpdatedSinceLastInspected) {\n        if (path !== null) {\n          let secondaryCategory = null;\n          if (path[0] === 'hooks') {\n            secondaryCategory = 'hooks';\n          }\n\n          // If this element has not been updated since it was last inspected,\n          // we can just return the subset of data in the newly-inspected path.\n          return {\n            id,\n            responseID: requestID,\n            type: 'hydrated-path',\n            path,\n            value: cleanForBridge(\n              getInObject(\n                ((mostRecentlyInspectedElement: any): InspectedElement),\n                path,\n              ),\n              createIsPathAllowed(null, secondaryCategory),\n              path,\n            ),\n          };\n        } else {\n          // If this element has not been updated since it was last inspected, we don't need to return it.\n          // Instead we can just return the ID to indicate that it has not changed.\n          return {\n            id,\n            responseID: requestID,\n            type: 'no-change',\n          };\n        }\n      }\n    } else {\n      currentlyInspectedPaths = {};\n    }\n\n    hasElementUpdatedSinceLastInspected = false;\n\n    try {\n      mostRecentlyInspectedElement = inspectElementRaw(id);\n    } catch (error) {\n      // the error name is synced with ReactDebugHooks\n      if (error.name === 'ReactDebugToolsRenderError') {\n        let message = 'Error rendering inspected element.';\n        let stack;\n        // Log error & cause for user to debug\n        console.error(message + '\\n\\n', error);\n        if (error.cause != null) {\n          const fiber = findCurrentFiberUsingSlowPathById(id);\n          const componentName =\n            fiber != null ? getDisplayNameForFiber(fiber) : null;\n          console.error(\n            'React DevTools encountered an error while trying to inspect hooks. ' +\n              'This is most likely caused by an error in current inspected component' +\n              (componentName != null ? `: \"${componentName}\".` : '.') +\n              '\\nThe error thrown in the component is: \\n\\n',\n            error.cause,\n          );\n          if (error.cause instanceof Error) {\n            message = error.cause.message || message;\n            stack = error.cause.stack;\n          }\n        }\n\n        return {\n          type: 'error',\n          errorType: 'user',\n          id,\n          responseID: requestID,\n          message,\n          stack,\n        };\n      }\n\n      // the error name is synced with ReactDebugHooks\n      if (error.name === 'ReactDebugToolsUnsupportedHookError') {\n        return {\n          type: 'error',\n          errorType: 'unknown-hook',\n          id,\n          responseID: requestID,\n          message:\n            'Unsupported hook in the react-debug-tools package: ' +\n            error.message,\n        };\n      }\n\n      // Log Uncaught Error\n      console.error('Error inspecting element.\\n\\n', error);\n\n      return {\n        type: 'error',\n        errorType: 'uncaught',\n        id,\n        responseID: requestID,\n        message: error.message,\n        stack: error.stack,\n      };\n    }\n\n    if (mostRecentlyInspectedElement === null) {\n      return {\n        id,\n        responseID: requestID,\n        type: 'not-found',\n      };\n    }\n\n    // Any time an inspected element has an update,\n    // we should update the selected $r value as wel.\n    // Do this before dehydration (cleanForBridge).\n    updateSelectedElement(mostRecentlyInspectedElement);\n\n    // Clone before cleaning so that we preserve the full data.\n    // This will enable us to send patches without re-inspecting if hydrated paths are requested.\n    // (Reducing how often we shallow-render is a better DX for function components that use hooks.)\n    const cleanedInspectedElement = {...mostRecentlyInspectedElement};\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.context = cleanForBridge(\n      cleanedInspectedElement.context,\n      createIsPathAllowed('context', null),\n    );\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.hooks = cleanForBridge(\n      cleanedInspectedElement.hooks,\n      createIsPathAllowed('hooks', 'hooks'),\n    );\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.props = cleanForBridge(\n      cleanedInspectedElement.props,\n      createIsPathAllowed('props', null),\n    );\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.state = cleanForBridge(\n      cleanedInspectedElement.state,\n      createIsPathAllowed('state', null),\n    );\n\n    return {\n      id,\n      responseID: requestID,\n      type: 'full-data',\n      // $FlowFixMe[prop-missing] found when upgrading Flow\n      value: cleanedInspectedElement,\n    };\n  }\n\n  function logElementToConsole(id: number) {\n    const result = isMostRecentlyInspectedElementCurrent(id)\n      ? mostRecentlyInspectedElement\n      : inspectElementRaw(id);\n    if (result === null) {\n      console.warn(`Could not find Fiber with id \"${id}\"`);\n      return;\n    }\n\n    const supportsGroup = typeof console.groupCollapsed === 'function';\n    if (supportsGroup) {\n      console.groupCollapsed(\n        `[Click to expand] %c<${result.displayName || 'Component'} />`,\n        // --dom-tag-name-color is the CSS variable Chrome styles HTML elements with in the console.\n        'color: var(--dom-tag-name-color); font-weight: normal;',\n      );\n    }\n    if (result.props !== null) {\n      console.log('Props:', result.props);\n    }\n    if (result.state !== null) {\n      console.log('State:', result.state);\n    }\n    if (result.hooks !== null) {\n      console.log('Hooks:', result.hooks);\n    }\n    const nativeNodes = findNativeNodesForFiberID(id);\n    if (nativeNodes !== null) {\n      console.log('Nodes:', nativeNodes);\n    }\n    if (window.chrome || /firefox/i.test(navigator.userAgent)) {\n      console.log(\n        'Right-click any value to save it as a global variable for further inspection.',\n      );\n    }\n    if (supportsGroup) {\n      console.groupEnd();\n    }\n  }\n\n  function deletePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n  ): void {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber !== null) {\n      const instance = fiber.stateNode;\n\n      switch (type) {\n        case 'context':\n          // To simplify hydration and display of primitive context values (e.g. number, string)\n          // the inspectElement() method wraps context in a {value: ...} object.\n          // We need to remove the first part of the path (the \"value\") before continuing.\n          path = path.slice(1);\n\n          switch (fiber.tag) {\n            case ClassComponent:\n              if (path.length === 0) {\n                // Simple context value (noop)\n              } else {\n                deletePathInObject(instance.context, path);\n              }\n              instance.forceUpdate();\n              break;\n            case FunctionComponent:\n              // Function components using legacy context are not editable\n              // because there's no instance on which to create a cloned, mutated context.\n              break;\n          }\n          break;\n        case 'hooks':\n          if (typeof overrideHookStateDeletePath === 'function') {\n            overrideHookStateDeletePath(fiber, ((hookID: any): number), path);\n          }\n          break;\n        case 'props':\n          if (instance === null) {\n            if (typeof overridePropsDeletePath === 'function') {\n              overridePropsDeletePath(fiber, path);\n            }\n          } else {\n            fiber.pendingProps = copyWithDelete(instance.props, path);\n            instance.forceUpdate();\n          }\n          break;\n        case 'state':\n          deletePathInObject(instance.state, path);\n          instance.forceUpdate();\n          break;\n      }\n    }\n  }\n\n  function renamePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    oldPath: Array<string | number>,\n    newPath: Array<string | number>,\n  ): void {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber !== null) {\n      const instance = fiber.stateNode;\n\n      switch (type) {\n        case 'context':\n          // To simplify hydration and display of primitive context values (e.g. number, string)\n          // the inspectElement() method wraps context in a {value: ...} object.\n          // We need to remove the first part of the path (the \"value\") before continuing.\n          oldPath = oldPath.slice(1);\n          newPath = newPath.slice(1);\n\n          switch (fiber.tag) {\n            case ClassComponent:\n              if (oldPath.length === 0) {\n                // Simple context value (noop)\n              } else {\n                renamePathInObject(instance.context, oldPath, newPath);\n              }\n              instance.forceUpdate();\n              break;\n            case FunctionComponent:\n              // Function components using legacy context are not editable\n              // because there's no instance on which to create a cloned, mutated context.\n              break;\n          }\n          break;\n        case 'hooks':\n          if (typeof overrideHookStateRenamePath === 'function') {\n            overrideHookStateRenamePath(\n              fiber,\n              ((hookID: any): number),\n              oldPath,\n              newPath,\n            );\n          }\n          break;\n        case 'props':\n          if (instance === null) {\n            if (typeof overridePropsRenamePath === 'function') {\n              overridePropsRenamePath(fiber, oldPath, newPath);\n            }\n          } else {\n            fiber.pendingProps = copyWithRename(\n              instance.props,\n              oldPath,\n              newPath,\n            );\n            instance.forceUpdate();\n          }\n          break;\n        case 'state':\n          renamePathInObject(instance.state, oldPath, newPath);\n          instance.forceUpdate();\n          break;\n      }\n    }\n  }\n\n  function overrideValueAtPath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n    value: any,\n  ): void {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber !== null) {\n      const instance = fiber.stateNode;\n\n      switch (type) {\n        case 'context':\n          // To simplify hydration and display of primitive context values (e.g. number, string)\n          // the inspectElement() method wraps context in a {value: ...} object.\n          // We need to remove the first part of the path (the \"value\") before continuing.\n          path = path.slice(1);\n\n          switch (fiber.tag) {\n            case ClassComponent:\n              if (path.length === 0) {\n                // Simple context value\n                instance.context = value;\n              } else {\n                setInObject(instance.context, path, value);\n              }\n              instance.forceUpdate();\n              break;\n            case FunctionComponent:\n              // Function components using legacy context are not editable\n              // because there's no instance on which to create a cloned, mutated context.\n              break;\n          }\n          break;\n        case 'hooks':\n          if (typeof overrideHookState === 'function') {\n            overrideHookState(fiber, ((hookID: any): number), path, value);\n          }\n          break;\n        case 'props':\n          switch (fiber.tag) {\n            case ClassComponent:\n              fiber.pendingProps = copyWithSet(instance.props, path, value);\n              instance.forceUpdate();\n              break;\n            default:\n              if (typeof overrideProps === 'function') {\n                overrideProps(fiber, path, value);\n              }\n              break;\n          }\n          break;\n        case 'state':\n          switch (fiber.tag) {\n            case ClassComponent:\n              setInObject(instance.state, path, value);\n              instance.forceUpdate();\n              break;\n          }\n          break;\n      }\n    }\n  }\n\n  type CommitProfilingData = {\n    changeDescriptions: Map<number, ChangeDescription> | null,\n    commitTime: number,\n    durations: Array<number>,\n    effectDuration: number | null,\n    maxActualDuration: number,\n    passiveEffectDuration: number | null,\n    priorityLevel: string | null,\n    updaters: Array<SerializedElement> | null,\n  };\n\n  type CommitProfilingMetadataMap = Map<number, Array<CommitProfilingData>>;\n  type DisplayNamesByRootID = Map<number, string>;\n\n  let currentCommitProfilingMetadata: CommitProfilingData | null = null;\n  let displayNamesByRootID: DisplayNamesByRootID | null = null;\n  let idToContextsMap: Map<number, any> | null = null;\n  let initialTreeBaseDurationsMap: Map<number, number> | null = null;\n  let initialIDToRootMap: Map<number, number> | null = null;\n  let isProfiling: boolean = false;\n  let profilingStartTime: number = 0;\n  let recordChangeDescriptions: boolean = false;\n  let rootToCommitProfilingMetadataMap: CommitProfilingMetadataMap | null =\n    null;\n\n  function getProfilingData(): ProfilingDataBackend {\n    const dataForRoots: Array<ProfilingDataForRootBackend> = [];\n\n    if (rootToCommitProfilingMetadataMap === null) {\n      throw Error(\n        'getProfilingData() called before any profiling data was recorded',\n      );\n    }\n\n    rootToCommitProfilingMetadataMap.forEach(\n      (commitProfilingMetadata, rootID) => {\n        const commitData: Array<CommitDataBackend> = [];\n        const initialTreeBaseDurations: Array<[number, number]> = [];\n\n        const displayName =\n          (displayNamesByRootID !== null && displayNamesByRootID.get(rootID)) ||\n          'Unknown';\n\n        if (initialTreeBaseDurationsMap != null) {\n          initialTreeBaseDurationsMap.forEach((treeBaseDuration, id) => {\n            if (\n              initialIDToRootMap != null &&\n              initialIDToRootMap.get(id) === rootID\n            ) {\n              // We don't need to convert milliseconds to microseconds in this case,\n              // because the profiling summary is JSON serialized.\n              initialTreeBaseDurations.push([id, treeBaseDuration]);\n            }\n          });\n        }\n\n        commitProfilingMetadata.forEach((commitProfilingData, commitIndex) => {\n          const {\n            changeDescriptions,\n            durations,\n            effectDuration,\n            maxActualDuration,\n            passiveEffectDuration,\n            priorityLevel,\n            commitTime,\n            updaters,\n          } = commitProfilingData;\n\n          const fiberActualDurations: Array<[number, number]> = [];\n          const fiberSelfDurations: Array<[number, number]> = [];\n          for (let i = 0; i < durations.length; i += 3) {\n            const fiberID = durations[i];\n            fiberActualDurations.push([fiberID, durations[i + 1]]);\n            fiberSelfDurations.push([fiberID, durations[i + 2]]);\n          }\n\n          commitData.push({\n            changeDescriptions:\n              changeDescriptions !== null\n                ? Array.from(changeDescriptions.entries())\n                : null,\n            duration: maxActualDuration,\n            effectDuration,\n            fiberActualDurations,\n            fiberSelfDurations,\n            passiveEffectDuration,\n            priorityLevel,\n            timestamp: commitTime,\n            updaters,\n          });\n        });\n\n        dataForRoots.push({\n          commitData,\n          displayName,\n          initialTreeBaseDurations,\n          rootID,\n        });\n      },\n    );\n\n    let timelineData = null;\n    if (typeof getTimelineData === 'function') {\n      const currentTimelineData = getTimelineData();\n      if (currentTimelineData) {\n        const {\n          batchUIDToMeasuresMap,\n          internalModuleSourceToRanges,\n          laneToLabelMap,\n          laneToReactMeasureMap,\n          ...rest\n        } = currentTimelineData;\n\n        timelineData = {\n          ...rest,\n\n          // Most of the data is safe to parse as-is,\n          // but we need to convert the nested Arrays back to Maps.\n          // Most of the data is safe to serialize as-is,\n          // but we need to convert the Maps to nested Arrays.\n          batchUIDToMeasuresKeyValueArray: Array.from(\n            batchUIDToMeasuresMap.entries(),\n          ),\n          internalModuleSourceToRanges: Array.from(\n            internalModuleSourceToRanges.entries(),\n          ),\n          laneToLabelKeyValueArray: Array.from(laneToLabelMap.entries()),\n          laneToReactMeasureKeyValueArray: Array.from(\n            laneToReactMeasureMap.entries(),\n          ),\n        };\n      }\n    }\n\n    return {\n      dataForRoots,\n      rendererID,\n      timelineData,\n    };\n  }\n\n  function startProfiling(shouldRecordChangeDescriptions: boolean) {\n    if (isProfiling) {\n      return;\n    }\n\n    recordChangeDescriptions = shouldRecordChangeDescriptions;\n\n    // Capture initial values as of the time profiling starts.\n    // It's important we snapshot both the durations and the id-to-root map,\n    // since either of these may change during the profiling session\n    // (e.g. when a fiber is re-rendered or when a fiber gets removed).\n    displayNamesByRootID = new Map();\n    initialTreeBaseDurationsMap = new Map(idToTreeBaseDurationMap);\n    initialIDToRootMap = new Map(idToRootMap);\n    idToContextsMap = new Map();\n\n    hook.getFiberRoots(rendererID).forEach(root => {\n      const rootID = getFiberIDThrows(root.current);\n      ((displayNamesByRootID: any): DisplayNamesByRootID).set(\n        rootID,\n        getDisplayNameForRoot(root.current),\n      );\n\n      if (shouldRecordChangeDescriptions) {\n        // Record all contexts at the time profiling is started.\n        // Fibers only store the current context value,\n        // so we need to track them separately in order to determine changed keys.\n        crawlToInitializeContextsMap(root.current);\n      }\n    });\n\n    isProfiling = true;\n    profilingStartTime = getCurrentTime();\n    rootToCommitProfilingMetadataMap = new Map();\n\n    if (toggleProfilingStatus !== null) {\n      toggleProfilingStatus(true);\n    }\n  }\n\n  function stopProfiling() {\n    isProfiling = false;\n    recordChangeDescriptions = false;\n\n    if (toggleProfilingStatus !== null) {\n      toggleProfilingStatus(false);\n    }\n  }\n\n  // Automatically start profiling so that we don't miss timing info from initial \"mount\".\n  if (\n    sessionStorageGetItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY) === 'true'\n  ) {\n    startProfiling(\n      sessionStorageGetItem(SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY) ===\n        'true',\n    );\n  }\n\n  // React will switch between these implementations depending on whether\n  // we have any manually suspended/errored-out Fibers or not.\n  function shouldErrorFiberAlwaysNull() {\n    return null;\n  }\n\n  // Map of id and its force error status: true (error), false (toggled off),\n  // null (do nothing)\n  const forceErrorForFiberIDs = new Map<number | null, $FlowFixMe>();\n\n  function shouldErrorFiberAccordingToMap(fiber: any) {\n    if (typeof setErrorHandler !== 'function') {\n      throw new Error(\n        'Expected overrideError() to not get called for earlier React versions.',\n      );\n    }\n\n    const id = getFiberIDUnsafe(fiber);\n    if (id === null) {\n      return null;\n    }\n\n    let status = null;\n    if (forceErrorForFiberIDs.has(id)) {\n      status = forceErrorForFiberIDs.get(id);\n      if (status === false) {\n        // TRICKY overrideError adds entries to this Map,\n        // so ideally it would be the method that clears them too,\n        // but that would break the functionality of the feature,\n        // since DevTools needs to tell React to act differently than it normally would\n        // (don't just re-render the failed boundary, but reset its errored state too).\n        // So we can only clear it after telling React to reset the state.\n        // Technically this is premature and we should schedule it for later,\n        // since the render could always fail without committing the updated error boundary,\n        // but since this is a DEV-only feature, the simplicity is worth the trade off.\n        forceErrorForFiberIDs.delete(id);\n\n        if (forceErrorForFiberIDs.size === 0) {\n          // Last override is gone. Switch React back to fast path.\n          setErrorHandler(shouldErrorFiberAlwaysNull);\n        }\n      }\n    }\n    return status;\n  }\n\n  function overrideError(id: number, forceError: boolean) {\n    if (\n      typeof setErrorHandler !== 'function' ||\n      typeof scheduleUpdate !== 'function'\n    ) {\n      throw new Error(\n        'Expected overrideError() to not get called for earlier React versions.',\n      );\n    }\n\n    forceErrorForFiberIDs.set(id, forceError);\n\n    if (forceErrorForFiberIDs.size === 1) {\n      // First override is added. Switch React to slower path.\n      setErrorHandler(shouldErrorFiberAccordingToMap);\n    }\n\n    const fiber = idToArbitraryFiberMap.get(id);\n    if (fiber != null) {\n      scheduleUpdate(fiber);\n    }\n  }\n\n  function shouldSuspendFiberAlwaysFalse() {\n    return false;\n  }\n\n  const forceFallbackForSuspenseIDs = new Set<number>();\n\n  function shouldSuspendFiberAccordingToSet(fiber: any) {\n    const maybeID = getFiberIDUnsafe(((fiber: any): Fiber));\n    return maybeID !== null && forceFallbackForSuspenseIDs.has(maybeID);\n  }\n\n  function overrideSuspense(id: number, forceFallback: boolean) {\n    if (\n      typeof setSuspenseHandler !== 'function' ||\n      typeof scheduleUpdate !== 'function'\n    ) {\n      throw new Error(\n        'Expected overrideSuspense() to not get called for earlier React versions.',\n      );\n    }\n    if (forceFallback) {\n      forceFallbackForSuspenseIDs.add(id);\n      if (forceFallbackForSuspenseIDs.size === 1) {\n        // First override is added. Switch React to slower path.\n        setSuspenseHandler(shouldSuspendFiberAccordingToSet);\n      }\n    } else {\n      forceFallbackForSuspenseIDs.delete(id);\n      if (forceFallbackForSuspenseIDs.size === 0) {\n        // Last override is gone. Switch React back to fast path.\n        setSuspenseHandler(shouldSuspendFiberAlwaysFalse);\n      }\n    }\n    const fiber = idToArbitraryFiberMap.get(id);\n    if (fiber != null) {\n      scheduleUpdate(fiber);\n    }\n  }\n\n  // Remember if we're trying to restore the selection after reload.\n  // In that case, we'll do some extra checks for matching mounts.\n  let trackedPath: Array<PathFrame> | null = null;\n  let trackedPathMatchFiber: Fiber | null = null;\n  let trackedPathMatchDepth = -1;\n  let mightBeOnTrackedPath = false;\n\n  function setTrackedPath(path: Array<PathFrame> | null) {\n    if (path === null) {\n      trackedPathMatchFiber = null;\n      trackedPathMatchDepth = -1;\n      mightBeOnTrackedPath = false;\n    }\n    trackedPath = path;\n  }\n\n  // We call this before traversing a new mount.\n  // It remembers whether this Fiber is the next best match for tracked path.\n  // The return value signals whether we should keep matching siblings or not.\n  function updateTrackedPathStateBeforeMount(fiber: Fiber): boolean {\n    if (trackedPath === null || !mightBeOnTrackedPath) {\n      // Fast path: there's nothing to track so do nothing and ignore siblings.\n      return false;\n    }\n    const returnFiber = fiber.return;\n    const returnAlternate = returnFiber !== null ? returnFiber.alternate : null;\n    // By now we know there's some selection to restore, and this is a new Fiber.\n    // Is this newly mounted Fiber a direct child of the current best match?\n    // (This will also be true for new roots if we haven't matched anything yet.)\n    if (\n      trackedPathMatchFiber === returnFiber ||\n      (trackedPathMatchFiber === returnAlternate && returnAlternate !== null)\n    ) {\n      // Is this the next Fiber we should select? Let's compare the frames.\n      const actualFrame = getPathFrame(fiber);\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      const expectedFrame = trackedPath[trackedPathMatchDepth + 1];\n      if (expectedFrame === undefined) {\n        throw new Error('Expected to see a frame at the next depth.');\n      }\n      if (\n        actualFrame.index === expectedFrame.index &&\n        actualFrame.key === expectedFrame.key &&\n        actualFrame.displayName === expectedFrame.displayName\n      ) {\n        // We have our next match.\n        trackedPathMatchFiber = fiber;\n        trackedPathMatchDepth++;\n        // Are we out of frames to match?\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        if (trackedPathMatchDepth === trackedPath.length - 1) {\n          // There's nothing that can possibly match afterwards.\n          // Don't check the children.\n          mightBeOnTrackedPath = false;\n        } else {\n          // Check the children, as they might reveal the next match.\n          mightBeOnTrackedPath = true;\n        }\n        // In either case, since we have a match, we don't need\n        // to check the siblings. They'll never match.\n        return false;\n      }\n    }\n    // This Fiber's parent is on the path, but this Fiber itself isn't.\n    // There's no need to check its children--they won't be on the path either.\n    mightBeOnTrackedPath = false;\n    // However, one of its siblings may be on the path so keep searching.\n    return true;\n  }\n\n  function updateTrackedPathStateAfterMount(\n    mightSiblingsBeOnTrackedPath: boolean,\n  ) {\n    // updateTrackedPathStateBeforeMount() told us whether to match siblings.\n    // Now that we're entering siblings, let's use that information.\n    mightBeOnTrackedPath = mightSiblingsBeOnTrackedPath;\n  }\n\n  // Roots don't have a real persistent identity.\n  // A root's \"pseudo key\" is \"childDisplayName:indexWithThatName\".\n  // For example, \"App:0\" or, in case of similar roots, \"Story:0\", \"Story:1\", etc.\n  // We will use this to try to disambiguate roots when restoring selection between reloads.\n  const rootPseudoKeys: Map<number, string> = new Map();\n  const rootDisplayNameCounter: Map<string, number> = new Map();\n\n  function setRootPseudoKey(id: number, fiber: Fiber) {\n    const name = getDisplayNameForRoot(fiber);\n    const counter = rootDisplayNameCounter.get(name) || 0;\n    rootDisplayNameCounter.set(name, counter + 1);\n    const pseudoKey = `${name}:${counter}`;\n    rootPseudoKeys.set(id, pseudoKey);\n  }\n\n  function removeRootPseudoKey(id: number) {\n    const pseudoKey = rootPseudoKeys.get(id);\n    if (pseudoKey === undefined) {\n      throw new Error('Expected root pseudo key to be known.');\n    }\n    const name = pseudoKey.slice(0, pseudoKey.lastIndexOf(':'));\n    const counter = rootDisplayNameCounter.get(name);\n    if (counter === undefined) {\n      throw new Error('Expected counter to be known.');\n    }\n    if (counter > 1) {\n      rootDisplayNameCounter.set(name, counter - 1);\n    } else {\n      rootDisplayNameCounter.delete(name);\n    }\n    rootPseudoKeys.delete(id);\n  }\n\n  function getDisplayNameForRoot(fiber: Fiber): string {\n    let preferredDisplayName = null;\n    let fallbackDisplayName = null;\n    let child = fiber.child;\n    // Go at most three levels deep into direct children\n    // while searching for a child that has a displayName.\n    for (let i = 0; i < 3; i++) {\n      if (child === null) {\n        break;\n      }\n      const displayName = getDisplayNameForFiber(child);\n      if (displayName !== null) {\n        // Prefer display names that we get from user-defined components.\n        // We want to avoid using e.g. 'Suspense' unless we find nothing else.\n        if (typeof child.type === 'function') {\n          // There's a few user-defined tags, but we'll prefer the ones\n          // that are usually explicitly named (function or class components).\n          preferredDisplayName = displayName;\n        } else if (fallbackDisplayName === null) {\n          fallbackDisplayName = displayName;\n        }\n      }\n      if (preferredDisplayName !== null) {\n        break;\n      }\n      child = child.child;\n    }\n    return preferredDisplayName || fallbackDisplayName || 'Anonymous';\n  }\n\n  function getPathFrame(fiber: Fiber): PathFrame {\n    const {key} = fiber;\n    let displayName = getDisplayNameForFiber(fiber);\n    const index = fiber.index;\n    switch (fiber.tag) {\n      case HostRoot:\n        // Roots don't have a real displayName, index, or key.\n        // Instead, we'll use the pseudo key (childDisplayName:indexWithThatName).\n        const id = getFiberIDThrows(fiber);\n        const pseudoKey = rootPseudoKeys.get(id);\n        if (pseudoKey === undefined) {\n          throw new Error('Expected mounted root to have known pseudo key.');\n        }\n        displayName = pseudoKey;\n        break;\n      case HostComponent:\n        displayName = fiber.type;\n        break;\n      default:\n        break;\n    }\n    return {\n      displayName,\n      key,\n      index,\n    };\n  }\n\n  // Produces a serializable representation that does a best effort\n  // of identifying a particular Fiber between page reloads.\n  // The return path will contain Fibers that are \"invisible\" to the store\n  // because their keys and indexes are important to restoring the selection.\n  function getPathForElement(id: number): Array<PathFrame> | null {\n    let fiber: ?Fiber = idToArbitraryFiberMap.get(id);\n    if (fiber == null) {\n      return null;\n    }\n    const keyPath = [];\n    while (fiber !== null) {\n      // $FlowFixMe[incompatible-call] found when upgrading Flow\n      keyPath.push(getPathFrame(fiber));\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      fiber = fiber.return;\n    }\n    keyPath.reverse();\n    return keyPath;\n  }\n\n  function getBestMatchForTrackedPath(): PathMatch | null {\n    if (trackedPath === null) {\n      // Nothing to match.\n      return null;\n    }\n    if (trackedPathMatchFiber === null) {\n      // We didn't find anything.\n      return null;\n    }\n    // Find the closest Fiber store is aware of.\n    let fiber: null | Fiber = trackedPathMatchFiber;\n    while (fiber !== null && shouldFilterFiber(fiber)) {\n      fiber = fiber.return;\n    }\n    if (fiber === null) {\n      return null;\n    }\n    return {\n      id: getFiberIDThrows(fiber),\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      isFullMatch: trackedPathMatchDepth === trackedPath.length - 1,\n    };\n  }\n\n  const formatPriorityLevel = (priorityLevel: ?number) => {\n    if (priorityLevel == null) {\n      return 'Unknown';\n    }\n\n    switch (priorityLevel) {\n      case ImmediatePriority:\n        return 'Immediate';\n      case UserBlockingPriority:\n        return 'User-Blocking';\n      case NormalPriority:\n        return 'Normal';\n      case LowPriority:\n        return 'Low';\n      case IdlePriority:\n        return 'Idle';\n      case NoPriority:\n      default:\n        return 'Unknown';\n    }\n  };\n\n  function setTraceUpdatesEnabled(isEnabled: boolean): void {\n    traceUpdatesEnabled = isEnabled;\n  }\n\n  function hasFiberWithId(id: number): boolean {\n    return idToArbitraryFiberMap.has(id);\n  }\n\n  function getComponentStackForFiber(fiber: Fiber): string | null {\n    let componentStack = fiberToComponentStackMap.get(fiber);\n    if (componentStack == null) {\n      const dispatcherRef = getDispatcherRef(renderer);\n      if (dispatcherRef == null) {\n        return null;\n      }\n\n      componentStack = getStackByFiberInDevAndProd(\n        ReactTypeOfWork,\n        fiber,\n        dispatcherRef,\n      );\n      fiberToComponentStackMap.set(fiber, componentStack);\n    }\n\n    return componentStack;\n  }\n\n  function getSourceForFiber(fiber: Fiber): Source | null {\n    const componentStack = getComponentStackForFiber(fiber);\n    if (componentStack == null) {\n      return null;\n    }\n\n    return parseSourceFromComponentStack(componentStack);\n  }\n\n  return {\n    cleanup,\n    clearErrorsAndWarnings,\n    clearErrorsForFiberID,\n    clearWarningsForFiberID,\n    getSerializedElementValueByPath,\n    deletePath,\n    findNativeNodesForFiberID,\n    flushInitialOperations,\n    getBestMatchForTrackedPath,\n    getComponentStackForFiber,\n    getSourceForFiber,\n    getDisplayNameForFiberID,\n    getFiberForNative,\n    getFiberIDForNative,\n    getInstanceAndStyle,\n    getOwnersList,\n    getPathForElement,\n    getProfilingData,\n    handleCommitFiberRoot,\n    handleCommitFiberUnmount,\n    handlePostCommitFiberRoot,\n    hasFiberWithId,\n    inspectElement,\n    logElementToConsole,\n    patchConsoleForStrictMode,\n    prepareViewAttributeSource,\n    prepareViewElementSource,\n    overrideError,\n    overrideSuspense,\n    overrideValueAtPath,\n    renamePath,\n    renderer,\n    setTraceUpdatesEnabled,\n    setTrackedPath,\n    startProfiling,\n    stopProfiling,\n    storeAsGlobal,\n    unpatchConsoleForStrictMode,\n    updateComponentFilters,\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {\n  LegacyDispatcherRef,\n  CurrentDispatcherRef,\n  ReactRenderer,\n  WorkTagMap,\n  ConsolePatchSettings,\n} from './types';\nimport {format, formatWithStyles} from './utils';\n\nimport {getInternalReactConstants, getDispatcherRef} from './renderer';\nimport {getStackByFiberInDevAndProd} from './DevToolsFiberComponentStack';\nimport {consoleManagedByDevToolsDuringStrictMode} from 'react-devtools-feature-flags';\nimport {castBool, castBrowserTheme} from '../utils';\n\nconst OVERRIDE_CONSOLE_METHODS = ['error', 'trace', 'warn'];\nconst DIMMED_NODE_CONSOLE_COLOR = '\\x1b[2m%s\\x1b[0m';\n\n// React's custom built component stack strings match \"\\s{4}in\"\n// Chrome's prefix matches \"\\s{4}at\"\nconst PREFIX_REGEX = /\\s{4}(in|at)\\s{1}/;\n// Firefox and Safari have no prefix (\"\")\n// but we can fallback to looking for location info (e.g. \"foo.js:12:345\")\nconst ROW_COLUMN_NUMBER_REGEX = /:\\d+:\\d+(\\n|$)/;\n\nexport function isStringComponentStack(text: string): boolean {\n  return PREFIX_REGEX.test(text) || ROW_COLUMN_NUMBER_REGEX.test(text);\n}\n\nconst STYLE_DIRECTIVE_REGEX = /^%c/;\n\n// This function tells whether or not the arguments for a console\n// method has been overridden by the patchForStrictMode function.\n// If it has we'll need to do some special formatting of the arguments\n// so the console color stays consistent\nfunction isStrictModeOverride(args: Array<string>, method: string): boolean {\n  return (\n    args.length >= 2 &&\n    STYLE_DIRECTIVE_REGEX.test(args[0]) &&\n    args[1] === `color: ${getConsoleColor(method) || ''}`\n  );\n}\n\nfunction getConsoleColor(method: string): ?string {\n  switch (method) {\n    case 'warn':\n      return consoleSettingsRef.browserTheme === 'light'\n        ? process.env.LIGHT_MODE_DIMMED_WARNING_COLOR\n        : process.env.DARK_MODE_DIMMED_WARNING_COLOR;\n    case 'error':\n      return consoleSettingsRef.browserTheme === 'light'\n        ? process.env.LIGHT_MODE_DIMMED_ERROR_COLOR\n        : process.env.DARK_MODE_DIMMED_ERROR_COLOR;\n    case 'log':\n    default:\n      return consoleSettingsRef.browserTheme === 'light'\n        ? process.env.LIGHT_MODE_DIMMED_LOG_COLOR\n        : process.env.DARK_MODE_DIMMED_LOG_COLOR;\n  }\n}\ntype OnErrorOrWarning = (\n  fiber: Fiber,\n  type: 'error' | 'warn',\n  args: Array<any>,\n) => void;\n\nconst injectedRenderers: Map<\n  ReactRenderer,\n  {\n    currentDispatcherRef: LegacyDispatcherRef | CurrentDispatcherRef,\n    getCurrentFiber: () => Fiber | null,\n    onErrorOrWarning: ?OnErrorOrWarning,\n    workTagMap: WorkTagMap,\n  },\n> = new Map();\n\nlet targetConsole: Object = console;\nlet targetConsoleMethods: {[string]: $FlowFixMe} = {};\nfor (const method in console) {\n  targetConsoleMethods[method] = console[method];\n}\n\nlet unpatchFn: null | (() => void) = null;\n\nlet isNode = false;\ntry {\n  isNode = this === global;\n} catch (error) {}\n\n// Enables e.g. Jest tests to inject a mock console object.\nexport function dangerous_setTargetConsoleForTesting(\n  targetConsoleForTesting: Object,\n): void {\n  targetConsole = targetConsoleForTesting;\n\n  targetConsoleMethods = ({}: {[string]: $FlowFixMe});\n  for (const method in targetConsole) {\n    targetConsoleMethods[method] = console[method];\n  }\n}\n\n// v16 renderers should use this method to inject internals necessary to generate a component stack.\n// These internals will be used if the console is patched.\n// Injecting them separately allows the console to easily be patched or un-patched later (at runtime).\nexport function registerRenderer(\n  renderer: ReactRenderer,\n  onErrorOrWarning?: OnErrorOrWarning,\n): void {\n  const {\n    currentDispatcherRef,\n    getCurrentFiber,\n    findFiberByHostInstance,\n    version,\n  } = renderer;\n\n  // Ignore React v15 and older because they don't expose a component stack anyway.\n  if (typeof findFiberByHostInstance !== 'function') {\n    return;\n  }\n\n  // currentDispatcherRef gets injected for v16.8+ to support hooks inspection.\n  // getCurrentFiber gets injected for v16.9+.\n  if (currentDispatcherRef != null && typeof getCurrentFiber === 'function') {\n    const {ReactTypeOfWork} = getInternalReactConstants(version);\n\n    injectedRenderers.set(renderer, {\n      currentDispatcherRef,\n      getCurrentFiber,\n      workTagMap: ReactTypeOfWork,\n      onErrorOrWarning,\n    });\n  }\n}\n\nconst consoleSettingsRef: ConsolePatchSettings = {\n  appendComponentStack: false,\n  breakOnConsoleErrors: false,\n  showInlineWarningsAndErrors: false,\n  hideConsoleLogsInStrictMode: false,\n  browserTheme: 'dark',\n};\n\n// Patches console methods to append component stack for the current fiber.\n// Call unpatch() to remove the injected behavior.\nexport function patch({\n  appendComponentStack,\n  breakOnConsoleErrors,\n  showInlineWarningsAndErrors,\n  hideConsoleLogsInStrictMode,\n  browserTheme,\n}: ConsolePatchSettings): void {\n  // Settings may change after we've patched the console.\n  // Using a shared ref allows the patch function to read the latest values.\n  consoleSettingsRef.appendComponentStack = appendComponentStack;\n  consoleSettingsRef.breakOnConsoleErrors = breakOnConsoleErrors;\n  consoleSettingsRef.showInlineWarningsAndErrors = showInlineWarningsAndErrors;\n  consoleSettingsRef.hideConsoleLogsInStrictMode = hideConsoleLogsInStrictMode;\n  consoleSettingsRef.browserTheme = browserTheme;\n\n  if (\n    appendComponentStack ||\n    breakOnConsoleErrors ||\n    showInlineWarningsAndErrors\n  ) {\n    if (unpatchFn !== null) {\n      // Don't patch twice.\n      return;\n    }\n\n    const originalConsoleMethods: {[string]: $FlowFixMe} = {};\n\n    unpatchFn = () => {\n      for (const method in originalConsoleMethods) {\n        try {\n          targetConsole[method] = originalConsoleMethods[method];\n        } catch (error) {}\n      }\n    };\n\n    OVERRIDE_CONSOLE_METHODS.forEach(method => {\n      try {\n        const originalMethod = (originalConsoleMethods[method] = targetConsole[\n          method\n        ].__REACT_DEVTOOLS_ORIGINAL_METHOD__\n          ? targetConsole[method].__REACT_DEVTOOLS_ORIGINAL_METHOD__\n          : targetConsole[method]);\n\n        // $FlowFixMe[missing-local-annot]\n        const overrideMethod = (...args) => {\n          let shouldAppendWarningStack = false;\n          if (method !== 'log') {\n            if (consoleSettingsRef.appendComponentStack) {\n              const lastArg = args.length > 0 ? args[args.length - 1] : null;\n              const alreadyHasComponentStack =\n                typeof lastArg === 'string' && isStringComponentStack(lastArg);\n\n              // If we are ever called with a string that already has a component stack,\n              // e.g. a React error/warning, don't append a second stack.\n              shouldAppendWarningStack = !alreadyHasComponentStack;\n            }\n          }\n\n          const shouldShowInlineWarningsAndErrors =\n            consoleSettingsRef.showInlineWarningsAndErrors &&\n            (method === 'error' || method === 'warn');\n\n          // Search for the first renderer that has a current Fiber.\n          // We don't handle the edge case of stacks for more than one (e.g. interleaved renderers?)\n          // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n          for (const renderer of injectedRenderers.values()) {\n            const currentDispatcherRef = getDispatcherRef(renderer);\n            const {getCurrentFiber, onErrorOrWarning, workTagMap} = renderer;\n            const current: ?Fiber = getCurrentFiber();\n            if (current != null) {\n              try {\n                if (shouldShowInlineWarningsAndErrors) {\n                  // patch() is called by two places: (1) the hook and (2) the renderer backend.\n                  // The backend is what implements a message queue, so it's the only one that injects onErrorOrWarning.\n                  if (typeof onErrorOrWarning === 'function') {\n                    onErrorOrWarning(\n                      current,\n                      ((method: any): 'error' | 'warn'),\n                      // Copy args before we mutate them (e.g. adding the component stack)\n                      args.slice(),\n                    );\n                  }\n                }\n\n                if (shouldAppendWarningStack) {\n                  const componentStack = getStackByFiberInDevAndProd(\n                    workTagMap,\n                    current,\n                    (currentDispatcherRef: any),\n                  );\n                  if (componentStack !== '') {\n                    if (isStrictModeOverride(args, method)) {\n                      args[0] = `${args[0]} %s`;\n                      args.push(componentStack);\n                    } else {\n                      args.push(componentStack);\n                    }\n                  }\n                }\n              } catch (error) {\n                // Don't let a DevTools or React internal error interfere with logging.\n                setTimeout(() => {\n                  throw error;\n                }, 0);\n              } finally {\n                break;\n              }\n            }\n          }\n\n          if (consoleSettingsRef.breakOnConsoleErrors) {\n            // --- Welcome to debugging with React DevTools ---\n            // This debugger statement means that you've enabled the \"break on warnings\" feature.\n            // Use the browser's Call Stack panel to step out of this override function-\n            // to where the original warning or error was logged.\n            // eslint-disable-next-line no-debugger\n            debugger;\n          }\n\n          originalMethod(...args);\n        };\n\n        overrideMethod.__REACT_DEVTOOLS_ORIGINAL_METHOD__ = originalMethod;\n        originalMethod.__REACT_DEVTOOLS_OVERRIDE_METHOD__ = overrideMethod;\n\n        targetConsole[method] = overrideMethod;\n      } catch (error) {}\n    });\n  } else {\n    unpatch();\n  }\n}\n\n// Removed component stack patch from console methods.\nexport function unpatch(): void {\n  if (unpatchFn !== null) {\n    unpatchFn();\n    unpatchFn = null;\n  }\n}\n\nlet unpatchForStrictModeFn: null | (() => void) = null;\n\n// NOTE: KEEP IN SYNC with src/hook.js:patchConsoleForInitialRenderInStrictMode\nexport function patchForStrictMode() {\n  if (consoleManagedByDevToolsDuringStrictMode) {\n    const overrideConsoleMethods = [\n      'error',\n      'group',\n      'groupCollapsed',\n      'info',\n      'log',\n      'trace',\n      'warn',\n    ];\n\n    if (unpatchForStrictModeFn !== null) {\n      // Don't patch twice.\n      return;\n    }\n\n    const originalConsoleMethods: {[string]: $FlowFixMe} = {};\n\n    unpatchForStrictModeFn = () => {\n      for (const method in originalConsoleMethods) {\n        try {\n          targetConsole[method] = originalConsoleMethods[method];\n        } catch (error) {}\n      }\n    };\n\n    overrideConsoleMethods.forEach(method => {\n      try {\n        const originalMethod = (originalConsoleMethods[method] = targetConsole[\n          method\n        ].__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__\n          ? targetConsole[method].__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__\n          : targetConsole[method]);\n\n        // $FlowFixMe[missing-local-annot]\n        const overrideMethod = (...args) => {\n          if (!consoleSettingsRef.hideConsoleLogsInStrictMode) {\n            // Dim the text color of the double logs if we're not\n            // hiding them.\n            if (isNode) {\n              originalMethod(DIMMED_NODE_CONSOLE_COLOR, format(...args));\n            } else {\n              const color = getConsoleColor(method);\n              if (color) {\n                originalMethod(...formatWithStyles(args, `color: ${color}`));\n              } else {\n                throw Error('Console color is not defined');\n              }\n            }\n          }\n        };\n\n        overrideMethod.__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__ =\n          originalMethod;\n        originalMethod.__REACT_DEVTOOLS_STRICT_MODE_OVERRIDE_METHOD__ =\n          overrideMethod;\n\n        targetConsole[method] = overrideMethod;\n      } catch (error) {}\n    });\n  }\n}\n\n// NOTE: KEEP IN SYNC with src/hook.js:unpatchConsoleForInitialRenderInStrictMode\nexport function unpatchForStrictMode(): void {\n  if (consoleManagedByDevToolsDuringStrictMode) {\n    if (unpatchForStrictModeFn !== null) {\n      unpatchForStrictModeFn();\n      unpatchForStrictModeFn = null;\n    }\n  }\n}\n\nexport function patchConsoleUsingWindowValues() {\n  const appendComponentStack =\n    castBool(window.__REACT_DEVTOOLS_APPEND_COMPONENT_STACK__) ?? true;\n  const breakOnConsoleErrors =\n    castBool(window.__REACT_DEVTOOLS_BREAK_ON_CONSOLE_ERRORS__) ?? false;\n  const showInlineWarningsAndErrors =\n    castBool(window.__REACT_DEVTOOLS_SHOW_INLINE_WARNINGS_AND_ERRORS__) ?? true;\n  const hideConsoleLogsInStrictMode =\n    castBool(window.__REACT_DEVTOOLS_HIDE_CONSOLE_LOGS_IN_STRICT_MODE__) ??\n    false;\n  const browserTheme =\n    castBrowserTheme(window.__REACT_DEVTOOLS_BROWSER_THEME__) ?? 'dark';\n\n  patch({\n    appendComponentStack,\n    breakOnConsoleErrors,\n    showInlineWarningsAndErrors,\n    hideConsoleLogsInStrictMode,\n    browserTheme,\n  });\n}\n\n// After receiving cached console patch settings from React Native, we set them on window.\n// When the console is initially patched (in renderer.js and hook.js), these values are read.\n// The browser extension (etc.) sets these values on window, but through another method.\nexport function writeConsolePatchSettingsToWindow(\n  settings: ConsolePatchSettings,\n): void {\n  window.__REACT_DEVTOOLS_APPEND_COMPONENT_STACK__ =\n    settings.appendComponentStack;\n  window.__REACT_DEVTOOLS_BREAK_ON_CONSOLE_ERRORS__ =\n    settings.breakOnConsoleErrors;\n  window.__REACT_DEVTOOLS_SHOW_INLINE_WARNINGS_AND_ERRORS__ =\n    settings.showInlineWarningsAndErrors;\n  window.__REACT_DEVTOOLS_HIDE_CONSOLE_LOGS_IN_STRICT_MODE__ =\n    settings.hideConsoleLogsInStrictMode;\n  window.__REACT_DEVTOOLS_BROWSER_THEME__ = settings.browserTheme;\n}\n\nexport function installConsoleFunctionsToWindow(): void {\n  window.__REACT_DEVTOOLS_CONSOLE_FUNCTIONS__ = {\n    patchConsoleUsingWindowValues,\n    registerRendererWithConsole: registerRenderer,\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport EventEmitter from './events';\n\nimport type {ComponentFilter, Wall} from './frontend/types';\nimport type {\n  InspectedElementPayload,\n  OwnersList,\n  ProfilingDataBackend,\n  RendererID,\n  ConsolePatchSettings,\n} from 'react-devtools-shared/src/backend/types';\nimport type {StyleAndLayout as StyleAndLayoutPayload} from 'react-devtools-shared/src/backend/NativeStyleEditor/types';\n\nconst BATCH_DURATION = 100;\n\n// This message specifies the version of the DevTools protocol currently supported by the backend,\n// as well as the earliest NPM version (e.g. \"4.13.0\") that protocol is supported by on the frontend.\n// This enables an older frontend to display an upgrade message to users for a newer, unsupported backend.\nexport type BridgeProtocol = {\n  // Version supported by the current frontend/backend.\n  version: number,\n\n  // NPM version range that also supports this version.\n  // Note that 'maxNpmVersion' is only set when the version is bumped.\n  minNpmVersion: string,\n  maxNpmVersion: string | null,\n};\n\n// Bump protocol version whenever a backwards breaking change is made\n// in the messages sent between BackendBridge and FrontendBridge.\n// This mapping is embedded in both frontend and backend builds.\n//\n// The backend protocol will always be the latest entry in the BRIDGE_PROTOCOL array.\n//\n// When an older frontend connects to a newer backend,\n// the backend can send the minNpmVersion and the frontend can display an NPM upgrade prompt.\n//\n// When a newer frontend connects with an older protocol version,\n// the frontend can use the embedded minNpmVersion/maxNpmVersion values to display a downgrade prompt.\nexport const BRIDGE_PROTOCOL: Array<BridgeProtocol> = [\n  // This version technically never existed,\n  // but a backwards breaking change was added in 4.11,\n  // so the safest guess to downgrade the frontend would be to version 4.10.\n  {\n    version: 0,\n    minNpmVersion: '\"<4.11.0\"',\n    maxNpmVersion: '\"<4.11.0\"',\n  },\n  // Versions 4.11.x  4.12.x contained the backwards breaking change,\n  // but we didn't add the \"fix\" of checking the protocol version until 4.13,\n  // so we don't recommend downgrading to 4.11 or 4.12.\n  {\n    version: 1,\n    minNpmVersion: '4.13.0',\n    maxNpmVersion: '4.21.0',\n  },\n  // Version 2 adds a StrictMode-enabled and supports-StrictMode bits to add-root operation.\n  {\n    version: 2,\n    minNpmVersion: '4.22.0',\n    maxNpmVersion: null,\n  },\n];\n\nexport const currentBridgeProtocol: BridgeProtocol =\n  BRIDGE_PROTOCOL[BRIDGE_PROTOCOL.length - 1];\n\ntype ElementAndRendererID = {id: number, rendererID: RendererID};\n\ntype Message = {\n  event: string,\n  payload: any,\n};\n\ntype HighlightElementInDOM = {\n  ...ElementAndRendererID,\n  displayName: string | null,\n  hideAfterTimeout: boolean,\n  openNativeElementsPanel: boolean,\n  scrollIntoView: boolean,\n};\n\ntype OverrideValue = {\n  ...ElementAndRendererID,\n  path: Array<string | number>,\n  wasForwarded?: boolean,\n  value: any,\n};\n\ntype OverrideHookState = {\n  ...OverrideValue,\n  hookID: number,\n};\n\ntype PathType = 'props' | 'hooks' | 'state' | 'context';\n\ntype DeletePath = {\n  ...ElementAndRendererID,\n  type: PathType,\n  hookID?: ?number,\n  path: Array<string | number>,\n};\n\ntype RenamePath = {\n  ...ElementAndRendererID,\n  type: PathType,\n  hookID?: ?number,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n};\n\ntype OverrideValueAtPath = {\n  ...ElementAndRendererID,\n  type: PathType,\n  hookID?: ?number,\n  path: Array<string | number>,\n  value: any,\n};\n\ntype OverrideError = {\n  ...ElementAndRendererID,\n  forceError: boolean,\n};\n\ntype OverrideSuspense = {\n  ...ElementAndRendererID,\n  forceFallback: boolean,\n};\n\ntype CopyElementPathParams = {\n  ...ElementAndRendererID,\n  path: Array<string | number>,\n};\n\ntype ViewAttributeSourceParams = {\n  ...ElementAndRendererID,\n  path: Array<string | number>,\n};\n\ntype InspectElementParams = {\n  ...ElementAndRendererID,\n  forceFullData: boolean,\n  path: Array<number | string> | null,\n  requestID: number,\n};\n\ntype StoreAsGlobalParams = {\n  ...ElementAndRendererID,\n  count: number,\n  path: Array<string | number>,\n};\n\ntype NativeStyleEditor_RenameAttributeParams = {\n  ...ElementAndRendererID,\n  oldName: string,\n  newName: string,\n  value: string,\n};\n\ntype NativeStyleEditor_SetValueParams = {\n  ...ElementAndRendererID,\n  name: string,\n  value: string,\n};\n\ntype SavedPreferencesParams = {\n  appendComponentStack: boolean,\n  breakOnConsoleErrors: boolean,\n  componentFilters: Array<ComponentFilter>,\n  showInlineWarningsAndErrors: boolean,\n  hideConsoleLogsInStrictMode: boolean,\n};\n\nexport type BackendEvents = {\n  backendVersion: [string],\n  bridgeProtocol: [BridgeProtocol],\n  extensionBackendInitialized: [],\n  fastRefreshScheduled: [],\n  getSavedPreferences: [],\n  inspectedElement: [InspectedElementPayload],\n  isBackendStorageAPISupported: [boolean],\n  isSynchronousXHRSupported: [boolean],\n  operations: [Array<number>],\n  ownersList: [OwnersList],\n  overrideComponentFilters: [Array<ComponentFilter>],\n  profilingData: [ProfilingDataBackend],\n  profilingStatus: [boolean],\n  reloadAppForProfiling: [],\n  saveToClipboard: [string],\n  selectFiber: [number],\n  shutdown: [],\n  stopInspectingNative: [boolean],\n  syncSelectionFromNativeElementsPanel: [],\n  syncSelectionToNativeElementsPanel: [],\n  unsupportedRendererVersion: [RendererID],\n\n  // React Native style editor plug-in.\n  isNativeStyleEditorSupported: [\n    {isSupported: boolean, validAttributes: ?$ReadOnlyArray<string>},\n  ],\n  NativeStyleEditor_styleAndLayout: [StyleAndLayoutPayload],\n};\n\ntype FrontendEvents = {\n  clearErrorsAndWarnings: [{rendererID: RendererID}],\n  clearErrorsForFiberID: [ElementAndRendererID],\n  clearNativeElementHighlight: [],\n  clearWarningsForFiberID: [ElementAndRendererID],\n  copyElementPath: [CopyElementPathParams],\n  deletePath: [DeletePath],\n  getBackendVersion: [],\n  getBridgeProtocol: [],\n  getOwnersList: [ElementAndRendererID],\n  getProfilingData: [{rendererID: RendererID}],\n  getProfilingStatus: [],\n  highlightNativeElement: [HighlightElementInDOM],\n  inspectElement: [InspectElementParams],\n  logElementToConsole: [ElementAndRendererID],\n  overrideError: [OverrideError],\n  overrideSuspense: [OverrideSuspense],\n  overrideValueAtPath: [OverrideValueAtPath],\n  profilingData: [ProfilingDataBackend],\n  reloadAndProfile: [boolean],\n  renamePath: [RenamePath],\n  savedPreferences: [SavedPreferencesParams],\n  selectFiber: [number],\n  setTraceUpdatesEnabled: [boolean],\n  shutdown: [],\n  startInspectingNative: [],\n  startProfiling: [boolean],\n  stopInspectingNative: [boolean],\n  stopProfiling: [],\n  storeAsGlobal: [StoreAsGlobalParams],\n  updateComponentFilters: [Array<ComponentFilter>],\n  updateConsolePatchSettings: [ConsolePatchSettings],\n  viewAttributeSource: [ViewAttributeSourceParams],\n  viewElementSource: [ElementAndRendererID],\n\n  // React Native style editor plug-in.\n  NativeStyleEditor_measure: [ElementAndRendererID],\n  NativeStyleEditor_renameAttribute: [NativeStyleEditor_RenameAttributeParams],\n  NativeStyleEditor_setValue: [NativeStyleEditor_SetValueParams],\n\n  // Temporarily support newer standalone front-ends sending commands to older embedded backends.\n  // We do this because React Native embeds the React DevTools backend,\n  // but cannot control which version of the frontend users use.\n  //\n  // Note that nothing in the newer backend actually listens to these events,\n  // but the new frontend still dispatches them (in case older backends are listening to them instead).\n  //\n  // Note that this approach does no support the combination of a newer backend with an older frontend.\n  // It would be more work to support both approaches (and not run handlers twice)\n  // so I chose to support the more likely/common scenario (and the one more difficult for an end user to \"fix\").\n  overrideContext: [OverrideValue],\n  overrideHookState: [OverrideHookState],\n  overrideProps: [OverrideValue],\n  overrideState: [OverrideValue],\n\n  resumeElementPolling: [],\n  pauseElementPolling: [],\n};\n\nclass Bridge<\n  OutgoingEvents: Object,\n  IncomingEvents: Object,\n> extends EventEmitter<{\n  ...IncomingEvents,\n  ...OutgoingEvents,\n}> {\n  _isShutdown: boolean = false;\n  _messageQueue: Array<any> = [];\n  _timeoutID: TimeoutID | null = null;\n  _wall: Wall;\n  _wallUnlisten: Function | null = null;\n\n  constructor(wall: Wall) {\n    super();\n\n    this._wall = wall;\n\n    this._wallUnlisten =\n      wall.listen((message: Message) => {\n        if (message && message.event) {\n          (this: any).emit(message.event, message.payload);\n        }\n      }) || null;\n\n    // Temporarily support older standalone front-ends sending commands to newer embedded backends.\n    // We do this because React Native embeds the React DevTools backend,\n    // but cannot control which version of the frontend users use.\n    this.addListener('overrideValueAtPath', this.overrideValueAtPath);\n  }\n\n  // Listening directly to the wall isn't advised.\n  // It can be used to listen for legacy (v3) messages (since they use a different format).\n  get wall(): Wall {\n    return this._wall;\n  }\n\n  send<EventName: $Keys<OutgoingEvents>>(\n    event: EventName,\n    ...payload: $ElementType<OutgoingEvents, EventName>\n  ) {\n    if (this._isShutdown) {\n      console.warn(\n        `Cannot send message \"${event}\" through a Bridge that has been shutdown.`,\n      );\n      return;\n    }\n\n    // When we receive a message:\n    // - we add it to our queue of messages to be sent\n    // - if there hasn't been a message recently, we set a timer for 0 ms in\n    //   the future, allowing all messages created in the same tick to be sent\n    //   together\n    // - if there *has* been a message flushed in the last BATCH_DURATION ms\n    //   (or we're waiting for our setTimeout-0 to fire), then _timeoutID will\n    //   be set, and we'll simply add to the queue and wait for that\n    this._messageQueue.push(event, payload);\n    if (!this._timeoutID) {\n      this._timeoutID = setTimeout(this._flush, 0);\n    }\n  }\n\n  shutdown() {\n    if (this._isShutdown) {\n      console.warn('Bridge was already shutdown.');\n      return;\n    }\n\n    // Queue the shutdown outgoing message for subscribers.\n    this.emit('shutdown');\n    this.send('shutdown');\n\n    // Mark this bridge as destroyed, i.e. disable its public API.\n    this._isShutdown = true;\n\n    // Disable the API inherited from EventEmitter that can add more listeners and send more messages.\n    // $FlowFixMe[cannot-write] This property is not writable.\n    this.addListener = function () {};\n    // $FlowFixMe[cannot-write] This property is not writable.\n    this.emit = function () {};\n    // NOTE: There's also EventEmitter API like `on` and `prependListener` that we didn't add to our Flow type of EventEmitter.\n\n    // Unsubscribe this bridge incoming message listeners to be sure, and so they don't have to do that.\n    this.removeAllListeners();\n\n    // Stop accepting and emitting incoming messages from the wall.\n    const wallUnlisten = this._wallUnlisten;\n    if (wallUnlisten) {\n      wallUnlisten();\n    }\n\n    // Synchronously flush all queued outgoing messages.\n    // At this step the subscribers' code may run in this call stack.\n    do {\n      this._flush();\n    } while (this._messageQueue.length);\n\n    // Make sure once again that there is no dangling timer.\n    if (this._timeoutID !== null) {\n      clearTimeout(this._timeoutID);\n      this._timeoutID = null;\n    }\n  }\n\n  _flush: () => void = () => {\n    // This method is used after the bridge is marked as destroyed in shutdown sequence,\n    // so we do not bail out if the bridge marked as destroyed.\n    // It is a private method that the bridge ensures is only called at the right times.\n\n    if (this._timeoutID !== null) {\n      clearTimeout(this._timeoutID);\n      this._timeoutID = null;\n    }\n\n    if (this._messageQueue.length) {\n      for (let i = 0; i < this._messageQueue.length; i += 2) {\n        this._wall.send(this._messageQueue[i], ...this._messageQueue[i + 1]);\n      }\n      this._messageQueue.length = 0;\n\n      // Check again for queued messages in BATCH_DURATION ms. This will keep\n      // flushing in a loop as long as messages continue to be added. Once no\n      // more are, the timer expires.\n      this._timeoutID = setTimeout(this._flush, BATCH_DURATION);\n    }\n  };\n\n  // Temporarily support older standalone backends by forwarding \"overrideValueAtPath\" commands\n  // to the older message types they may be listening to.\n  overrideValueAtPath: OverrideValueAtPath => void = ({\n    id,\n    path,\n    rendererID,\n    type,\n    value,\n  }: OverrideValueAtPath) => {\n    switch (type) {\n      case 'context':\n        this.send('overrideContext', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n      case 'hooks':\n        this.send('overrideHookState', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n      case 'props':\n        this.send('overrideProps', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n      case 'state':\n        this.send('overrideState', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n    }\n  };\n}\n\nexport type BackendBridge = Bridge<BackendEvents, FrontendEvents>;\nexport type FrontendBridge = Bridge<FrontendEvents, BackendEvents>;\n\nexport default Bridge;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport EventEmitter from '../events';\nimport throttle from 'lodash.throttle';\nimport {\n  SESSION_STORAGE_LAST_SELECTION_KEY,\n  SESSION_STORAGE_RELOAD_AND_PROFILE_KEY,\n  SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n  __DEBUG__,\n} from '../constants';\nimport {\n  sessionStorageGetItem,\n  sessionStorageRemoveItem,\n  sessionStorageSetItem,\n} from 'react-devtools-shared/src/storage';\nimport setupHighlighter from './views/Highlighter';\nimport {\n  initialize as setupTraceUpdates,\n  toggleEnabled as setTraceUpdatesEnabled,\n} from './views/TraceUpdates';\nimport {patch as patchConsole} from './console';\nimport {currentBridgeProtocol} from 'react-devtools-shared/src/bridge';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\nimport type {\n  InstanceAndStyle,\n  NativeType,\n  OwnersList,\n  PathFrame,\n  PathMatch,\n  RendererID,\n  RendererInterface,\n  ConsolePatchSettings,\n} from './types';\nimport type {\n  ComponentFilter,\n  BrowserTheme,\n} from 'react-devtools-shared/src/frontend/types';\nimport {isSynchronousXHRSupported} from './utils';\n\nconst debug = (methodName: string, ...args: Array<string>) => {\n  if (__DEBUG__) {\n    console.log(\n      `%cAgent %c${methodName}`,\n      'color: purple; font-weight: bold;',\n      'font-weight: bold;',\n      ...args,\n    );\n  }\n};\n\ntype ElementAndRendererID = {\n  id: number,\n  rendererID: number,\n};\n\ntype StoreAsGlobalParams = {\n  count: number,\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n};\n\ntype CopyElementParams = {\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n};\n\ntype InspectElementParams = {\n  forceFullData: boolean,\n  id: number,\n  path: Array<string | number> | null,\n  rendererID: number,\n  requestID: number,\n};\n\ntype OverrideHookParams = {\n  id: number,\n  hookID: number,\n  path: Array<string | number>,\n  rendererID: number,\n  wasForwarded?: boolean,\n  value: any,\n};\n\ntype SetInParams = {\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n  wasForwarded?: boolean,\n  value: any,\n};\n\ntype PathType = 'props' | 'hooks' | 'state' | 'context';\n\ntype DeletePathParams = {\n  type: PathType,\n  hookID?: ?number,\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n};\n\ntype RenamePathParams = {\n  type: PathType,\n  hookID?: ?number,\n  id: number,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n  rendererID: number,\n};\n\ntype OverrideValueAtPathParams = {\n  type: PathType,\n  hookID?: ?number,\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n  value: any,\n};\n\ntype OverrideErrorParams = {\n  id: number,\n  rendererID: number,\n  forceError: boolean,\n};\n\ntype OverrideSuspenseParams = {\n  id: number,\n  rendererID: number,\n  forceFallback: boolean,\n};\n\ntype PersistedSelection = {\n  rendererID: number,\n  path: Array<PathFrame>,\n};\n\nexport default class Agent extends EventEmitter<{\n  hideNativeHighlight: [],\n  showNativeHighlight: [NativeType],\n  startInspectingNative: [],\n  stopInspectingNative: [],\n  shutdown: [],\n  traceUpdates: [Set<NativeType>],\n  drawTraceUpdates: [Array<NativeType>],\n  disableTraceUpdates: [],\n}> {\n  _bridge: BackendBridge;\n  _isProfiling: boolean = false;\n  _recordChangeDescriptions: boolean = false;\n  _rendererInterfaces: {[key: RendererID]: RendererInterface, ...} = {};\n  _persistedSelection: PersistedSelection | null = null;\n  _persistedSelectionMatch: PathMatch | null = null;\n  _traceUpdatesEnabled: boolean = false;\n\n  constructor(bridge: BackendBridge) {\n    super();\n\n    if (\n      sessionStorageGetItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY) === 'true'\n    ) {\n      this._recordChangeDescriptions =\n        sessionStorageGetItem(\n          SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n        ) === 'true';\n      this._isProfiling = true;\n\n      sessionStorageRemoveItem(SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY);\n      sessionStorageRemoveItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY);\n    }\n\n    const persistedSelectionString = sessionStorageGetItem(\n      SESSION_STORAGE_LAST_SELECTION_KEY,\n    );\n    if (persistedSelectionString != null) {\n      this._persistedSelection = JSON.parse(persistedSelectionString);\n    }\n\n    this._bridge = bridge;\n\n    bridge.addListener('clearErrorsAndWarnings', this.clearErrorsAndWarnings);\n    bridge.addListener('clearErrorsForFiberID', this.clearErrorsForFiberID);\n    bridge.addListener('clearWarningsForFiberID', this.clearWarningsForFiberID);\n    bridge.addListener('copyElementPath', this.copyElementPath);\n    bridge.addListener('deletePath', this.deletePath);\n    bridge.addListener('getBackendVersion', this.getBackendVersion);\n    bridge.addListener('getBridgeProtocol', this.getBridgeProtocol);\n    bridge.addListener('getProfilingData', this.getProfilingData);\n    bridge.addListener('getProfilingStatus', this.getProfilingStatus);\n    bridge.addListener('getOwnersList', this.getOwnersList);\n    bridge.addListener('inspectElement', this.inspectElement);\n    bridge.addListener('logElementToConsole', this.logElementToConsole);\n    bridge.addListener('overrideError', this.overrideError);\n    bridge.addListener('overrideSuspense', this.overrideSuspense);\n    bridge.addListener('overrideValueAtPath', this.overrideValueAtPath);\n    bridge.addListener('reloadAndProfile', this.reloadAndProfile);\n    bridge.addListener('renamePath', this.renamePath);\n    bridge.addListener('setTraceUpdatesEnabled', this.setTraceUpdatesEnabled);\n    bridge.addListener('startProfiling', this.startProfiling);\n    bridge.addListener('stopProfiling', this.stopProfiling);\n    bridge.addListener('storeAsGlobal', this.storeAsGlobal);\n    bridge.addListener(\n      'syncSelectionFromNativeElementsPanel',\n      this.syncSelectionFromNativeElementsPanel,\n    );\n    bridge.addListener('shutdown', this.shutdown);\n    bridge.addListener(\n      'updateConsolePatchSettings',\n      this.updateConsolePatchSettings,\n    );\n    bridge.addListener('updateComponentFilters', this.updateComponentFilters);\n    bridge.addListener('viewAttributeSource', this.viewAttributeSource);\n    bridge.addListener('viewElementSource', this.viewElementSource);\n\n    // Temporarily support older standalone front-ends sending commands to newer embedded backends.\n    // We do this because React Native embeds the React DevTools backend,\n    // but cannot control which version of the frontend users use.\n    bridge.addListener('overrideContext', this.overrideContext);\n    bridge.addListener('overrideHookState', this.overrideHookState);\n    bridge.addListener('overrideProps', this.overrideProps);\n    bridge.addListener('overrideState', this.overrideState);\n\n    if (this._isProfiling) {\n      bridge.send('profilingStatus', true);\n    }\n\n    // Send the Bridge protocol and backend versions, after initialization, in case the frontend has already requested it.\n    // The Store may be instantiated beore the agent.\n    const version = process.env.DEVTOOLS_VERSION;\n    if (version) {\n      this._bridge.send('backendVersion', version);\n    }\n    this._bridge.send('bridgeProtocol', currentBridgeProtocol);\n\n    // Notify the frontend if the backend supports the Storage API (e.g. localStorage).\n    // If not, features like reload-and-profile will not work correctly and must be disabled.\n    let isBackendStorageAPISupported = false;\n    try {\n      localStorage.getItem('test');\n      isBackendStorageAPISupported = true;\n    } catch (error) {}\n    bridge.send('isBackendStorageAPISupported', isBackendStorageAPISupported);\n    bridge.send('isSynchronousXHRSupported', isSynchronousXHRSupported());\n\n    setupHighlighter(bridge, this);\n    setupTraceUpdates(this);\n  }\n\n  get rendererInterfaces(): {[key: RendererID]: RendererInterface, ...} {\n    return this._rendererInterfaces;\n  }\n\n  clearErrorsAndWarnings: ({rendererID: RendererID}) => void = ({\n    rendererID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    } else {\n      renderer.clearErrorsAndWarnings();\n    }\n  };\n\n  clearErrorsForFiberID: ElementAndRendererID => void = ({id, rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    } else {\n      renderer.clearErrorsForFiberID(id);\n    }\n  };\n\n  clearWarningsForFiberID: ElementAndRendererID => void = ({\n    id,\n    rendererID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    } else {\n      renderer.clearWarningsForFiberID(id);\n    }\n  };\n\n  copyElementPath: CopyElementParams => void = ({\n    id,\n    path,\n    rendererID,\n  }: CopyElementParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      const value = renderer.getSerializedElementValueByPath(id, path);\n\n      if (value != null) {\n        this._bridge.send('saveToClipboard', value);\n      } else {\n        console.warn(`Unable to obtain serialized value for element \"${id}\"`);\n      }\n    }\n  };\n\n  deletePath: DeletePathParams => void = ({\n    hookID,\n    id,\n    path,\n    rendererID,\n    type,\n  }: DeletePathParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.deletePath(type, id, hookID, path);\n    }\n  };\n\n  getInstanceAndStyle({\n    id,\n    rendererID,\n  }: ElementAndRendererID): InstanceAndStyle | null {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n      return null;\n    }\n    return renderer.getInstanceAndStyle(id);\n  }\n\n  getBestMatchingRendererInterface(node: Object): RendererInterface | null {\n    let bestMatch = null;\n    for (const rendererID in this._rendererInterfaces) {\n      const renderer = ((this._rendererInterfaces[\n        (rendererID: any)\n      ]: any): RendererInterface);\n      const fiber = renderer.getFiberForNative(node);\n      if (fiber !== null) {\n        // check if fiber.stateNode is matching the original hostInstance\n        if (fiber.stateNode === node) {\n          return renderer;\n        } else if (bestMatch === null) {\n          bestMatch = renderer;\n        }\n      }\n    }\n    // if an exact match is not found, return the first valid renderer as fallback\n    return bestMatch;\n  }\n\n  getIDForNode(node: Object): number | null {\n    const rendererInterface = this.getBestMatchingRendererInterface(node);\n    if (rendererInterface != null) {\n      try {\n        return rendererInterface.getFiberIDForNative(node, true);\n      } catch (error) {\n        // Some old React versions might throw if they can't find a match.\n        // If so we should ignore it...\n      }\n    }\n    return null;\n  }\n\n  getBackendVersion: () => void = () => {\n    const version = process.env.DEVTOOLS_VERSION;\n    if (version) {\n      this._bridge.send('backendVersion', version);\n    }\n  };\n\n  getBridgeProtocol: () => void = () => {\n    this._bridge.send('bridgeProtocol', currentBridgeProtocol);\n  };\n\n  getProfilingData: ({rendererID: RendererID}) => void = ({rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    }\n\n    this._bridge.send('profilingData', renderer.getProfilingData());\n  };\n\n  getProfilingStatus: () => void = () => {\n    this._bridge.send('profilingStatus', this._isProfiling);\n  };\n\n  getOwnersList: ElementAndRendererID => void = ({id, rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      const owners = renderer.getOwnersList(id);\n      this._bridge.send('ownersList', ({id, owners}: OwnersList));\n    }\n  };\n\n  inspectElement: InspectElementParams => void = ({\n    forceFullData,\n    id,\n    path,\n    rendererID,\n    requestID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      this._bridge.send(\n        'inspectedElement',\n        renderer.inspectElement(requestID, id, path, forceFullData),\n      );\n\n      // When user selects an element, stop trying to restore the selection,\n      // and instead remember the current selection for the next reload.\n      if (\n        this._persistedSelectionMatch === null ||\n        this._persistedSelectionMatch.id !== id\n      ) {\n        this._persistedSelection = null;\n        this._persistedSelectionMatch = null;\n        renderer.setTrackedPath(null);\n        this._throttledPersistSelection(rendererID, id);\n      }\n\n      // TODO: If there was a way to change the selected DOM element\n      // in native Elements tab without forcing a switch to it, we'd do it here.\n      // For now, it doesn't seem like there is a way to do that:\n      // https://github.com/bvaughn/react-devtools-experimental/issues/102\n      // (Setting $0 doesn't work, and calling inspect() switches the tab.)\n    }\n  };\n\n  logElementToConsole: ElementAndRendererID => void = ({id, rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.logElementToConsole(id);\n    }\n  };\n\n  overrideError: OverrideErrorParams => void = ({\n    id,\n    rendererID,\n    forceError,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.overrideError(id, forceError);\n    }\n  };\n\n  overrideSuspense: OverrideSuspenseParams => void = ({\n    id,\n    rendererID,\n    forceFallback,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.overrideSuspense(id, forceFallback);\n    }\n  };\n\n  overrideValueAtPath: OverrideValueAtPathParams => void = ({\n    hookID,\n    id,\n    path,\n    rendererID,\n    type,\n    value,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.overrideValueAtPath(type, id, hookID, path, value);\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideContext: SetInParams => void = ({\n    id,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'context',\n        value,\n      });\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideHookState: OverrideHookParams => void = ({\n    id,\n    hookID,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'hooks',\n        value,\n      });\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideProps: SetInParams => void = ({\n    id,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'props',\n        value,\n      });\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideState: SetInParams => void = ({\n    id,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'state',\n        value,\n      });\n    }\n  };\n\n  reloadAndProfile: (recordChangeDescriptions: boolean) => void =\n    recordChangeDescriptions => {\n      sessionStorageSetItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY, 'true');\n      sessionStorageSetItem(\n        SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n        recordChangeDescriptions ? 'true' : 'false',\n      );\n\n      // This code path should only be hit if the shell has explicitly told the Store that it supports profiling.\n      // In that case, the shell must also listen for this specific message to know when it needs to reload the app.\n      // The agent can't do this in a way that is renderer agnostic.\n      this._bridge.send('reloadAppForProfiling');\n    };\n\n  renamePath: RenamePathParams => void = ({\n    hookID,\n    id,\n    newPath,\n    oldPath,\n    rendererID,\n    type,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.renamePath(type, id, hookID, oldPath, newPath);\n    }\n  };\n\n  selectNode(target: Object): void {\n    const id = this.getIDForNode(target);\n    if (id !== null) {\n      this._bridge.send('selectFiber', id);\n    }\n  }\n\n  setRendererInterface(\n    rendererID: RendererID,\n    rendererInterface: RendererInterface,\n  ) {\n    this._rendererInterfaces[rendererID] = rendererInterface;\n\n    if (this._isProfiling) {\n      rendererInterface.startProfiling(this._recordChangeDescriptions);\n    }\n\n    rendererInterface.setTraceUpdatesEnabled(this._traceUpdatesEnabled);\n\n    // When the renderer is attached, we need to tell it whether\n    // we remember the previous selection that we'd like to restore.\n    // It'll start tracking mounts for matches to the last selection path.\n    const selection = this._persistedSelection;\n    if (selection !== null && selection.rendererID === rendererID) {\n      rendererInterface.setTrackedPath(selection.path);\n    }\n  }\n\n  setTraceUpdatesEnabled: (traceUpdatesEnabled: boolean) => void =\n    traceUpdatesEnabled => {\n      this._traceUpdatesEnabled = traceUpdatesEnabled;\n\n      setTraceUpdatesEnabled(traceUpdatesEnabled);\n\n      for (const rendererID in this._rendererInterfaces) {\n        const renderer = ((this._rendererInterfaces[\n          (rendererID: any)\n        ]: any): RendererInterface);\n        renderer.setTraceUpdatesEnabled(traceUpdatesEnabled);\n      }\n    };\n\n  syncSelectionFromNativeElementsPanel: () => void = () => {\n    const target = window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$0;\n    if (target == null) {\n      return;\n    }\n    this.selectNode(target);\n  };\n\n  shutdown: () => void = () => {\n    // Clean up the overlay if visible, and associated events.\n    this.emit('shutdown');\n  };\n\n  startProfiling: (recordChangeDescriptions: boolean) => void =\n    recordChangeDescriptions => {\n      this._recordChangeDescriptions = recordChangeDescriptions;\n      this._isProfiling = true;\n      for (const rendererID in this._rendererInterfaces) {\n        const renderer = ((this._rendererInterfaces[\n          (rendererID: any)\n        ]: any): RendererInterface);\n        renderer.startProfiling(recordChangeDescriptions);\n      }\n      this._bridge.send('profilingStatus', this._isProfiling);\n    };\n\n  stopProfiling: () => void = () => {\n    this._isProfiling = false;\n    this._recordChangeDescriptions = false;\n    for (const rendererID in this._rendererInterfaces) {\n      const renderer = ((this._rendererInterfaces[\n        (rendererID: any)\n      ]: any): RendererInterface);\n      renderer.stopProfiling();\n    }\n    this._bridge.send('profilingStatus', this._isProfiling);\n  };\n\n  stopInspectingNative: (selected: boolean) => void = selected => {\n    this._bridge.send('stopInspectingNative', selected);\n  };\n\n  storeAsGlobal: StoreAsGlobalParams => void = ({\n    count,\n    id,\n    path,\n    rendererID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.storeAsGlobal(id, path, count);\n    }\n  };\n\n  updateConsolePatchSettings: ({\n    appendComponentStack: boolean,\n    breakOnConsoleErrors: boolean,\n    browserTheme: BrowserTheme,\n    hideConsoleLogsInStrictMode: boolean,\n    showInlineWarningsAndErrors: boolean,\n  }) => void = ({\n    appendComponentStack,\n    breakOnConsoleErrors,\n    showInlineWarningsAndErrors,\n    hideConsoleLogsInStrictMode,\n    browserTheme,\n  }: ConsolePatchSettings) => {\n    // If the frontend preferences have changed,\n    // or in the case of React Native- if the backend is just finding out the preferences-\n    // then reinstall the console overrides.\n    // It's safe to call `patchConsole` multiple times.\n    patchConsole({\n      appendComponentStack,\n      breakOnConsoleErrors,\n      showInlineWarningsAndErrors,\n      hideConsoleLogsInStrictMode,\n      browserTheme,\n    });\n  };\n\n  updateComponentFilters: (componentFilters: Array<ComponentFilter>) => void =\n    componentFilters => {\n      for (const rendererID in this._rendererInterfaces) {\n        const renderer = ((this._rendererInterfaces[\n          (rendererID: any)\n        ]: any): RendererInterface);\n        renderer.updateComponentFilters(componentFilters);\n      }\n    };\n\n  viewAttributeSource: CopyElementParams => void = ({id, path, rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.prepareViewAttributeSource(id, path);\n    }\n  };\n\n  viewElementSource: ElementAndRendererID => void = ({id, rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.prepareViewElementSource(id);\n    }\n  };\n\n  onTraceUpdates: (nodes: Set<NativeType>) => void = nodes => {\n    this.emit('traceUpdates', nodes);\n  };\n\n  onFastRefreshScheduled: () => void = () => {\n    if (__DEBUG__) {\n      debug('onFastRefreshScheduled');\n    }\n\n    this._bridge.send('fastRefreshScheduled');\n  };\n\n  onHookOperations: (operations: Array<number>) => void = operations => {\n    if (__DEBUG__) {\n      debug(\n        'onHookOperations',\n        `(${operations.length}) [${operations.join(', ')}]`,\n      );\n    }\n\n    // TODO:\n    // The chrome.runtime does not currently support transferables; it forces JSON serialization.\n    // See bug https://bugs.chromium.org/p/chromium/issues/detail?id=927134\n    //\n    // Regarding transferables, the postMessage doc states:\n    // If the ownership of an object is transferred, it becomes unusable (neutered)\n    // in the context it was sent from and becomes available only to the worker it was sent to.\n    //\n    // Even though Chrome is eventually JSON serializing the array buffer,\n    // using the transferable approach also sometimes causes it to throw:\n    //   DOMException: Failed to execute 'postMessage' on 'Window': ArrayBuffer at index 0 is already neutered.\n    //\n    // See bug https://github.com/bvaughn/react-devtools-experimental/issues/25\n    //\n    // The Store has a fallback in place that parses the message as JSON if the type isn't an array.\n    // For now the simplest fix seems to be to not transfer the array.\n    // This will negatively impact performance on Firefox so it's unfortunate,\n    // but until we're able to fix the Chrome error mentioned above, it seems necessary.\n    //\n    // this._bridge.send('operations', operations, [operations.buffer]);\n    this._bridge.send('operations', operations);\n\n    if (this._persistedSelection !== null) {\n      const rendererID = operations[0];\n      if (this._persistedSelection.rendererID === rendererID) {\n        // Check if we can select a deeper match for the persisted selection.\n        const renderer = this._rendererInterfaces[rendererID];\n        if (renderer == null) {\n          console.warn(`Invalid renderer id \"${rendererID}\"`);\n        } else {\n          const prevMatch = this._persistedSelectionMatch;\n          const nextMatch = renderer.getBestMatchForTrackedPath();\n          this._persistedSelectionMatch = nextMatch;\n          const prevMatchID = prevMatch !== null ? prevMatch.id : null;\n          const nextMatchID = nextMatch !== null ? nextMatch.id : null;\n          if (prevMatchID !== nextMatchID) {\n            if (nextMatchID !== null) {\n              // We moved forward, unlocking a deeper node.\n              this._bridge.send('selectFiber', nextMatchID);\n            }\n          }\n          if (nextMatch !== null && nextMatch.isFullMatch) {\n            // We've just unlocked the innermost selected node.\n            // There's no point tracking it further.\n            this._persistedSelection = null;\n            this._persistedSelectionMatch = null;\n            renderer.setTrackedPath(null);\n          }\n        }\n      }\n    }\n  };\n\n  onUnsupportedRenderer(rendererID: number) {\n    this._bridge.send('unsupportedRendererVersion', rendererID);\n  }\n\n  _throttledPersistSelection: any = throttle(\n    (rendererID: number, id: number) => {\n      // This is throttled, so both renderer and selected ID\n      // might not be available by the time we read them.\n      // This is why we need the defensive checks here.\n      const renderer = this._rendererInterfaces[rendererID];\n      const path = renderer != null ? renderer.getPathForElement(id) : null;\n      if (path !== null) {\n        sessionStorageSetItem(\n          SESSION_STORAGE_LAST_SELECTION_KEY,\n          JSON.stringify(({rendererID, path}: PersistedSelection)),\n        );\n      } else {\n        sessionStorageRemoveItem(SESSION_STORAGE_LAST_SELECTION_KEY);\n      }\n    },\n    1000,\n  );\n}\n","/**\n * Install the hook on window, which is an event emitter.\n * Note: this global hook __REACT_DEVTOOLS_GLOBAL_HOOK__ is a de facto public API.\n * It's especially important to avoid creating direct dependency on the DevTools Backend.\n * That's why we still inline the whole event emitter implementation,\n * the string format implementation, and part of the console implementation here.\n *\n * @flow\n */\n\nimport type {BrowserTheme} from './frontend/types';\nimport type {\n  DevToolsHook,\n  Handler,\n  ReactRenderer,\n  RendererID,\n  RendererInterface,\n  DevToolsBackend,\n} from './backend/types';\n\ndeclare var window: any;\n\nexport function installHook(target: any): DevToolsHook | null {\n  if (target.hasOwnProperty('__REACT_DEVTOOLS_GLOBAL_HOOK__')) {\n    return null;\n  }\n\n  let targetConsole: Object = console;\n  let targetConsoleMethods: {[string]: $FlowFixMe} = {};\n  for (const method in console) {\n    targetConsoleMethods[method] = console[method];\n  }\n\n  function dangerous_setTargetConsoleForTesting(\n    targetConsoleForTesting: Object,\n  ): void {\n    targetConsole = targetConsoleForTesting;\n\n    targetConsoleMethods = ({}: {[string]: $FlowFixMe});\n    for (const method in targetConsole) {\n      targetConsoleMethods[method] = console[method];\n    }\n  }\n\n  function detectReactBuildType(renderer: ReactRenderer) {\n    try {\n      if (typeof renderer.version === 'string') {\n        // React DOM Fiber (16+)\n        if (renderer.bundleType > 0) {\n          // This is not a production build.\n          // We are currently only using 0 (PROD) and 1 (DEV)\n          // but might add 2 (PROFILE) in the future.\n          return 'development';\n        }\n\n        // React 16 uses flat bundles. If we report the bundle as production\n        // version, it means we also minified and envified it ourselves.\n        return 'production';\n        // Note: There is still a risk that the CommonJS entry point has not\n        // been envified or uglified. In this case the user would have *both*\n        // development and production bundle, but only the prod one would run.\n        // This would be really bad. We have a separate check for this because\n        // it happens *outside* of the renderer injection. See `checkDCE` below.\n      }\n\n      // $FlowFixMe[method-unbinding]\n      const toString = Function.prototype.toString;\n      if (renderer.Mount && renderer.Mount._renderNewRootComponent) {\n        // React DOM Stack\n        const renderRootCode = toString.call(\n          renderer.Mount._renderNewRootComponent,\n        );\n        // Filter out bad results (if that is even possible):\n        if (renderRootCode.indexOf('function') !== 0) {\n          // Hope for the best if we're not sure.\n          return 'production';\n        }\n        // Check for React DOM Stack < 15.1.0 in development.\n        // If it contains \"storedMeasure\" call, it's wrapped in ReactPerf (DEV only).\n        // This would be true even if it's minified, as method name still matches.\n        if (renderRootCode.indexOf('storedMeasure') !== -1) {\n          return 'development';\n        }\n        // For other versions (and configurations) it's not so easy.\n        // Let's quickly exclude proper production builds.\n        // If it contains a warning message, it's either a DEV build,\n        // or an PROD build without proper dead code elimination.\n        if (renderRootCode.indexOf('should be a pure function') !== -1) {\n          // Now how do we tell a DEV build from a bad PROD build?\n          // If we see NODE_ENV, we're going to assume this is a dev build\n          // because most likely it is referring to an empty shim.\n          if (renderRootCode.indexOf('NODE_ENV') !== -1) {\n            return 'development';\n          }\n          // If we see \"development\", we're dealing with an envified DEV build\n          // (such as the official React DEV UMD).\n          if (renderRootCode.indexOf('development') !== -1) {\n            return 'development';\n          }\n          // I've seen process.env.NODE_ENV !== 'production' being smartly\n          // replaced by `true` in DEV by Webpack. I don't know how that\n          // works but we can safely guard against it because `true` was\n          // never used in the function source since it was written.\n          if (renderRootCode.indexOf('true') !== -1) {\n            return 'development';\n          }\n          // By now either it is a production build that has not been minified,\n          // or (worse) this is a minified development build using non-standard\n          // environment (e.g. \"staging\"). We're going to look at whether\n          // the function argument name is mangled:\n          if (\n            // 0.13 to 15\n            renderRootCode.indexOf('nextElement') !== -1 ||\n            // 0.12\n            renderRootCode.indexOf('nextComponent') !== -1\n          ) {\n            // We can't be certain whether this is a development build or not,\n            // but it is definitely unminified.\n            return 'unminified';\n          } else {\n            // This is likely a minified development build.\n            return 'development';\n          }\n        }\n        // By now we know that it's envified and dead code elimination worked,\n        // but what if it's still not minified? (Is this even possible?)\n        // Let's check matches for the first argument name.\n        if (\n          // 0.13 to 15\n          renderRootCode.indexOf('nextElement') !== -1 ||\n          // 0.12\n          renderRootCode.indexOf('nextComponent') !== -1\n        ) {\n          return 'unminified';\n        }\n        // Seems like we're using the production version.\n        // However, the branch above is Stack-only so this is 15 or earlier.\n        return 'outdated';\n      }\n    } catch (err) {\n      // Weird environments may exist.\n      // This code needs a higher fault tolerance\n      // because it runs even with closed DevTools.\n      // TODO: should we catch errors in all injected code, and not just this part?\n    }\n    return 'production';\n  }\n\n  function checkDCE(fn: Function) {\n    // This runs for production versions of React.\n    // Needs to be super safe.\n    try {\n      // $FlowFixMe[method-unbinding]\n      const toString = Function.prototype.toString;\n      const code = toString.call(fn);\n\n      // This is a string embedded in the passed function under DEV-only\n      // condition. However the function executes only in PROD. Therefore,\n      // if we see it, dead code elimination did not work.\n      if (code.indexOf('^_^') > -1) {\n        // Remember to report during next injection.\n        hasDetectedBadDCE = true;\n\n        // Bonus: throw an exception hoping that it gets picked up by a reporting system.\n        // Not synchronously so that it doesn't break the calling code.\n        setTimeout(function () {\n          throw new Error(\n            'React is running in production mode, but dead code ' +\n              'elimination has not been applied. Read how to correctly ' +\n              'configure React for production: ' +\n              'https://react.dev/link/perf-use-production-build',\n          );\n        });\n      }\n    } catch (err) {}\n  }\n\n  // NOTE: KEEP IN SYNC with src/backend/utils.js\n  function formatWithStyles(\n    inputArgs: $ReadOnlyArray<any>,\n    style?: string,\n  ): $ReadOnlyArray<any> {\n    if (\n      inputArgs === undefined ||\n      inputArgs === null ||\n      inputArgs.length === 0 ||\n      // Matches any of %c but not %%c\n      (typeof inputArgs[0] === 'string' &&\n        inputArgs[0].match(/([^%]|^)(%c)/g)) ||\n      style === undefined\n    ) {\n      return inputArgs;\n    }\n\n    // Matches any of %(o|O|d|i|s|f), but not %%(o|O|d|i|s|f)\n    const REGEXP = /([^%]|^)((%%)*)(%([oOdisf]))/g;\n    if (typeof inputArgs[0] === 'string' && inputArgs[0].match(REGEXP)) {\n      return [`%c${inputArgs[0]}`, style, ...inputArgs.slice(1)];\n    } else {\n      const firstArg = inputArgs.reduce((formatStr, elem, i) => {\n        if (i > 0) {\n          formatStr += ' ';\n        }\n        switch (typeof elem) {\n          case 'string':\n          case 'boolean':\n          case 'symbol':\n            return (formatStr += '%s');\n          case 'number':\n            const formatting = Number.isInteger(elem) ? '%i' : '%f';\n            return (formatStr += formatting);\n          default:\n            return (formatStr += '%o');\n        }\n      }, '%c');\n      return [firstArg, style, ...inputArgs];\n    }\n  }\n\n  let unpatchFn = null;\n\n  // NOTE: KEEP IN SYNC with src/backend/console.js:patchForStrictMode\n  // This function hides or dims console logs during the initial double renderer\n  // in Strict Mode. We need this function because during initial render,\n  // React and DevTools are connecting and the renderer interface isn't avaiable\n  // and we want to be able to have consistent logging behavior for double logs\n  // during the initial renderer.\n  function patchConsoleForInitialRenderInStrictMode({\n    hideConsoleLogsInStrictMode,\n    browserTheme,\n  }: {\n    hideConsoleLogsInStrictMode: boolean,\n    browserTheme: BrowserTheme,\n  }) {\n    const overrideConsoleMethods = [\n      'error',\n      'group',\n      'groupCollapsed',\n      'info',\n      'log',\n      'trace',\n      'warn',\n    ];\n\n    if (unpatchFn !== null) {\n      // Don't patch twice.\n      return;\n    }\n\n    const originalConsoleMethods: {[string]: $FlowFixMe} = {};\n\n    unpatchFn = () => {\n      for (const method in originalConsoleMethods) {\n        try {\n          targetConsole[method] = originalConsoleMethods[method];\n        } catch (error) {}\n      }\n    };\n\n    overrideConsoleMethods.forEach(method => {\n      try {\n        const originalMethod = (originalConsoleMethods[method] = targetConsole[\n          method\n        ].__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__\n          ? targetConsole[method].__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__\n          : targetConsole[method]);\n\n        const overrideMethod = (...args: $ReadOnlyArray<any>) => {\n          if (!hideConsoleLogsInStrictMode) {\n            // Dim the text color of the double logs if we're not\n            // hiding them.\n            let color;\n            switch (method) {\n              case 'warn':\n                color =\n                  browserTheme === 'light'\n                    ? process.env.LIGHT_MODE_DIMMED_WARNING_COLOR\n                    : process.env.DARK_MODE_DIMMED_WARNING_COLOR;\n                break;\n              case 'error':\n                color =\n                  browserTheme === 'light'\n                    ? process.env.LIGHT_MODE_DIMMED_ERROR_COLOR\n                    : process.env.DARK_MODE_DIMMED_ERROR_COLOR;\n                break;\n              case 'log':\n              default:\n                color =\n                  browserTheme === 'light'\n                    ? process.env.LIGHT_MODE_DIMMED_LOG_COLOR\n                    : process.env.DARK_MODE_DIMMED_LOG_COLOR;\n                break;\n            }\n\n            if (color) {\n              originalMethod(...formatWithStyles(args, `color: ${color}`));\n            } else {\n              throw Error('Console color is not defined');\n            }\n          }\n        };\n\n        overrideMethod.__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__ =\n          originalMethod;\n        originalMethod.__REACT_DEVTOOLS_STRICT_MODE_OVERRIDE_METHOD__ =\n          overrideMethod;\n\n        targetConsole[method] = overrideMethod;\n      } catch (error) {}\n    });\n  }\n\n  // NOTE: KEEP IN SYNC with src/backend/console.js:unpatchForStrictMode\n  function unpatchConsoleForInitialRenderInStrictMode() {\n    if (unpatchFn !== null) {\n      unpatchFn();\n      unpatchFn = null;\n    }\n  }\n\n  let uidCounter = 0;\n\n  function inject(renderer: ReactRenderer): number {\n    const id = ++uidCounter;\n    renderers.set(id, renderer);\n\n    const reactBuildType = hasDetectedBadDCE\n      ? 'deadcode'\n      : detectReactBuildType(renderer);\n\n    // Patching the console enables DevTools to do a few useful things:\n    // * Append component stacks to warnings and error messages\n    // * Disabling or marking logs during a double render in Strict Mode\n    // * Disable logging during re-renders to inspect hooks (see inspectHooksOfFiber)\n    //\n    // Allow patching console early (during injection) to\n    // provide developers with components stacks even if they don't run DevTools.\n    if (target.hasOwnProperty('__REACT_DEVTOOLS_CONSOLE_FUNCTIONS__')) {\n      const {registerRendererWithConsole, patchConsoleUsingWindowValues} =\n        target.__REACT_DEVTOOLS_CONSOLE_FUNCTIONS__;\n      if (\n        typeof registerRendererWithConsole === 'function' &&\n        typeof patchConsoleUsingWindowValues === 'function'\n      ) {\n        registerRendererWithConsole(renderer);\n        patchConsoleUsingWindowValues();\n      }\n    }\n\n    // If we have just reloaded to profile, we need to inject the renderer interface before the app loads.\n    // Otherwise the renderer won't yet exist and we can skip this step.\n    const attach = target.__REACT_DEVTOOLS_ATTACH__;\n    if (typeof attach === 'function') {\n      const rendererInterface = attach(hook, id, renderer, target);\n      hook.rendererInterfaces.set(id, rendererInterface);\n    }\n\n    hook.emit('renderer', {\n      id,\n      renderer,\n      reactBuildType,\n    });\n\n    return id;\n  }\n\n  let hasDetectedBadDCE = false;\n\n  function sub(event: string, fn: Handler) {\n    hook.on(event, fn);\n    return () => hook.off(event, fn);\n  }\n\n  function on(event: string, fn: Handler) {\n    if (!listeners[event]) {\n      listeners[event] = [];\n    }\n    listeners[event].push(fn);\n  }\n\n  function off(event: string, fn: Handler) {\n    if (!listeners[event]) {\n      return;\n    }\n    const index = listeners[event].indexOf(fn);\n    if (index !== -1) {\n      listeners[event].splice(index, 1);\n    }\n    if (!listeners[event].length) {\n      delete listeners[event];\n    }\n  }\n\n  function emit(event: string, data: any) {\n    if (listeners[event]) {\n      listeners[event].map(fn => fn(data));\n    }\n  }\n\n  function getFiberRoots(rendererID: RendererID) {\n    const roots = fiberRoots;\n    if (!roots[rendererID]) {\n      roots[rendererID] = new Set();\n    }\n    return roots[rendererID];\n  }\n\n  function onCommitFiberUnmount(rendererID: RendererID, fiber: any) {\n    const rendererInterface = rendererInterfaces.get(rendererID);\n    if (rendererInterface != null) {\n      rendererInterface.handleCommitFiberUnmount(fiber);\n    }\n  }\n\n  function onCommitFiberRoot(\n    rendererID: RendererID,\n    root: any,\n    priorityLevel: void | number,\n  ) {\n    const mountedRoots = hook.getFiberRoots(rendererID);\n    const current = root.current;\n    const isKnownRoot = mountedRoots.has(root);\n    const isUnmounting =\n      current.memoizedState == null || current.memoizedState.element == null;\n\n    // Keep track of mounted roots so we can hydrate when DevTools connect.\n    if (!isKnownRoot && !isUnmounting) {\n      mountedRoots.add(root);\n    } else if (isKnownRoot && isUnmounting) {\n      mountedRoots.delete(root);\n    }\n    const rendererInterface = rendererInterfaces.get(rendererID);\n    if (rendererInterface != null) {\n      rendererInterface.handleCommitFiberRoot(root, priorityLevel);\n    }\n  }\n\n  function onPostCommitFiberRoot(rendererID: RendererID, root: any) {\n    const rendererInterface = rendererInterfaces.get(rendererID);\n    if (rendererInterface != null) {\n      rendererInterface.handlePostCommitFiberRoot(root);\n    }\n  }\n\n  function setStrictMode(rendererID: RendererID, isStrictMode: any) {\n    const rendererInterface = rendererInterfaces.get(rendererID);\n    if (rendererInterface != null) {\n      if (isStrictMode) {\n        rendererInterface.patchConsoleForStrictMode();\n      } else {\n        rendererInterface.unpatchConsoleForStrictMode();\n      }\n    } else {\n      // This should only happen during initial render in the extension before DevTools\n      // finishes its handshake with the injected renderer\n      if (isStrictMode) {\n        const hideConsoleLogsInStrictMode =\n          window.__REACT_DEVTOOLS_HIDE_CONSOLE_LOGS_IN_STRICT_MODE__ === true;\n        const browserTheme = window.__REACT_DEVTOOLS_BROWSER_THEME__;\n\n        patchConsoleForInitialRenderInStrictMode({\n          hideConsoleLogsInStrictMode,\n          browserTheme,\n        });\n      } else {\n        unpatchConsoleForInitialRenderInStrictMode();\n      }\n    }\n  }\n\n  type StackFrameString = string;\n\n  const openModuleRangesStack: Array<StackFrameString> = [];\n  const moduleRanges: Array<[StackFrameString, StackFrameString]> = [];\n\n  function getTopStackFrameString(error: Error): StackFrameString | null {\n    const frames = error.stack.split('\\n');\n    const frame = frames.length > 1 ? frames[1] : null;\n    return frame;\n  }\n\n  function getInternalModuleRanges(): Array<\n    [StackFrameString, StackFrameString],\n  > {\n    return moduleRanges;\n  }\n\n  function registerInternalModuleStart(error: Error) {\n    const startStackFrame = getTopStackFrameString(error);\n    if (startStackFrame !== null) {\n      openModuleRangesStack.push(startStackFrame);\n    }\n  }\n\n  function registerInternalModuleStop(error: Error) {\n    if (openModuleRangesStack.length > 0) {\n      const startStackFrame = openModuleRangesStack.pop();\n      const stopStackFrame = getTopStackFrameString(error);\n      if (stopStackFrame !== null) {\n        moduleRanges.push([startStackFrame, stopStackFrame]);\n      }\n    }\n  }\n\n  // TODO: More meaningful names for \"rendererInterfaces\" and \"renderers\".\n  const fiberRoots: {[RendererID]: Set<mixed>} = {};\n  const rendererInterfaces = new Map<RendererID, RendererInterface>();\n  const listeners: {[string]: Array<Handler>} = {};\n  const renderers = new Map<RendererID, ReactRenderer>();\n  const backends = new Map<string, DevToolsBackend>();\n\n  const hook: DevToolsHook = {\n    rendererInterfaces,\n    listeners,\n\n    backends,\n\n    // Fast Refresh for web relies on this.\n    renderers,\n\n    emit,\n    getFiberRoots,\n    inject,\n    on,\n    off,\n    sub,\n\n    // This is a legacy flag.\n    // React v16 checks the hook for this to ensure DevTools is new enough.\n    supportsFiber: true,\n\n    // React calls these methods.\n    checkDCE,\n    onCommitFiberUnmount,\n    onCommitFiberRoot,\n    onPostCommitFiberRoot,\n    setStrictMode,\n\n    // Schedule Profiler runtime helpers.\n    // These internal React modules to report their own boundaries\n    // which in turn enables the profiler to dim or filter internal frames.\n    getInternalModuleRanges,\n    registerInternalModuleStart,\n    registerInternalModuleStop,\n  };\n\n  if (__TEST__) {\n    hook.dangerous_setTargetConsoleForTesting =\n      dangerous_setTargetConsoleForTesting;\n  }\n\n  Object.defineProperty(\n    target,\n    '__REACT_DEVTOOLS_GLOBAL_HOOK__',\n    ({\n      // This property needs to be configurable for the test environment,\n      // else we won't be able to delete and recreate it between tests.\n      configurable: __DEV__,\n      enumerable: false,\n      get() {\n        return hook;\n      },\n    }: Object),\n  );\n\n  return hook;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {InternalInstance} from './renderer';\n\nexport function decorate(object: Object, attr: string, fn: Function): Function {\n  const old = object[attr];\n  // $FlowFixMe[missing-this-annot] webpack config needs to be updated to allow `this` type annotations\n  object[attr] = function (instance: InternalInstance) {\n    return fn.call(this, old, arguments);\n  };\n  return old;\n}\n\nexport function decorateMany(\n  source: Object,\n  fns: {[attr: string]: Function, ...},\n): Object {\n  const olds: {[string]: $FlowFixMe} = {};\n  for (const name in fns) {\n    olds[name] = decorate(source, name, fns[name]);\n  }\n  return olds;\n}\n\nexport function restoreMany(source: Object, olds: Object): void {\n  for (const name in olds) {\n    source[name] = olds[name];\n  }\n}\n\n// $FlowFixMe[missing-this-annot] webpack config needs to be updated to allow `this` type annotations\nexport function forceUpdate(instance: InternalInstance): void {\n  if (typeof instance.forceUpdate === 'function') {\n    instance.forceUpdate();\n  } else if (\n    instance.updater != null &&\n    typeof instance.updater.enqueueForceUpdate === 'function'\n  ) {\n    instance.updater.enqueueForceUpdate(this, () => {}, 'forceUpdate');\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {\n  ElementTypeClass,\n  ElementTypeFunction,\n  ElementTypeRoot,\n  ElementTypeHostComponent,\n  ElementTypeOtherOrUnknown,\n} from 'react-devtools-shared/src/frontend/types';\nimport {getUID, utfEncodeString, printOperationsArray} from '../../utils';\nimport {\n  cleanForBridge,\n  copyWithDelete,\n  copyWithRename,\n  copyWithSet,\n  serializeToString,\n} from '../utils';\nimport {\n  deletePathInObject,\n  getDisplayName,\n  getInObject,\n  renamePathInObject,\n  setInObject,\n} from 'react-devtools-shared/src/utils';\nimport {\n  __DEBUG__,\n  TREE_OPERATION_ADD,\n  TREE_OPERATION_REMOVE,\n  TREE_OPERATION_REORDER_CHILDREN,\n} from '../../constants';\nimport {decorateMany, forceUpdate, restoreMany} from './utils';\n\nimport type {\n  DevToolsHook,\n  GetFiberIDForNative,\n  InspectedElementPayload,\n  InstanceAndStyle,\n  NativeType,\n  PathFrame,\n  PathMatch,\n  RendererInterface,\n} from '../types';\nimport type {\n  ComponentFilter,\n  ElementType,\n} from 'react-devtools-shared/src/frontend/types';\nimport type {InspectedElement, SerializedElement} from '../types';\n\nexport type InternalInstance = Object;\ntype LegacyRenderer = Object;\n\nfunction getData(internalInstance: InternalInstance) {\n  let displayName = null;\n  let key = null;\n\n  // != used deliberately here to catch undefined and null\n  if (internalInstance._currentElement != null) {\n    if (internalInstance._currentElement.key) {\n      key = String(internalInstance._currentElement.key);\n    }\n\n    const elementType = internalInstance._currentElement.type;\n    if (typeof elementType === 'string') {\n      displayName = elementType;\n    } else if (typeof elementType === 'function') {\n      displayName = getDisplayName(elementType);\n    }\n  }\n\n  return {\n    displayName,\n    key,\n  };\n}\n\nfunction getElementType(internalInstance: InternalInstance): ElementType {\n  // != used deliberately here to catch undefined and null\n  if (internalInstance._currentElement != null) {\n    const elementType = internalInstance._currentElement.type;\n    if (typeof elementType === 'function') {\n      const publicInstance = internalInstance.getPublicInstance();\n      if (publicInstance !== null) {\n        return ElementTypeClass;\n      } else {\n        return ElementTypeFunction;\n      }\n    } else if (typeof elementType === 'string') {\n      return ElementTypeHostComponent;\n    }\n  }\n  return ElementTypeOtherOrUnknown;\n}\n\nfunction getChildren(internalInstance: Object): Array<any> {\n  const children = [];\n\n  // If the parent is a native node without rendered children, but with\n  // multiple string children, then the `element` that gets passed in here is\n  // a plain value -- a string or number.\n  if (typeof internalInstance !== 'object') {\n    // No children\n  } else if (\n    internalInstance._currentElement === null ||\n    internalInstance._currentElement === false\n  ) {\n    // No children\n  } else if (internalInstance._renderedComponent) {\n    const child = internalInstance._renderedComponent;\n    if (getElementType(child) !== ElementTypeOtherOrUnknown) {\n      children.push(child);\n    }\n  } else if (internalInstance._renderedChildren) {\n    const renderedChildren = internalInstance._renderedChildren;\n    for (const name in renderedChildren) {\n      const child = renderedChildren[name];\n      if (getElementType(child) !== ElementTypeOtherOrUnknown) {\n        children.push(child);\n      }\n    }\n  }\n  // Note: we skip the case where children are just strings or numbers\n  // because the new DevTools skips over host text nodes anyway.\n  return children;\n}\n\nexport function attach(\n  hook: DevToolsHook,\n  rendererID: number,\n  renderer: LegacyRenderer,\n  global: Object,\n): RendererInterface {\n  const idToInternalInstanceMap: Map<number, InternalInstance> = new Map();\n  const internalInstanceToIDMap: WeakMap<InternalInstance, number> =\n    new WeakMap();\n  const internalInstanceToRootIDMap: WeakMap<InternalInstance, number> =\n    new WeakMap();\n\n  let getInternalIDForNative: GetFiberIDForNative =\n    ((null: any): GetFiberIDForNative);\n  let findNativeNodeForInternalID: (id: number) => ?NativeType;\n  let getFiberForNative = (node: NativeType) => {\n    // Not implemented.\n    return null;\n  };\n\n  if (renderer.ComponentTree) {\n    getInternalIDForNative = (node, findNearestUnfilteredAncestor) => {\n      const internalInstance =\n        renderer.ComponentTree.getClosestInstanceFromNode(node);\n      return internalInstanceToIDMap.get(internalInstance) || null;\n    };\n    findNativeNodeForInternalID = (id: number) => {\n      const internalInstance = idToInternalInstanceMap.get(id);\n      return renderer.ComponentTree.getNodeFromInstance(internalInstance);\n    };\n    getFiberForNative = (node: NativeType) => {\n      return renderer.ComponentTree.getClosestInstanceFromNode(node);\n    };\n  } else if (renderer.Mount.getID && renderer.Mount.getNode) {\n    getInternalIDForNative = (node, findNearestUnfilteredAncestor) => {\n      // Not implemented.\n      return null;\n    };\n    findNativeNodeForInternalID = (id: number) => {\n      // Not implemented.\n      return null;\n    };\n  }\n\n  function getDisplayNameForFiberID(id: number): string | null {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    return internalInstance ? getData(internalInstance).displayName : null;\n  }\n\n  function getID(internalInstance: InternalInstance): number {\n    if (typeof internalInstance !== 'object' || internalInstance === null) {\n      throw new Error('Invalid internal instance: ' + internalInstance);\n    }\n    if (!internalInstanceToIDMap.has(internalInstance)) {\n      const id = getUID();\n      internalInstanceToIDMap.set(internalInstance, id);\n      idToInternalInstanceMap.set(id, internalInstance);\n    }\n    return ((internalInstanceToIDMap.get(internalInstance): any): number);\n  }\n\n  function areEqualArrays(a: Array<any>, b: Array<any>) {\n    if (a.length !== b.length) {\n      return false;\n    }\n    for (let i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  // This is shared mutable state that lets us keep track of where we are.\n  let parentIDStack = [];\n\n  let oldReconcilerMethods = null;\n  if (renderer.Reconciler) {\n    // React 15\n    oldReconcilerMethods = decorateMany(renderer.Reconciler, {\n      mountComponent(fn, args) {\n        const internalInstance = args[0];\n        const hostContainerInfo = args[3];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n        if (hostContainerInfo._topLevelWrapper === undefined) {\n          // SSR\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        // Push the operation.\n        const parentID =\n          parentIDStack.length > 0\n            ? parentIDStack[parentIDStack.length - 1]\n            : 0;\n        recordMount(internalInstance, id, parentID);\n        parentIDStack.push(id);\n\n        // Remember the root.\n        internalInstanceToRootIDMap.set(\n          internalInstance,\n          getID(hostContainerInfo._topLevelWrapper),\n        );\n\n        try {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          const result = fn.apply(this, args);\n          parentIDStack.pop();\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n      performUpdateIfNecessary(fn, args) {\n        const internalInstance = args[0];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        parentIDStack.push(id);\n\n        const prevChildren = getChildren(internalInstance);\n        try {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          const result = fn.apply(this, args);\n\n          const nextChildren = getChildren(internalInstance);\n          if (!areEqualArrays(prevChildren, nextChildren)) {\n            // Push the operation\n            recordReorder(internalInstance, id, nextChildren);\n          }\n\n          parentIDStack.pop();\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n      receiveComponent(fn, args) {\n        const internalInstance = args[0];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        parentIDStack.push(id);\n\n        const prevChildren = getChildren(internalInstance);\n        try {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          const result = fn.apply(this, args);\n\n          const nextChildren = getChildren(internalInstance);\n          if (!areEqualArrays(prevChildren, nextChildren)) {\n            // Push the operation\n            recordReorder(internalInstance, id, nextChildren);\n          }\n\n          parentIDStack.pop();\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n      unmountComponent(fn, args) {\n        const internalInstance = args[0];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        parentIDStack.push(id);\n        try {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          const result = fn.apply(this, args);\n          parentIDStack.pop();\n\n          // Push the operation.\n          recordUnmount(internalInstance, id);\n\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n    });\n  }\n\n  function cleanup() {\n    if (oldReconcilerMethods !== null) {\n      if (renderer.Component) {\n        restoreMany(renderer.Component.Mixin, oldReconcilerMethods);\n      } else {\n        restoreMany(renderer.Reconciler, oldReconcilerMethods);\n      }\n    }\n    oldReconcilerMethods = null;\n  }\n\n  function recordMount(\n    internalInstance: InternalInstance,\n    id: number,\n    parentID: number,\n  ) {\n    const isRoot = parentID === 0;\n\n    if (__DEBUG__) {\n      console.log(\n        '%crecordMount()',\n        'color: green; font-weight: bold;',\n        id,\n        getData(internalInstance).displayName,\n      );\n    }\n\n    if (isRoot) {\n      // TODO Is this right? For all versions?\n      const hasOwnerMetadata =\n        internalInstance._currentElement != null &&\n        internalInstance._currentElement._owner != null;\n\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(ElementTypeRoot);\n      pushOperation(0); // StrictMode compliant?\n      pushOperation(0); // Profiling flag\n      pushOperation(0); // StrictMode supported?\n      pushOperation(hasOwnerMetadata ? 1 : 0);\n    } else {\n      const type = getElementType(internalInstance);\n      const {displayName, key} = getData(internalInstance);\n\n      const ownerID =\n        internalInstance._currentElement != null &&\n        internalInstance._currentElement._owner != null\n          ? getID(internalInstance._currentElement._owner)\n          : 0;\n\n      const displayNameStringID = getStringID(displayName);\n      const keyStringID = getStringID(key);\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(type);\n      pushOperation(parentID);\n      pushOperation(ownerID);\n      pushOperation(displayNameStringID);\n      pushOperation(keyStringID);\n    }\n  }\n\n  function recordReorder(\n    internalInstance: InternalInstance,\n    id: number,\n    nextChildren: Array<InternalInstance>,\n  ) {\n    pushOperation(TREE_OPERATION_REORDER_CHILDREN);\n    pushOperation(id);\n    const nextChildIDs = nextChildren.map(getID);\n    pushOperation(nextChildIDs.length);\n    for (let i = 0; i < nextChildIDs.length; i++) {\n      pushOperation(nextChildIDs[i]);\n    }\n  }\n\n  function recordUnmount(internalInstance: InternalInstance, id: number) {\n    pendingUnmountedIDs.push(id);\n    idToInternalInstanceMap.delete(id);\n  }\n\n  function crawlAndRecordInitialMounts(\n    id: number,\n    parentID: number,\n    rootID: number,\n  ) {\n    if (__DEBUG__) {\n      console.group('crawlAndRecordInitialMounts() id:', id);\n    }\n\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      internalInstanceToRootIDMap.set(internalInstance, rootID);\n      recordMount(internalInstance, id, parentID);\n      getChildren(internalInstance).forEach(child =>\n        crawlAndRecordInitialMounts(getID(child), id, rootID),\n      );\n    }\n\n    if (__DEBUG__) {\n      console.groupEnd();\n    }\n  }\n\n  function flushInitialOperations() {\n    // Crawl roots though and register any nodes that mounted before we were injected.\n\n    const roots =\n      renderer.Mount._instancesByReactRootID ||\n      renderer.Mount._instancesByContainerID;\n\n    for (const key in roots) {\n      const internalInstance = roots[key];\n      const id = getID(internalInstance);\n      crawlAndRecordInitialMounts(id, 0, id);\n      flushPendingEvents(id);\n    }\n  }\n\n  const pendingOperations: Array<number> = [];\n  const pendingStringTable: Map<string, number> = new Map();\n  let pendingUnmountedIDs: Array<number> = [];\n  let pendingStringTableLength: number = 0;\n  let pendingUnmountedRootID: number | null = null;\n\n  function flushPendingEvents(rootID: number) {\n    if (\n      pendingOperations.length === 0 &&\n      pendingUnmountedIDs.length === 0 &&\n      pendingUnmountedRootID === null\n    ) {\n      return;\n    }\n\n    const numUnmountIDs =\n      pendingUnmountedIDs.length + (pendingUnmountedRootID === null ? 0 : 1);\n\n    const operations = new Array<number>(\n      // Identify which renderer this update is coming from.\n      2 + // [rendererID, rootFiberID]\n        // How big is the string table?\n        1 + // [stringTableLength]\n        // Then goes the actual string table.\n        pendingStringTableLength +\n        // All unmounts are batched in a single message.\n        // [TREE_OPERATION_REMOVE, removedIDLength, ...ids]\n        (numUnmountIDs > 0 ? 2 + numUnmountIDs : 0) +\n        // Mount operations\n        pendingOperations.length,\n    );\n\n    // Identify which renderer this update is coming from.\n    // This enables roots to be mapped to renderers,\n    // Which in turn enables fiber properations, states, and hooks to be inspected.\n    let i = 0;\n    operations[i++] = rendererID;\n    operations[i++] = rootID;\n\n    // Now fill in the string table.\n    // [stringTableLength, str1Length, ...str1, str2Length, ...str2, ...]\n    operations[i++] = pendingStringTableLength;\n    pendingStringTable.forEach((value, key) => {\n      operations[i++] = key.length;\n      const encodedKey = utfEncodeString(key);\n      for (let j = 0; j < encodedKey.length; j++) {\n        operations[i + j] = encodedKey[j];\n      }\n      i += key.length;\n    });\n\n    if (numUnmountIDs > 0) {\n      // All unmounts except roots are batched in a single message.\n      operations[i++] = TREE_OPERATION_REMOVE;\n      // The first number is how many unmounted IDs we're gonna send.\n      operations[i++] = numUnmountIDs;\n      // Fill in the unmounts\n      for (let j = 0; j < pendingUnmountedIDs.length; j++) {\n        operations[i++] = pendingUnmountedIDs[j];\n      }\n      // The root ID should always be unmounted last.\n      if (pendingUnmountedRootID !== null) {\n        operations[i] = pendingUnmountedRootID;\n        i++;\n      }\n    }\n\n    // Fill in the rest of the operations.\n    for (let j = 0; j < pendingOperations.length; j++) {\n      operations[i + j] = pendingOperations[j];\n    }\n    i += pendingOperations.length;\n\n    if (__DEBUG__) {\n      printOperationsArray(operations);\n    }\n\n    // If we've already connected to the frontend, just pass the operations through.\n    hook.emit('operations', operations);\n\n    pendingOperations.length = 0;\n    pendingUnmountedIDs = [];\n    pendingUnmountedRootID = null;\n    pendingStringTable.clear();\n    pendingStringTableLength = 0;\n  }\n\n  function pushOperation(op: number): void {\n    if (__DEV__) {\n      if (!Number.isInteger(op)) {\n        console.error(\n          'pushOperation() was called but the value is not an integer.',\n          op,\n        );\n      }\n    }\n    pendingOperations.push(op);\n  }\n\n  function getStringID(str: string | null): number {\n    if (str === null) {\n      return 0;\n    }\n    const existingID = pendingStringTable.get(str);\n    if (existingID !== undefined) {\n      return existingID;\n    }\n    const stringID = pendingStringTable.size + 1;\n    pendingStringTable.set(str, stringID);\n    // The string table total length needs to account\n    // both for the string length, and for the array item\n    // that contains the length itself. Hence + 1.\n    pendingStringTableLength += str.length + 1;\n    return stringID;\n  }\n\n  let currentlyInspectedElementID: number | null = null;\n  let currentlyInspectedPaths: Object = {};\n\n  // Track the intersection of currently inspected paths,\n  // so that we can send their data along if the element is re-rendered.\n  function mergeInspectedPaths(path: Array<string | number>) {\n    let current = currentlyInspectedPaths;\n    path.forEach(key => {\n      if (!current[key]) {\n        current[key] = {};\n      }\n      current = current[key];\n    });\n  }\n\n  function createIsPathAllowed(key: string) {\n    // This function helps prevent previously-inspected paths from being dehydrated in updates.\n    // This is important to avoid a bad user experience where expanded toggles collapse on update.\n    return function isPathAllowed(path: Array<string | number>): boolean {\n      let current = currentlyInspectedPaths[key];\n      if (!current) {\n        return false;\n      }\n      for (let i = 0; i < path.length; i++) {\n        current = current[path[i]];\n        if (!current) {\n          return false;\n        }\n      }\n      return true;\n    };\n  }\n\n  // Fast path props lookup for React Native style editor.\n  function getInstanceAndStyle(id: number): InstanceAndStyle {\n    let instance = null;\n    let style = null;\n\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      instance = internalInstance._instance || null;\n\n      const element = internalInstance._currentElement;\n      if (element != null && element.props != null) {\n        style = element.props.style || null;\n      }\n    }\n\n    return {\n      instance,\n      style,\n    };\n  }\n\n  function updateSelectedElement(id: number): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance == null) {\n      console.warn(`Could not find instance with id \"${id}\"`);\n      return;\n    }\n\n    switch (getElementType(internalInstance)) {\n      case ElementTypeClass:\n        global.$r = internalInstance._instance;\n        break;\n      case ElementTypeFunction:\n        const element = internalInstance._currentElement;\n        if (element == null) {\n          console.warn(`Could not find element with id \"${id}\"`);\n          return;\n        }\n\n        global.$r = {\n          props: element.props,\n          type: element.type,\n        };\n        break;\n      default:\n        global.$r = null;\n        break;\n    }\n  }\n\n  function storeAsGlobal(\n    id: number,\n    path: Array<string | number>,\n    count: number,\n  ): void {\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement !== null) {\n      const value = getInObject(inspectedElement, path);\n      const key = `$reactTemp${count}`;\n\n      window[key] = value;\n\n      console.log(key);\n      console.log(value);\n    }\n  }\n\n  function getSerializedElementValueByPath(\n    id: number,\n    path: Array<string | number>,\n  ): ?string {\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement !== null) {\n      const valueToCopy = getInObject(inspectedElement, path);\n\n      return serializeToString(valueToCopy);\n    }\n  }\n\n  function inspectElement(\n    requestID: number,\n    id: number,\n    path: Array<string | number> | null,\n    forceFullData: boolean,\n  ): InspectedElementPayload {\n    if (forceFullData || currentlyInspectedElementID !== id) {\n      currentlyInspectedElementID = id;\n      currentlyInspectedPaths = {};\n    }\n\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement === null) {\n      return {\n        id,\n        responseID: requestID,\n        type: 'not-found',\n      };\n    }\n\n    if (path !== null) {\n      mergeInspectedPaths(path);\n    }\n\n    // Any time an inspected element has an update,\n    // we should update the selected $r value as wel.\n    // Do this before dehydration (cleanForBridge).\n    updateSelectedElement(id);\n\n    inspectedElement.context = cleanForBridge(\n      inspectedElement.context,\n      createIsPathAllowed('context'),\n    );\n    inspectedElement.props = cleanForBridge(\n      inspectedElement.props,\n      createIsPathAllowed('props'),\n    );\n    inspectedElement.state = cleanForBridge(\n      inspectedElement.state,\n      createIsPathAllowed('state'),\n    );\n\n    return {\n      id,\n      responseID: requestID,\n      type: 'full-data',\n      value: inspectedElement,\n    };\n  }\n\n  function inspectElementRaw(id: number): InspectedElement | null {\n    const internalInstance = idToInternalInstanceMap.get(id);\n\n    if (internalInstance == null) {\n      return null;\n    }\n\n    const {displayName, key} = getData(internalInstance);\n    const type = getElementType(internalInstance);\n\n    let context = null;\n    let owners = null;\n    let props = null;\n    let state = null;\n\n    const element = internalInstance._currentElement;\n    if (element !== null) {\n      props = element.props;\n\n      let owner = element._owner;\n      if (owner) {\n        owners = ([]: Array<SerializedElement>);\n        while (owner != null) {\n          owners.push({\n            displayName: getData(owner).displayName || 'Unknown',\n            id: getID(owner),\n            key: element.key,\n            type: getElementType(owner),\n          });\n          if (owner._currentElement) {\n            owner = owner._currentElement._owner;\n          }\n        }\n      }\n    }\n\n    const publicInstance = internalInstance._instance;\n    if (publicInstance != null) {\n      context = publicInstance.context || null;\n      state = publicInstance.state || null;\n    }\n\n    // Not implemented\n    const errors: Array<[string, number]> = [];\n    const warnings: Array<[string, number]> = [];\n\n    return {\n      id,\n\n      // Does the current renderer support editable hooks and function props?\n      canEditHooks: false,\n      canEditFunctionProps: false,\n\n      // Does the current renderer support advanced editing interface?\n      canEditHooksAndDeletePaths: false,\n      canEditHooksAndRenamePaths: false,\n      canEditFunctionPropsDeletePaths: false,\n      canEditFunctionPropsRenamePaths: false,\n\n      // Toggle error boundary did not exist in legacy versions\n      canToggleError: false,\n      isErrored: false,\n      targetErrorBoundaryID: null,\n\n      // Suspense did not exist in legacy versions\n      canToggleSuspense: false,\n\n      // Can view component source location.\n      canViewSource: type === ElementTypeClass || type === ElementTypeFunction,\n      source: null,\n\n      // Only legacy context exists in legacy versions.\n      hasLegacyContext: true,\n\n      displayName: displayName,\n\n      type: type,\n\n      key: key != null ? key : null,\n\n      // Inspectable properties.\n      context,\n      hooks: null,\n      props,\n      state,\n      errors,\n      warnings,\n\n      // List of owners\n      owners,\n\n      rootType: null,\n      rendererPackageName: null,\n      rendererVersion: null,\n\n      plugins: {\n        stylex: null,\n      },\n    };\n  }\n\n  function logElementToConsole(id: number): void {\n    const result = inspectElementRaw(id);\n    if (result === null) {\n      console.warn(`Could not find element with id \"${id}\"`);\n      return;\n    }\n\n    const supportsGroup = typeof console.groupCollapsed === 'function';\n    if (supportsGroup) {\n      console.groupCollapsed(\n        `[Click to expand] %c<${result.displayName || 'Component'} />`,\n        // --dom-tag-name-color is the CSS variable Chrome styles HTML elements with in the console.\n        'color: var(--dom-tag-name-color); font-weight: normal;',\n      );\n    }\n    if (result.props !== null) {\n      console.log('Props:', result.props);\n    }\n    if (result.state !== null) {\n      console.log('State:', result.state);\n    }\n    if (result.context !== null) {\n      console.log('Context:', result.context);\n    }\n    const nativeNode = findNativeNodeForInternalID(id);\n    if (nativeNode !== null) {\n      console.log('Node:', nativeNode);\n    }\n    if (window.chrome || /firefox/i.test(navigator.userAgent)) {\n      console.log(\n        'Right-click any value to save it as a global variable for further inspection.',\n      );\n    }\n    if (supportsGroup) {\n      console.groupEnd();\n    }\n  }\n\n  function prepareViewAttributeSource(\n    id: number,\n    path: Array<string | number>,\n  ): void {\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement !== null) {\n      window.$attribute = getInObject(inspectedElement, path);\n    }\n  }\n\n  function prepareViewElementSource(id: number): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance == null) {\n      console.warn(`Could not find instance with id \"${id}\"`);\n      return;\n    }\n\n    const element = internalInstance._currentElement;\n    if (element == null) {\n      console.warn(`Could not find element with id \"${id}\"`);\n      return;\n    }\n\n    global.$type = element.type;\n  }\n\n  function deletePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n  ): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      const publicInstance = internalInstance._instance;\n      if (publicInstance != null) {\n        switch (type) {\n          case 'context':\n            deletePathInObject(publicInstance.context, path);\n            forceUpdate(publicInstance);\n            break;\n          case 'hooks':\n            throw new Error('Hooks not supported by this renderer');\n          case 'props':\n            const element = internalInstance._currentElement;\n            internalInstance._currentElement = {\n              ...element,\n              props: copyWithDelete(element.props, path),\n            };\n            forceUpdate(publicInstance);\n            break;\n          case 'state':\n            deletePathInObject(publicInstance.state, path);\n            forceUpdate(publicInstance);\n            break;\n        }\n      }\n    }\n  }\n\n  function renamePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    oldPath: Array<string | number>,\n    newPath: Array<string | number>,\n  ): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      const publicInstance = internalInstance._instance;\n      if (publicInstance != null) {\n        switch (type) {\n          case 'context':\n            renamePathInObject(publicInstance.context, oldPath, newPath);\n            forceUpdate(publicInstance);\n            break;\n          case 'hooks':\n            throw new Error('Hooks not supported by this renderer');\n          case 'props':\n            const element = internalInstance._currentElement;\n            internalInstance._currentElement = {\n              ...element,\n              props: copyWithRename(element.props, oldPath, newPath),\n            };\n            forceUpdate(publicInstance);\n            break;\n          case 'state':\n            renamePathInObject(publicInstance.state, oldPath, newPath);\n            forceUpdate(publicInstance);\n            break;\n        }\n      }\n    }\n  }\n\n  function overrideValueAtPath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n    value: any,\n  ): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      const publicInstance = internalInstance._instance;\n      if (publicInstance != null) {\n        switch (type) {\n          case 'context':\n            setInObject(publicInstance.context, path, value);\n            forceUpdate(publicInstance);\n            break;\n          case 'hooks':\n            throw new Error('Hooks not supported by this renderer');\n          case 'props':\n            const element = internalInstance._currentElement;\n            internalInstance._currentElement = {\n              ...element,\n              props: copyWithSet(element.props, path, value),\n            };\n            forceUpdate(publicInstance);\n            break;\n          case 'state':\n            setInObject(publicInstance.state, path, value);\n            forceUpdate(publicInstance);\n            break;\n        }\n      }\n    }\n  }\n\n  // v16+ only features\n  const getProfilingData = () => {\n    throw new Error('getProfilingData not supported by this renderer');\n  };\n  const handleCommitFiberRoot = () => {\n    throw new Error('handleCommitFiberRoot not supported by this renderer');\n  };\n  const handleCommitFiberUnmount = () => {\n    throw new Error('handleCommitFiberUnmount not supported by this renderer');\n  };\n  const handlePostCommitFiberRoot = () => {\n    throw new Error('handlePostCommitFiberRoot not supported by this renderer');\n  };\n  const overrideError = () => {\n    throw new Error('overrideError not supported by this renderer');\n  };\n  const overrideSuspense = () => {\n    throw new Error('overrideSuspense not supported by this renderer');\n  };\n  const startProfiling = () => {\n    // Do not throw, since this would break a multi-root scenario where v15 and v16 were both present.\n  };\n  const stopProfiling = () => {\n    // Do not throw, since this would break a multi-root scenario where v15 and v16 were both present.\n  };\n\n  function getBestMatchForTrackedPath(): PathMatch | null {\n    // Not implemented.\n    return null;\n  }\n\n  function getPathForElement(id: number): Array<PathFrame> | null {\n    // Not implemented.\n    return null;\n  }\n\n  function updateComponentFilters(componentFilters: Array<ComponentFilter>) {\n    // Not implemented.\n  }\n\n  function setTraceUpdatesEnabled(enabled: boolean) {\n    // Not implemented.\n  }\n\n  function setTrackedPath(path: Array<PathFrame> | null) {\n    // Not implemented.\n  }\n\n  function getOwnersList(id: number): Array<SerializedElement> | null {\n    // Not implemented.\n    return null;\n  }\n\n  function clearErrorsAndWarnings() {\n    // Not implemented\n  }\n\n  function clearErrorsForFiberID(id: number) {\n    // Not implemented\n  }\n\n  function clearWarningsForFiberID(id: number) {\n    // Not implemented\n  }\n\n  function patchConsoleForStrictMode() {}\n\n  function unpatchConsoleForStrictMode() {}\n\n  function hasFiberWithId(id: number): boolean {\n    return idToInternalInstanceMap.has(id);\n  }\n\n  return {\n    clearErrorsAndWarnings,\n    clearErrorsForFiberID,\n    clearWarningsForFiberID,\n    cleanup,\n    getSerializedElementValueByPath,\n    deletePath,\n    flushInitialOperations,\n    getBestMatchForTrackedPath,\n    getDisplayNameForFiberID,\n    getFiberForNative,\n    getFiberIDForNative: getInternalIDForNative,\n    getInstanceAndStyle,\n    findNativeNodesForFiberID: (id: number) => {\n      const nativeNode = findNativeNodeForInternalID(id);\n      return nativeNode == null ? null : [nativeNode];\n    },\n    getOwnersList,\n    getPathForElement,\n    getProfilingData,\n    handleCommitFiberRoot,\n    handleCommitFiberUnmount,\n    handlePostCommitFiberRoot,\n    hasFiberWithId,\n    inspectElement,\n    logElementToConsole,\n    overrideError,\n    overrideSuspense,\n    overrideValueAtPath,\n    renamePath,\n    patchConsoleForStrictMode,\n    prepareViewAttributeSource,\n    prepareViewElementSource,\n    renderer,\n    setTraceUpdatesEnabled,\n    setTrackedPath,\n    startProfiling,\n    stopProfiling,\n    storeAsGlobal,\n    unpatchConsoleForStrictMode,\n    updateComponentFilters,\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from './agent';\n\nimport {attach} from './renderer';\nimport {attach as attachLegacy} from './legacy/renderer';\nimport {hasAssignedBackend} from './utils';\n\nimport type {DevToolsHook, ReactRenderer, RendererInterface} from './types';\n\n// this is the backend that is compatible with all older React versions\nfunction isMatchingRender(version: string): boolean {\n  return !hasAssignedBackend(version);\n}\n\nexport type InitBackend = typeof initBackend;\n\nexport function initBackend(\n  hook: DevToolsHook,\n  agent: Agent,\n  global: Object,\n): () => void {\n  if (hook == null) {\n    // DevTools didn't get injected into this page (maybe b'c of the contentType).\n    return () => {};\n  }\n\n  const subs = [\n    hook.sub(\n      'renderer-attached',\n      ({\n        id,\n        renderer,\n        rendererInterface,\n      }: {\n        id: number,\n        renderer: ReactRenderer,\n        rendererInterface: RendererInterface,\n        ...\n      }) => {\n        agent.setRendererInterface(id, rendererInterface);\n\n        // Now that the Store and the renderer interface are connected,\n        // it's time to flush the pending operation codes to the frontend.\n        rendererInterface.flushInitialOperations();\n      },\n    ),\n\n    hook.sub('unsupported-renderer-version', (id: number) => {\n      agent.onUnsupportedRenderer(id);\n    }),\n\n    hook.sub('fastRefreshScheduled', agent.onFastRefreshScheduled),\n    hook.sub('operations', agent.onHookOperations),\n    hook.sub('traceUpdates', agent.onTraceUpdates),\n\n    // TODO Add additional subscriptions required for profiling mode\n  ];\n\n  const attachRenderer = (id: number, renderer: ReactRenderer) => {\n    // only attach if the renderer is compatible with the current version of the backend\n    if (!isMatchingRender(renderer.reconcilerVersion || renderer.version)) {\n      return;\n    }\n    let rendererInterface = hook.rendererInterfaces.get(id);\n\n    // Inject any not-yet-injected renderers (if we didn't reload-and-profile)\n    if (rendererInterface == null) {\n      if (typeof renderer.findFiberByHostInstance === 'function') {\n        // react-reconciler v16+\n        rendererInterface = attach(hook, id, renderer, global);\n      } else if (renderer.ComponentTree) {\n        // react-dom v15\n        rendererInterface = attachLegacy(hook, id, renderer, global);\n      } else {\n        // Older react-dom or other unsupported renderer version\n      }\n\n      if (rendererInterface != null) {\n        hook.rendererInterfaces.set(id, rendererInterface);\n      }\n    }\n\n    // Notify the DevTools frontend about new renderers.\n    // This includes any that were attached early (via __REACT_DEVTOOLS_ATTACH__).\n    if (rendererInterface != null) {\n      hook.emit('renderer-attached', {\n        id,\n        renderer,\n        rendererInterface,\n      });\n    } else {\n      hook.emit('unsupported-renderer-version', id);\n    }\n  };\n\n  // Connect renderers that have already injected themselves.\n  hook.renderers.forEach((renderer, id) => {\n    attachRenderer(id, renderer);\n  });\n\n  // Connect any new renderers that injected themselves.\n  subs.push(\n    hook.sub(\n      'renderer',\n      ({id, renderer}: {id: number, renderer: ReactRenderer, ...}) => {\n        attachRenderer(id, renderer);\n      },\n    ),\n  );\n\n  hook.emit('react-devtools', agent);\n  hook.reactDevtoolsAgent = agent;\n  const onAgentShutdown = () => {\n    subs.forEach(fn => fn());\n    hook.rendererInterfaces.forEach(rendererInterface => {\n      rendererInterface.cleanup();\n    });\n    hook.reactDevtoolsAgent = null;\n  };\n  agent.addListener('shutdown', onAgentShutdown);\n  subs.push(() => {\n    agent.removeListener('shutdown', onAgentShutdown);\n  });\n\n  return () => {\n    subs.forEach(fn => fn());\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {BoxStyle} from './types';\n\n/**\n * This mirrors react-native/Libraries/Inspector/resolveBoxStyle.js (but without RTL support).\n *\n * Resolve a style property into it's component parts, e.g.\n *\n * resolveBoxStyle('margin', {margin: 5, marginBottom: 10})\n * -> {top: 5, left: 5, right: 5, bottom: 10}\n */\nexport default function resolveBoxStyle(\n  prefix: string,\n  style: Object,\n): BoxStyle | null {\n  let hasParts = false;\n  const result = {\n    bottom: 0,\n    left: 0,\n    right: 0,\n    top: 0,\n  };\n\n  const styleForAll = style[prefix];\n  if (styleForAll != null) {\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const key of Object.keys(result)) {\n      result[key] = styleForAll;\n    }\n    hasParts = true;\n  }\n\n  const styleForHorizontal = style[prefix + 'Horizontal'];\n  if (styleForHorizontal != null) {\n    result.left = styleForHorizontal;\n    result.right = styleForHorizontal;\n    hasParts = true;\n  } else {\n    const styleForLeft = style[prefix + 'Left'];\n    if (styleForLeft != null) {\n      result.left = styleForLeft;\n      hasParts = true;\n    }\n\n    const styleForRight = style[prefix + 'Right'];\n    if (styleForRight != null) {\n      result.right = styleForRight;\n      hasParts = true;\n    }\n\n    const styleForEnd = style[prefix + 'End'];\n    if (styleForEnd != null) {\n      // TODO RTL support\n      result.right = styleForEnd;\n      hasParts = true;\n    }\n    const styleForStart = style[prefix + 'Start'];\n    if (styleForStart != null) {\n      // TODO RTL support\n      result.left = styleForStart;\n      hasParts = true;\n    }\n  }\n\n  const styleForVertical = style[prefix + 'Vertical'];\n  if (styleForVertical != null) {\n    result.bottom = styleForVertical;\n    result.top = styleForVertical;\n    hasParts = true;\n  } else {\n    const styleForBottom = style[prefix + 'Bottom'];\n    if (styleForBottom != null) {\n      result.bottom = styleForBottom;\n      hasParts = true;\n    }\n\n    const styleForTop = style[prefix + 'Top'];\n    if (styleForTop != null) {\n      result.top = styleForTop;\n      hasParts = true;\n    }\n  }\n\n  return hasParts ? result : null;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport resolveBoxStyle from './resolveBoxStyle';\nimport isArray from 'react-devtools-shared/src/isArray';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\nimport type {RendererID} from '../types';\nimport type {StyleAndLayout} from './types';\n\nexport type ResolveNativeStyle = (stylesheetID: any) => ?Object;\nexport type SetupNativeStyleEditor = typeof setupNativeStyleEditor;\n\nexport default function setupNativeStyleEditor(\n  bridge: BackendBridge,\n  agent: Agent,\n  resolveNativeStyle: ResolveNativeStyle,\n  validAttributes?: $ReadOnlyArray<string> | null,\n) {\n  bridge.addListener(\n    'NativeStyleEditor_measure',\n    ({id, rendererID}: {id: number, rendererID: RendererID}) => {\n      measureStyle(agent, bridge, resolveNativeStyle, id, rendererID);\n    },\n  );\n\n  bridge.addListener(\n    'NativeStyleEditor_renameAttribute',\n    ({\n      id,\n      rendererID,\n      oldName,\n      newName,\n      value,\n    }: {\n      id: number,\n      rendererID: RendererID,\n      oldName: string,\n      newName: string,\n      value: string,\n    }) => {\n      renameStyle(agent, id, rendererID, oldName, newName, value);\n      setTimeout(() =>\n        measureStyle(agent, bridge, resolveNativeStyle, id, rendererID),\n      );\n    },\n  );\n\n  bridge.addListener(\n    'NativeStyleEditor_setValue',\n    ({\n      id,\n      rendererID,\n      name,\n      value,\n    }: {\n      id: number,\n      rendererID: number,\n      name: string,\n      value: string,\n    }) => {\n      setStyle(agent, id, rendererID, name, value);\n      setTimeout(() =>\n        measureStyle(agent, bridge, resolveNativeStyle, id, rendererID),\n      );\n    },\n  );\n\n  bridge.send('isNativeStyleEditorSupported', {\n    isSupported: true,\n    validAttributes,\n  });\n}\n\nconst EMPTY_BOX_STYLE = {\n  top: 0,\n  left: 0,\n  right: 0,\n  bottom: 0,\n};\n\nconst componentIDToStyleOverrides: Map<number, Object> = new Map();\n\nfunction measureStyle(\n  agent: Agent,\n  bridge: BackendBridge,\n  resolveNativeStyle: ResolveNativeStyle,\n  id: number,\n  rendererID: RendererID,\n) {\n  const data = agent.getInstanceAndStyle({id, rendererID});\n  if (!data || !data.style) {\n    bridge.send(\n      'NativeStyleEditor_styleAndLayout',\n      ({\n        id,\n        layout: null,\n        style: null,\n      }: StyleAndLayout),\n    );\n    return;\n  }\n\n  const {instance, style} = data;\n\n  let resolvedStyle = resolveNativeStyle(style);\n\n  // If it's a host component we edited before, amend styles.\n  const styleOverrides = componentIDToStyleOverrides.get(id);\n  if (styleOverrides != null) {\n    resolvedStyle = Object.assign({}, resolvedStyle, styleOverrides);\n  }\n\n  if (!instance || typeof instance.measure !== 'function') {\n    bridge.send(\n      'NativeStyleEditor_styleAndLayout',\n      ({\n        id,\n        layout: null,\n        style: resolvedStyle || null,\n      }: StyleAndLayout),\n    );\n    return;\n  }\n\n  instance.measure((x, y, width, height, left, top) => {\n    // RN Android sometimes returns undefined here. Don't send measurements in this case.\n    // https://github.com/jhen0409/react-native-debugger/issues/84#issuecomment-304611817\n    if (typeof x !== 'number') {\n      bridge.send(\n        'NativeStyleEditor_styleAndLayout',\n        ({\n          id,\n          layout: null,\n          style: resolvedStyle || null,\n        }: StyleAndLayout),\n      );\n      return;\n    }\n    const margin =\n      (resolvedStyle != null && resolveBoxStyle('margin', resolvedStyle)) ||\n      EMPTY_BOX_STYLE;\n    const padding =\n      (resolvedStyle != null && resolveBoxStyle('padding', resolvedStyle)) ||\n      EMPTY_BOX_STYLE;\n    bridge.send(\n      'NativeStyleEditor_styleAndLayout',\n      ({\n        id,\n        layout: {\n          x,\n          y,\n          width,\n          height,\n          left,\n          top,\n          margin,\n          padding,\n        },\n        style: resolvedStyle || null,\n      }: StyleAndLayout),\n    );\n  });\n}\n\nfunction shallowClone(object: Object): Object {\n  const cloned: {[string]: $FlowFixMe} = {};\n  for (const n in object) {\n    cloned[n] = object[n];\n  }\n  return cloned;\n}\n\nfunction renameStyle(\n  agent: Agent,\n  id: number,\n  rendererID: RendererID,\n  oldName: string,\n  newName: string,\n  value: string,\n): void {\n  const data = agent.getInstanceAndStyle({id, rendererID});\n  if (!data || !data.style) {\n    return;\n  }\n\n  const {instance, style} = data;\n\n  const newStyle = newName\n    ? {[oldName]: undefined, [newName]: value}\n    : {[oldName]: undefined};\n\n  let customStyle;\n\n  // TODO It would be nice if the renderer interface abstracted this away somehow.\n  if (instance !== null && typeof instance.setNativeProps === 'function') {\n    // In the case of a host component, we need to use setNativeProps().\n    // Remember to \"correct\" resolved styles when we read them next time.\n    const styleOverrides = componentIDToStyleOverrides.get(id);\n    if (!styleOverrides) {\n      componentIDToStyleOverrides.set(id, newStyle);\n    } else {\n      Object.assign(styleOverrides, newStyle);\n    }\n    // TODO Fabric does not support setNativeProps; chat with Sebastian or Eli\n    instance.setNativeProps({style: newStyle});\n  } else if (isArray(style)) {\n    const lastIndex = style.length - 1;\n    if (typeof style[lastIndex] === 'object' && !isArray(style[lastIndex])) {\n      customStyle = shallowClone(style[lastIndex]);\n      delete customStyle[oldName];\n      if (newName) {\n        customStyle[newName] = value;\n      } else {\n        customStyle[oldName] = undefined;\n      }\n\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style', lastIndex],\n        value: customStyle,\n      });\n    } else {\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style'],\n        value: style.concat([newStyle]),\n      });\n    }\n  } else if (typeof style === 'object') {\n    customStyle = shallowClone(style);\n    delete customStyle[oldName];\n    if (newName) {\n      customStyle[newName] = value;\n    } else {\n      customStyle[oldName] = undefined;\n    }\n\n    agent.overrideValueAtPath({\n      type: 'props',\n      id,\n      rendererID,\n      path: ['style'],\n      value: customStyle,\n    });\n  } else {\n    agent.overrideValueAtPath({\n      type: 'props',\n      id,\n      rendererID,\n      path: ['style'],\n      value: [style, newStyle],\n    });\n  }\n\n  agent.emit('hideNativeHighlight');\n}\n\nfunction setStyle(\n  agent: Agent,\n  id: number,\n  rendererID: RendererID,\n  name: string,\n  value: string,\n) {\n  const data = agent.getInstanceAndStyle({id, rendererID});\n  if (!data || !data.style) {\n    return;\n  }\n\n  const {instance, style} = data;\n  const newStyle = {[name]: value};\n\n  // TODO It would be nice if the renderer interface abstracted this away somehow.\n  if (instance !== null && typeof instance.setNativeProps === 'function') {\n    // In the case of a host component, we need to use setNativeProps().\n    // Remember to \"correct\" resolved styles when we read them next time.\n    const styleOverrides = componentIDToStyleOverrides.get(id);\n    if (!styleOverrides) {\n      componentIDToStyleOverrides.set(id, newStyle);\n    } else {\n      Object.assign(styleOverrides, newStyle);\n    }\n    // TODO Fabric does not support setNativeProps; chat with Sebastian or Eli\n    instance.setNativeProps({style: newStyle});\n  } else if (isArray(style)) {\n    const lastLength = style.length - 1;\n    if (typeof style[lastLength] === 'object' && !isArray(style[lastLength])) {\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style', lastLength, name],\n        value,\n      });\n    } else {\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style'],\n        value: style.concat([newStyle]),\n      });\n    }\n  } else {\n    agent.overrideValueAtPath({\n      type: 'props',\n      id,\n      rendererID,\n      path: ['style'],\n      value: [style, newStyle],\n    });\n  }\n\n  agent.emit('hideNativeHighlight');\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {ConsolePatchSettings} from 'react-devtools-shared/src/backend/types';\nimport {writeConsolePatchSettingsToWindow} from 'react-devtools-shared/src/backend/console';\nimport {castBool, castBrowserTheme} from 'react-devtools-shared/src/utils';\n\n// Note: all keys should be optional in this type, because users can use newer\n// versions of React DevTools with older versions of React Native, and the object\n// provided by React Native may not include all of this type's fields.\nexport type DevToolsSettingsManager = {\n  getConsolePatchSettings: ?() => string,\n  setConsolePatchSettings: ?(key: string) => void,\n};\n\nexport function initializeUsingCachedSettings(\n  devToolsSettingsManager: DevToolsSettingsManager,\n) {\n  initializeConsolePatchSettings(devToolsSettingsManager);\n}\n\nfunction initializeConsolePatchSettings(\n  devToolsSettingsManager: DevToolsSettingsManager,\n) {\n  if (devToolsSettingsManager.getConsolePatchSettings == null) {\n    return;\n  }\n  const consolePatchSettingsString =\n    devToolsSettingsManager.getConsolePatchSettings();\n  if (consolePatchSettingsString == null) {\n    return;\n  }\n  const parsedConsolePatchSettings = parseConsolePatchSettings(\n    consolePatchSettingsString,\n  );\n  if (parsedConsolePatchSettings == null) {\n    return;\n  }\n  writeConsolePatchSettingsToWindow(parsedConsolePatchSettings);\n}\n\nfunction parseConsolePatchSettings(\n  consolePatchSettingsString: string,\n): ?ConsolePatchSettings {\n  const parsedValue = JSON.parse(consolePatchSettingsString ?? '{}');\n  const {\n    appendComponentStack,\n    breakOnConsoleErrors,\n    showInlineWarningsAndErrors,\n    hideConsoleLogsInStrictMode,\n    browserTheme,\n  } = parsedValue;\n  return {\n    appendComponentStack: castBool(appendComponentStack) ?? true,\n    breakOnConsoleErrors: castBool(breakOnConsoleErrors) ?? false,\n    showInlineWarningsAndErrors: castBool(showInlineWarningsAndErrors) ?? true,\n    hideConsoleLogsInStrictMode: castBool(hideConsoleLogsInStrictMode) ?? false,\n    browserTheme: castBrowserTheme(browserTheme) ?? 'dark',\n  };\n}\n\nexport function cacheConsolePatchSettings(\n  devToolsSettingsManager: DevToolsSettingsManager,\n  value: ConsolePatchSettings,\n): void {\n  if (devToolsSettingsManager.setConsolePatchSettings == null) {\n    return;\n  }\n  devToolsSettingsManager.setConsolePatchSettings(JSON.stringify(value));\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport Bridge from 'react-devtools-shared/src/bridge';\nimport {installHook} from 'react-devtools-shared/src/hook';\nimport {initBackend} from 'react-devtools-shared/src/backend';\nimport {installConsoleFunctionsToWindow} from 'react-devtools-shared/src/backend/console';\nimport {__DEBUG__} from 'react-devtools-shared/src/constants';\nimport setupNativeStyleEditor from 'react-devtools-shared/src/backend/NativeStyleEditor/setupNativeStyleEditor';\nimport {getDefaultComponentFilters} from 'react-devtools-shared/src/utils';\nimport {\n  initializeUsingCachedSettings,\n  cacheConsolePatchSettings,\n  type DevToolsSettingsManager,\n} from './cachedSettings';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\nimport type {\n  ComponentFilter,\n  Wall,\n} from 'react-devtools-shared/src/frontend/types';\nimport type {DevToolsHook} from 'react-devtools-shared/src/backend/types';\nimport type {ResolveNativeStyle} from 'react-devtools-shared/src/backend/NativeStyleEditor/setupNativeStyleEditor';\n\ntype ConnectOptions = {\n  host?: string,\n  nativeStyleEditorValidAttributes?: $ReadOnlyArray<string>,\n  port?: number,\n  useHttps?: boolean,\n  resolveRNStyle?: ResolveNativeStyle,\n  retryConnectionDelay?: number,\n  isAppActive?: () => boolean,\n  websocket?: ?WebSocket,\n  devToolsSettingsManager: ?DevToolsSettingsManager,\n};\n\n// Install a global variable to allow patching console early (during injection).\n// This provides React Native developers with components stacks even if they don't run DevTools.\ninstallConsoleFunctionsToWindow();\ninstallHook(window);\n\nconst hook: ?DevToolsHook = window.__REACT_DEVTOOLS_GLOBAL_HOOK__;\n\nlet savedComponentFilters: Array<ComponentFilter> =\n  getDefaultComponentFilters();\n\nfunction debug(methodName: string, ...args: Array<mixed>) {\n  if (__DEBUG__) {\n    console.log(\n      `%c[core/backend] %c${methodName}`,\n      'color: teal; font-weight: bold;',\n      'font-weight: bold;',\n      ...args,\n    );\n  }\n}\n\nexport function connectToDevTools(options: ?ConnectOptions) {\n  if (hook == null) {\n    // DevTools didn't get injected into this page (maybe b'c of the contentType).\n    return;\n  }\n  const {\n    host = 'localhost',\n    nativeStyleEditorValidAttributes,\n    useHttps = false,\n    port = 8097,\n    websocket,\n    resolveRNStyle = (null: $FlowFixMe),\n    retryConnectionDelay = 2000,\n    isAppActive = () => true,\n    devToolsSettingsManager,\n  } = options || {};\n\n  const protocol = useHttps ? 'wss' : 'ws';\n  let retryTimeoutID: TimeoutID | null = null;\n\n  function scheduleRetry() {\n    if (retryTimeoutID === null) {\n      // Two seconds because RN had issues with quick retries.\n      retryTimeoutID = setTimeout(\n        () => connectToDevTools(options),\n        retryConnectionDelay,\n      );\n    }\n  }\n\n  if (devToolsSettingsManager != null) {\n    try {\n      initializeUsingCachedSettings(devToolsSettingsManager);\n    } catch (e) {\n      // If we call a method on devToolsSettingsManager that throws, or if\n      // is invalid data read out, don't throw and don't interrupt initialization\n      console.error(e);\n    }\n  }\n\n  if (!isAppActive()) {\n    // If the app is in background, maybe retry later.\n    // Don't actually attempt to connect until we're in foreground.\n    scheduleRetry();\n    return;\n  }\n\n  let bridge: BackendBridge | null = null;\n\n  const messageListeners = [];\n  const uri = protocol + '://' + host + ':' + port;\n\n  // If existing websocket is passed, use it.\n  // This is necessary to support our custom integrations.\n  // See D6251744.\n  const ws = websocket ? websocket : new window.WebSocket(uri);\n  ws.onclose = handleClose;\n  ws.onerror = handleFailed;\n  ws.onmessage = handleMessage;\n  ws.onopen = function () {\n    bridge = new Bridge({\n      listen(fn) {\n        messageListeners.push(fn);\n        return () => {\n          const index = messageListeners.indexOf(fn);\n          if (index >= 0) {\n            messageListeners.splice(index, 1);\n          }\n        };\n      },\n      send(event: string, payload: any, transferable?: Array<any>) {\n        if (ws.readyState === ws.OPEN) {\n          if (__DEBUG__) {\n            debug('wall.send()', event, payload);\n          }\n\n          ws.send(JSON.stringify({event, payload}));\n        } else {\n          if (__DEBUG__) {\n            debug(\n              'wall.send()',\n              'Shutting down bridge because of closed WebSocket connection',\n            );\n          }\n\n          if (bridge !== null) {\n            bridge.shutdown();\n          }\n\n          scheduleRetry();\n        }\n      },\n    });\n    bridge.addListener(\n      'updateComponentFilters',\n      (componentFilters: Array<ComponentFilter>) => {\n        // Save filter changes in memory, in case DevTools is reloaded.\n        // In that case, the renderer will already be using the updated values.\n        // We'll lose these in between backend reloads but that can't be helped.\n        savedComponentFilters = componentFilters;\n      },\n    );\n\n    if (devToolsSettingsManager != null && bridge != null) {\n      bridge.addListener('updateConsolePatchSettings', consolePatchSettings =>\n        cacheConsolePatchSettings(\n          devToolsSettingsManager,\n          consolePatchSettings,\n        ),\n      );\n    }\n\n    // The renderer interface doesn't read saved component filters directly,\n    // because they are generally stored in localStorage within the context of the extension.\n    // Because of this it relies on the extension to pass filters.\n    // In the case of the standalone DevTools being used with a website,\n    // saved filters are injected along with the backend script tag so we shouldn't override them here.\n    // This injection strategy doesn't work for React Native though.\n    // Ideally the backend would save the filters itself, but RN doesn't provide a sync storage solution.\n    // So for now we just fall back to using the default filters...\n    if (window.__REACT_DEVTOOLS_COMPONENT_FILTERS__ == null) {\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      bridge.send('overrideComponentFilters', savedComponentFilters);\n    }\n\n    // TODO (npm-packages) Warn if \"isBackendStorageAPISupported\"\n    // $FlowFixMe[incompatible-call] found when upgrading Flow\n    const agent = new Agent(bridge);\n    agent.addListener('shutdown', () => {\n      // If we received 'shutdown' from `agent`, we assume the `bridge` is already shutting down,\n      // and that caused the 'shutdown' event on the `agent`, so we don't need to call `bridge.shutdown()` here.\n      hook.emit('shutdown');\n    });\n\n    initBackend(hook, agent, window);\n\n    // Setup React Native style editor if the environment supports it.\n    if (resolveRNStyle != null || hook.resolveRNStyle != null) {\n      setupNativeStyleEditor(\n        // $FlowFixMe[incompatible-call] found when upgrading Flow\n        bridge,\n        agent,\n        ((resolveRNStyle || hook.resolveRNStyle: any): ResolveNativeStyle),\n        nativeStyleEditorValidAttributes ||\n          hook.nativeStyleEditorValidAttributes ||\n          null,\n      );\n    } else {\n      // Otherwise listen to detect if the environment later supports it.\n      // For example, Flipper does not eagerly inject these values.\n      // Instead it relies on the React Native Inspector to lazily inject them.\n      let lazyResolveRNStyle;\n      let lazyNativeStyleEditorValidAttributes;\n\n      const initAfterTick = () => {\n        if (bridge !== null) {\n          setupNativeStyleEditor(\n            bridge,\n            agent,\n            lazyResolveRNStyle,\n            lazyNativeStyleEditorValidAttributes,\n          );\n        }\n      };\n\n      if (!hook.hasOwnProperty('resolveRNStyle')) {\n        Object.defineProperty(\n          hook,\n          'resolveRNStyle',\n          ({\n            enumerable: false,\n            get() {\n              return lazyResolveRNStyle;\n            },\n            set(value: $FlowFixMe) {\n              lazyResolveRNStyle = value;\n              initAfterTick();\n            },\n          }: Object),\n        );\n      }\n      if (!hook.hasOwnProperty('nativeStyleEditorValidAttributes')) {\n        Object.defineProperty(\n          hook,\n          'nativeStyleEditorValidAttributes',\n          ({\n            enumerable: false,\n            get() {\n              return lazyNativeStyleEditorValidAttributes;\n            },\n            set(value: $FlowFixMe) {\n              lazyNativeStyleEditorValidAttributes = value;\n              initAfterTick();\n            },\n          }: Object),\n        );\n      }\n    }\n  };\n\n  function handleClose() {\n    if (__DEBUG__) {\n      debug('WebSocket.onclose');\n    }\n\n    if (bridge !== null) {\n      bridge.emit('shutdown');\n    }\n\n    scheduleRetry();\n  }\n\n  function handleFailed() {\n    if (__DEBUG__) {\n      debug('WebSocket.onerror');\n    }\n\n    scheduleRetry();\n  }\n\n  function handleMessage(event: MessageEvent) {\n    let data;\n    try {\n      if (typeof event.data === 'string') {\n        data = JSON.parse(event.data);\n        if (__DEBUG__) {\n          debug('WebSocket.onmessage', data);\n        }\n      } else {\n        throw Error();\n      }\n    } catch (e) {\n      console.error(\n        '[React DevTools] Failed to parse JSON: ' + (event.data: any),\n      );\n      return;\n    }\n    messageListeners.forEach(fn => {\n      try {\n        fn(data);\n      } catch (error) {\n        // jsc doesn't play so well with tracebacks that go into eval'd code,\n        // so the stack trace here will stop at the `eval()` call. Getting the\n        // message that caused the error is the best we can do for now.\n        console.log('[React DevTools] Error calling listener', data);\n        console.log('error:', error);\n        throw error;\n      }\n    });\n  }\n}\n\ntype ConnectWithCustomMessagingOptions = {\n  onSubscribe: (cb: Function) => void,\n  onUnsubscribe: (cb: Function) => void,\n  onMessage: (event: string, payload: any) => void,\n  settingsManager: ?DevToolsSettingsManager,\n  nativeStyleEditorValidAttributes?: $ReadOnlyArray<string>,\n  resolveRNStyle?: ResolveNativeStyle,\n};\n\nexport function connectWithCustomMessagingProtocol({\n  onSubscribe,\n  onUnsubscribe,\n  onMessage,\n  settingsManager,\n  nativeStyleEditorValidAttributes,\n  resolveRNStyle,\n}: ConnectWithCustomMessagingOptions): Function {\n  if (hook == null) {\n    // DevTools didn't get injected into this page (maybe b'c of the contentType).\n    return;\n  }\n\n  if (settingsManager != null) {\n    try {\n      initializeUsingCachedSettings(settingsManager);\n    } catch (e) {\n      // If we call a method on devToolsSettingsManager that throws, or if\n      // is invalid data read out, don't throw and don't interrupt initialization\n      console.error(e);\n    }\n  }\n\n  const wall: Wall = {\n    listen(fn: Function) {\n      onSubscribe(fn);\n\n      return () => {\n        onUnsubscribe(fn);\n      };\n    },\n    send(event: string, payload: any) {\n      onMessage(event, payload);\n    },\n  };\n\n  const bridge: BackendBridge = new Bridge(wall);\n\n  bridge.addListener(\n    'updateComponentFilters',\n    (componentFilters: Array<ComponentFilter>) => {\n      // Save filter changes in memory, in case DevTools is reloaded.\n      // In that case, the renderer will already be using the updated values.\n      // We'll lose these in between backend reloads but that can't be helped.\n      savedComponentFilters = componentFilters;\n    },\n  );\n\n  if (settingsManager != null) {\n    bridge.addListener('updateConsolePatchSettings', consolePatchSettings =>\n      cacheConsolePatchSettings(settingsManager, consolePatchSettings),\n    );\n  }\n\n  if (window.__REACT_DEVTOOLS_COMPONENT_FILTERS__ == null) {\n    bridge.send('overrideComponentFilters', savedComponentFilters);\n  }\n\n  const agent = new Agent(bridge);\n  agent.addListener('shutdown', () => {\n    // If we received 'shutdown' from `agent`, we assume the `bridge` is already shutting down,\n    // and that caused the 'shutdown' event on the `agent`, so we don't need to call `bridge.shutdown()` here.\n    hook.emit('shutdown');\n  });\n\n  const unsubscribeBackend = initBackend(hook, agent, window);\n\n  const nativeStyleResolver: ResolveNativeStyle | void =\n    resolveRNStyle || hook.resolveRNStyle;\n\n  if (nativeStyleResolver != null) {\n    const validAttributes =\n      nativeStyleEditorValidAttributes ||\n      hook.nativeStyleEditorValidAttributes ||\n      null;\n\n    setupNativeStyleEditor(bridge, agent, nativeStyleResolver, validAttributes);\n  }\n\n  return unsubscribeBackend;\n}\n"],"names":["g","require","l","n","Object","assign","u","__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","v","Symbol","for","w","x","prototype","hasOwnProperty","z","A","B","a","Map","C","useContext","_currentValue","useState","useReducer","d","useRef","useCacheRefresh","useLayoutEffect","useInsertionEffect","useEffect","useImperativeHandle","useDebugValue","useCallback","useTransition","useSyncExternalStore","useDeferredValue","useMemo","useMemoCache","useOptimistic","useFormState","useActionState","use","$$typeof","then","status","value","useId","b","c","length","e","set","primitive","parse","stackError","D","E","F","G","next","H","Error","call","memoizedValue","context","I","push","displayName","debugInfo","_debugInfo","dispatcherHookName","reason","String","readContext","memoizedState","current","updateQueue","memoCache","data","index","Array","h","J","get","name","K","Proxy","L","M","source","r","N","lastIndexOf","slice","O","y","t","p","m","f","k","q","functionName","pop","id","isStateEditable","subHooks","hookSource","lineNumber","columnNumber","fileName","P","splice","map","Q","cause","R","S","forEach","exports","inspectHooks","inspectHooksOfFiber","tag","dependencies","firstContext","dependencies_old","dependencies_new","contextDependencies","first","type","memoizedProps","elementType","defaultProps","_context","has","return","render","ref","process","env","NODE_ENV","module","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_CONSUMER_TYPE","REACT_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_OFFSCREEN_TYPE","REACT_CLIENT_REFERENCE","isValidElementType","getModuleId","undefined","typeOf","object","$$typeofType","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isMemo","isPortal","isProfiler","isStrictMode","isSuspense","isSuspenseList","ContextConsumer","ContextProvider","Element","ForwardRef","Fragment","Lazy","Memo","Portal","Profiler","StrictMode","Suspense","SuspenseList","ReactVersion","REACT_DEBUG_TRACING_MODE_TYPE","REACT_POSTPONE_TYPE","MAYBE_ITERATOR_SYMBOL","iterator","FAUX_ITERATOR_SYMBOL","getIteratorFn","maybeIterator","maybeIterable","ReactNoopUpdateQueue","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","emptyObject","Component","props","updater","Component.prototype.setState","Component.prototype.forceUpdate","ComponentDummy","PureComponent","pureComponentPrototype","constructor","isPureReactComponent","createRef","refObject","isArrayImpl","isArray","ReactSharedInternals","T","key","ReactElement","refProp","element","createElement","config","childrenLength","arguments","children","childArray","i","owner","cloneAndReplaceKey","oldElement","cloneElement","clonedElement","isValidElement","SEPARATOR","SUBSEPARATOR","escape","escapeRegex","escaperLookup","replace","userProvidedKeyEscapeRegex","getElementKey","toString","noop$1","resolveThenable","thenable","mapIntoArray","invokeCallback","_payload","init","_init","mappedChild","callback","childKey","nameSoFar","escapedChildKey","escapedPrefix","child","subtreeCount","nextNamePrefix","nextName","iteratorFn","ii","step","done","childrenString","keys","mapChildren","result","count","func","countChildren","forEachChildren","forEachFunc","apply","toArray","onlyChild","createContext","_currentValue2","_threadCount","Provider","Consumer","Uninitialized","Pending","Resolved","Rejected","lazyInitializer","payload","_status","ctor","_result","default","lazy","lazyType","forwardRef","memo","compare","UNTERMINATED","TERMINATED","ERRORED","createCacheRoot","createCacheNode","s","o","cache$1","dispatcher","fn","fnMap","getCacheForType","fnNode","cacheNode","arg","objectCache","objectNode","primitiveCache","primitiveNode","terminatedNode","erroredNode","error","postpone","postponeInstance","resourceType","useEffectEvent","reportGlobalError","window","ErrorEvent","message","event","bubbles","cancelable","dispatchEvent","emit","console","startTransition","prevTransition","callbacks","Set","transition","_callbacks","currentTransition","returnValue","scope","noop","act","Children","only","experimental_useOptimistic","cache","experimental_useEffectEvent","unstable_Activity","unstable_DebugTracingMode","unstable_SuspenseList","unstable_getCacheForType","unstable_postpone","unstable_useCacheRefresh","unstable_useMemoCache","version","root","factory","define","amd","ErrorStackParser","StackFrame","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","ErrorStackParser$$parse","stacktrace","parseOpera","stack","match","parseV8OrIE","parseFFOrSafari","extractLocation","ErrorStackParser$$extractLocation","urlLike","indexOf","regExp","parts","exec","ErrorStackParser$$parseV8OrIE","filtered","split","filter","line","sanitizedLine","location","tokens","locationParts","join","ErrorStackParser$$parseFFOrSafari","functionNameRegex","matches","ErrorStackParser$$parseOpera","parseOpera9","parseOpera10","parseOpera11","ErrorStackParser$$parseOpera9","lineRE","lines","len","ErrorStackParser$$parseOpera10","ErrorStackParser$$parseOpera11","functionCall","shift","argsRaw","args","FUNC_ERROR_TEXT","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeGlobal","global","freeSelf","self","Function","objectProto","objectToString","nativeMax","Math","max","nativeMin","min","now","Date","debounce","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","toNumber","isObject","invokeFunc","time","thisArg","leadingEdge","setTimeout","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","shouldInvoke","trailingEdge","cancel","clearTimeout","flush","debounced","isInvoking","throttle","isObjectLike","isSymbol","other","valueOf","isBinary","test","Yallist","MAX","LENGTH","LENGTH_CALCULATOR","ALLOW_STALE","MAX_AGE","DISPOSE","NO_DISPOSE_ON_SET","LRU_LIST","CACHE","UPDATE_AGE_ON_GET","naiveLength","LRUCache","Infinity","lc","stale","maxAge","dispose","noDisposeOnSet","updateAgeOnGet","reset","thisp","walker","tail","prev","forEachStep","head","hit","isStale","del","node","item","trim","Entry","unshift","arr","expiresAt","mL","allowStale","mA","lC","doUse","unshiftNode","diff","delete","removeNode","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","run","nextTick","Item","array","title","browser","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","_isNumber","isNaN","parseFloat","isFinite","_capitalize","str","charAt","toUpperCase","substring","_getter","booleanProps","numericProps","stringProps","arrayProps","obj","getArgs","setArgs","getEvalOrigin","evalOrigin","setEvalOrigin","getFileName","getLineNumber","getColumnNumber","getFunctionName","getIsEval","fromString","StackFrame$$fromString","argsStartIndex","argsEndIndex","locationString","Boolean","j","Number","Node","create","list","pushNode","res","forEachReverse","getReverse","mapReverse","reduce","initial","acc","reduceReverse","toArrayReverse","from","to","ret","sliceReverse","start","deleteCount","insert","reverse","inserted","er","EventEmitter","listener","listenersMap","didThrow","caughtError","clonedListeners","clear","CHROME_WEBSTORE_EXTENSION_ID","INTERNAL_EXTENSION_ID","LOCAL_EXTENSION_ID","__DEBUG__","__PERFORMANCE_PROFILE__","TREE_OPERATION_ADD","TREE_OPERATION_REMOVE","TREE_OPERATION_REORDER_CHILDREN","TREE_OPERATION_UPDATE_TREE_BASE_DURATION","TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS","TREE_OPERATION_REMOVE_ROOT","TREE_OPERATION_SET_SUBTREE_MODE","PROFILING_FLAG_BASIC_SUPPORT","PROFILING_FLAG_TIMELINE_SUPPORT","LOCAL_STORAGE_DEFAULT_TAB_KEY","LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY","SESSION_STORAGE_LAST_SELECTION_KEY","LOCAL_STORAGE_OPEN_IN_EDITOR_URL","LOCAL_STORAGE_OPEN_IN_EDITOR_URL_PRESET","LOCAL_STORAGE_PARSE_HOOK_NAMES_KEY","SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY","SESSION_STORAGE_RELOAD_AND_PROFILE_KEY","LOCAL_STORAGE_SHOULD_BREAK_ON_CONSOLE_ERRORS","LOCAL_STORAGE_BROWSER_THEME","LOCAL_STORAGE_SHOULD_APPEND_COMPONENT_STACK_KEY","LOCAL_STORAGE_SHOW_INLINE_WARNINGS_AND_ERRORS_KEY","LOCAL_STORAGE_TRACE_UPDATES_ENABLED_KEY","LOCAL_STORAGE_HIDE_CONSOLE_LOGS_IN_STRICT_MODE","LOCAL_STORAGE_SUPPORTS_PROFILING_KEY","PROFILER_EXPORT_VERSION","localStorageGetItem","localStorage","getItem","localStorageRemoveItem","removeItem","localStorageSetItem","setItem","sessionStorageGetItem","sessionStorage","sessionStorageRemoveItem","sessionStorageSetItem","simpleIsEqual","resultFn","isEqual","lastResult","calledOnce","isNewArgEqualToLast","newArg","_len","newArgs","_key","every","REACT_PROVIDER_TYPE","REACT_SCOPE_TYPE","REACT_LEGACY_HIDDEN_TYPE","REACT_TRACING_MARKER_TYPE","REACT_MEMO_CACHE_SENTINEL","ElementTypeClass","ElementTypeContext","ElementTypeFunction","ElementTypeForwardRef","ElementTypeHostComponent","ElementTypeMemo","ElementTypeOtherOrUnknown","ElementTypeProfiler","ElementTypeRoot","ElementTypeSuspense","ElementTypeSuspenseList","ElementTypeTracingMarker","ComponentFilterElementType","ComponentFilterDisplayName","ComponentFilterLocation","ComponentFilterHOC","LRU","TracingMarker","meta","cachedDisplayNames","WeakMap","encodedStringCache","alphaSortKeys","getAllEnumerableKeys","currentKeys","getOwnPropertySymbols","descriptors","getOwnPropertyDescriptors","enumerable","add","getPrototypeOf","getWrappedDisplayName","outerType","innerType","wrapperName","fallbackName","getDisplayName","nameFromCache","uidCounter","getUID","utfDecodeStringWithRanges","left","right","string","fromCodePoint","surrogatePairToCodePoint","charCode1","charCode2","utfEncodeString","cached","encoded","charCode","charCodeAt","printOperationsArray","operations","rendererID","rootID","logs","stringTable","stringTableSize","stringTableEnd","nextLength","nextString","operation","parentID","displayNameStringID","removeLength","removeIndex","mode","numChildren","numErrors","numWarnings","log","getDefaultComponentFilters","isEnabled","getSavedComponentFilters","raw","parsedFilters","JSON","filterOutLocationComponentFilters","setSavedComponentFilters","componentFilters","stringify","parseBool","castBool","castBrowserTheme","getAppendComponentStack","getBreakOnConsoleErrors","getHideConsoleLogsInStrictMode","getShowInlineWarningsAndErrors","getDefaultOpenInEditorURL","EDITOR_URL","getOpenInEditorURL","parseElementDisplayNameFromBackend","formattedDisplayName","hocDisplayNames","compiledWithForget","startsWith","displayNameWithoutForgetWrapper","shallowDiffers","attribute","getInObject","path","reduced","attr","deletePathInObject","last","parent","renamePathInObject","oldPath","newPath","lastOld","lastNew","setInObject","getDataType","HTMLElement","ArrayBuffer","isView","toStringValue","isPlainObject","getDisplayNameForReactElement","MAX_PREVIEW_STRING_LENGTH","truncateForDisplay","formatDataForPreview","showFormattedValue","preview_long","preview_short","tagName","toLowerCase","byteLength","buffer","formatted","size","shortName","entryOrEntries","toStringTag","sort","objectPrototype","objectParentPrototype","backendToFrontendSerializedElementMapper","normalizeUrl","url","inspectable","inspected","readonly","unserializable","LEVEL_THRESHOLD","createDehydrated","cleaned","dehydrated","dehydrate","isPathAllowed","level","isPathAllowedCheck","unserializableValue","keyAsString","fillInPath","target","unserializablePath","isMatch","upgradeUnserializable","hydrate","NaN","replaced","replacement","destination","defineProperties","configurable","compareVersions","FIRST_DEVTOOLS_BACKEND_LOCKSTEP_VER","hasAssignedBackend","gte","cleanForBridge","cleanedPaths","unserializablePaths","cleanedData","copyWithDelete","updated","copyWithRename","oldKey","newKey","copyWithSet","getEffectDurations","effectDuration","passiveEffectDuration","hostRoot","stateNode","serializeToString","formatWithStyles","inputArgs","style","REGEXP","firstArg","formatStr","elem","formatting","isInteger","format","maybeMessage","escaped","ptn","flag","isSynchronousXHRSupported","document","featurePolicy","allowsFeature","gt","isReactNativeEnvironment","withoutParentheses","sourceURL","column","CHROME_STACK_REGEXP","parseSourceFromChromeStack","frames","frame","sanitizedFrame","locationInParenthesesMatch","possibleLocation","parseSourceFromFirefoxStack","frameWithoutFunctionName","parseSourceFromComponentStack","componentStack","getOwnerWindow","ownerDocument","defaultView","getOwnerIframe","nodeWindow","frameElement","getBoundingClientRectWithBorderOffset","dimensions","getElementDimensions","mergeRectOffsets","getBoundingClientRect","top","borderTop","borderLeft","bottom","borderBottom","borderRight","width","height","rects","previousRect","rect","getNestedBoundingClientRect","boundaryWindow","ownerIframe","currentIframe","onlyOneMore","domElement","calculatedStyle","getComputedStyle","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","marginLeft","marginRight","marginTop","marginBottom","paddingLeft","paddingRight","paddingTop","paddingBottom","OverlayRect","doc","container","border","padding","content","borderColor","overlayStyles","backgroundColor","background","margin","pointerEvents","position","zIndex","appendChild","parentNode","removeChild","box","dims","boxWrap","OverlayTip","tip","display","flexFlow","borderRadius","fontFamily","fontWeight","fontSize","whiteSpace","nameSpan","color","dimSpan","textContent","round","bounds","tipRect","tipPos","findTipPos","Overlay","agent","currentWindow","__REACT_DEVTOOLS_TARGET_WINDOW__","tipBoundsWindow","body","remove","nodes","elements","nodeType","ELEMENT_NODE","outerBox","POSITIVE_INFINITY","NEGATIVE_INFINITY","update","nodeName","rendererInterface","getBestMatchingRendererInterface","getFiberIDForNative","ownerName","getDisplayNameForFiberID","updateText","tipBounds","documentElement","updatePosition","scrollY","scrollX","innerHeight","innerWidth","tipSize","tipHeight","tipWidth","what","borderStyle","SHOW_DURATION","timeoutID","overlay","hideOverlayNative","hideOverlayWeb","hideOverlay","showOverlayNative","showOverlayWeb","componentName","hideAfterTimeout","inspect","showOverlay","memoize","Agent","iframesListeningTo","setupHighlighter","bridge","clearNativeElementHighlight","highlightNativeElement","stopInspectingNative","startInspectingNative","registerListenersOnWindow","addEventListener","onClick","onMouseEvent","onPointerDown","onPointerMove","onPointerUp","removeListenersOnWindow","contentWindow","removeEventListener","openNativeElementsPanel","scrollIntoView","renderer","rendererInterfaces","warn","hasFiberWithId","findNativeNodesForFiberID","block","inline","__REACT_DEVTOOLS_GLOBAL_HOOK__","$0","send","preventDefault","stopPropagation","selectFiberForNode","getEventTarget","lastHoveredNode","iframe","getIDForNode","composed","composedPath","OUTLINE_COLOR","COLORS","canvas","drawNative","nodeToData","nodesToDraw","iterateNodes","_","drawWeb","initialize","canvasFlow","getContext","clearRect","drawBorder","draw","execute","colorIndex","lineWidth","strokeStyle","strokeRect","setLineDash","destroyNative","destroyWeb","destroy","cssText","insertBefore","firstChild","destroyCanvas","DISPLAY_DURATION","MAX_DISPLAY_DURATION","REMEASUREMENT_AFTER_DURATION","getCurrentTime","performance","drawAnimationFrameID","redrawTimeoutID","injectedAgent","traceUpdates","toggleEnabled","cancelAnimationFrame","lastMeasuredAt","measureNode","expirationTime","requestAnimationFrame","prepareToDraw","earliestExpiration","MAX_VALUE","CONCURRENT_MODE_NUMBER","CONCURRENT_MODE_SYMBOL_STRING","CONTEXT_NUMBER","CONTEXT_SYMBOL_STRING","SERVER_CONTEXT_SYMBOL_STRING","DEPRECATED_ASYNC_MODE_SYMBOL_STRING","ELEMENT_NUMBER","ELEMENT_SYMBOL_STRING","DEBUG_TRACING_MODE_NUMBER","DEBUG_TRACING_MODE_SYMBOL_STRING","FORWARD_REF_NUMBER","FORWARD_REF_SYMBOL_STRING","FRAGMENT_NUMBER","FRAGMENT_SYMBOL_STRING","LAZY_NUMBER","LAZY_SYMBOL_STRING","MEMO_NUMBER","MEMO_SYMBOL_STRING","PORTAL_NUMBER","PORTAL_SYMBOL_STRING","PROFILER_NUMBER","PROFILER_SYMBOL_STRING","PROVIDER_NUMBER","PROVIDER_SYMBOL_STRING","CONSUMER_SYMBOL_STRING","SCOPE_NUMBER","SCOPE_SYMBOL_STRING","STRICT_MODE_NUMBER","STRICT_MODE_SYMBOL_STRING","SUSPENSE_NUMBER","SUSPENSE_SYMBOL_STRING","SUSPENSE_LIST_NUMBER","SUSPENSE_LIST_SYMBOL_STRING","SERVER_CONTEXT_DEFAULT_VALUE_NOT_LOADED_SYMBOL_STRING","consoleManagedByDevToolsDuringStrictMode","enableLogger","enableStyleXFeatures","isInternalFacebookBuild","is","objectIs","cachedStyleNameToValueMap","getStyleXData","sources","resolvedStyles","crawlData","entry","crawlObjectProperties","fromEntries","entries","propertyValue","getPropertyValueForStyleName","nestedStyle","styleName","styleSheetIndex","styleSheets","styleSheet","rules","cssRules","_e","ruleIndex","CSSStyleRule","rule","selectorText","property","getPropertyValue","CHANGE_LOG_URL","UNSUPPORTED_VERSION_URL","REACT_DEVTOOLS_WORKPLACE_URL","THEME_STYLES","light","dark","compact","comfortable","COMFORTABLE_LINE_HEIGHT","COMPACT_LINE_HEIGHT","REACT_TOTAL_NUM_LANES","SCHEDULING_PROFILER_VERSION","SNAPSHOT_MAX_HEIGHT","disabledDepth","prevLog","prevInfo","prevWarn","prevError","prevGroup","prevGroupCollapsed","prevGroupEnd","disabledLog","__reactDisabledLog","disableLogs","info","group","groupCollapsed","groupEnd","writable","reenableLogs","prefix","describeBuiltInComponentFrame","describeDebugInfoFrame","reentry","componentFrameCache","__DEV__","PossiblyWeakMap","describeNativeComponentFrame","construct","currentDispatcherRef","previousPrepareStackTrace","prepareStackTrace","previousDispatcher","RunInRootFrame","DetermineComponentFrameRoot","control","Fake","defineProperty","Reflect","maybePromise","catch","sample","namePropDescriptor","getOwnPropertyDescriptor","sampleStack","controlStack","sampleLines","controlLines","includes","syntheticFrame","describeClassComponentFrame","describeFunctionComponentFrame","shouldConstruct","isReactComponent","describeUnknownElementTypeFrameInDEV","lazyComponent","describeFiber","workTagMap","workInProgress","HostComponent","LazyComponent","SuspenseComponent","SuspenseListComponent","FunctionComponent","IndeterminateComponent","SimpleMemoComponent","ClassComponent","getStackByFiberInDevAndProd","TIME_OFFSET","performanceTarget","supportsUserTiming","mark","clearMarks","supportsUserTimingV3","CHECK_V3_MARK","markOptions","setPerformanceMock_ONLY_FOR_TESTING","performanceMock","createProfilingHooks","getDisplayNameForFiber","getIsProfiling","getLaneLabelMap","reactVersion","currentBatchUID","currentReactComponentMeasure","currentReactMeasuresStack","currentTimelineData","currentFiberStacks","isProfiling","nextRenderShouldStartNewBatch","getRelativeTime","currentTime","startTime","getInternalModuleRanges","ranges","getTimelineData","laneToLanesArray","lanes","lanesArray","lane","laneToLabelMap","markMetadata","markAndClear","range","startStackFrame","stopStackFrame","labels","values","markName","recordReactMeasureStarted","depth","reactMeasure","batchUID","timestamp","duration","batchUIDToMeasuresMap","laneToReactMeasureMap","reactMeasures","recordReactMeasureCompleted","markCommitStarted","markCommitStopped","markComponentRenderStarted","fiber","warning","markComponentRenderStopped","componentMeasures","markComponentLayoutEffectMountStarted","markComponentLayoutEffectMountStopped","markComponentLayoutEffectUnmountStarted","markComponentLayoutEffectUnmountStopped","markComponentPassiveEffectMountStarted","markComponentPassiveEffectMountStopped","markComponentPassiveEffectUnmountStarted","markComponentPassiveEffectUnmountStopped","markComponentErrored","thrownValue","phase","alternate","thrownErrors","wakeableIDs","wakeableID","getWakeableID","wakeable","markComponentSuspended","eventType","suspenseEvent","promiseName","resolution","suspenseEvents","markLayoutEffectsStarted","markLayoutEffectsStopped","markPassiveEffectsStarted","markPassiveEffectsStopped","markRenderStarted","markRenderYielded","markRenderStopped","markRenderScheduled","schedulingEvents","markForceUpdateScheduled","getParentFibers","parents","markStateUpdateScheduled","toggleProfilingStatus","internalModuleSourceToRanges","flamechart","nativeEvents","networkMeasures","otherUserTimingMarks","snapshots","snapshotHeight","fiberStack","trace","profilingHooks","patchConsoleUsingWindowValues","registerRenderer","registerRendererWithConsole","patchForStrictMode","patchConsoleForStrictMode","unpatchForStrictMode","unpatchConsoleForStrictMode","getDispatcherRef","injectedRef","getFiberFlags","flags","effectTag","getInternalReactConstants","ReactPriorityLevels","ImmediatePriority","UserBlockingPriority","NormalPriority","LowPriority","IdlePriority","NoPriority","StrictModeBits","ReactTypeOfWork","CacheComponent","CoroutineComponent","CoroutineHandlerPhase","DehydratedSuspenseComponent","HostPortal","HostRoot","HostHoistable","HostSingleton","HostText","IncompleteClassComponent","IncompleteFunctionComponent","LegacyHiddenComponent","MemoComponent","Mode","OffscreenComponent","ScopeComponent","TracingMarkerComponent","YieldComponent","getTypeSymbol","symbolOrNumber","resolveFiberType","typeSymbol","shouldSkipForgetCheck","resolvedType","resolvedContext","fiberRoot","_debugRootType","fiberToIDMap","idToArbitraryFiberMap","fiberToComponentStackMap","attach","hook","reconcilerVersion","injectProfilingHooks","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","scheduleRefresh","setErrorHandler","setSuspenseHandler","scheduleUpdate","supportsTogglingError","supportsTogglingSuspense","response","fibersWithChangedErrorOrWarningCounts","pendingFiberToErrorsMap","pendingFiberToWarningsMap","fiberIDToErrorsMap","fiberIDToWarningsMap","clearErrorsAndWarnings","updateMostRecentlyInspectedElementIfNecessary","flushPendingEvents","clearMessageCountHelper","fiberID","pendingFiberToMessageCountMap","fiberIDToMessageCountMap","clearErrorsForFiberID","clearWarningsForFiberID","mostRecentlyInspectedElement","hasElementUpdatedSinceLastInspected","onErrorOrWarning","maybeID","getFiberIDUnsafe","forceErrorForFiberIDs","debug","fiberMap","messageMap","flushPendingErrorsAndWarningsAfterDelay","parentFiber","extraString","parentDisplayName","maybeParentID","hideElementsWithDisplayNames","hideElementsWithPaths","hideElementsWithTypes","traceUpdatesEnabled","traceUpdatesForNodes","applyComponentFilters","componentFilter","isValid","RegExp","__REACT_DEVTOOLS_COMPONENT_FILTERS__","componentFiltersWithoutLocationBasedOnes","updateComponentFilters","getFiberRoots","currentRootID","getOrGenerateFiberID","pushOperation","rootDisplayNameCounter","setRootPseudoKey","mountFiberRecursively","reevaluateErrorsAndWarnings","shouldFilterFiber","getElementTypeForFiber","displayNameRegExp","idToTreeBaseDurationMap","idToRootMap","didGenerateID","refinedID","getFiberIDThrows","untrackFiberID","untrackFibersSet","untrackFibersTimeoutID","untrackFibers","shouldErrorFiberAlwaysNull","getChangeDescription","prevFiber","nextFiber","didHooksChange","isFirstMount","state","getContextChangedKeys","getChangedKeys","indices","getChangedHooksIndices","hooks","updateContextsForFiber","idToContextsMap","contexts","getContextsForFiber","NO_CONTEXT","legacyContext","modernContext","instance","contextType","crawlToInitializeContextsMap","sibling","prevContexts","nextContexts","prevLegacyContext","prevModernContext","nextLegacyContext","nextModernContext","prevContext","nextContext","isHookThatCanScheduleUpdate","hookObject","boundHasOwnProperty","bind","getSnapshot","didStatefulHookChange","prevMemoizedState","nextMemoizedState","changedKeys","didFiberRender","PerformedWork","pendingOperations","pendingRealUnmountedIDs","pendingSimulatedUnmountedIDs","pendingOperationsQueue","pendingStringTable","pendingStringTableLength","pendingUnmountedRootID","op","shouldBailoutWithPendingOperations","currentCommitProfilingMetadata","durations","flushOrQueueOperations","flushPendingErrorsAndWarningsAfterDelayTimeoutID","clearPendingErrorsAndWarningsAfterDelay","recordPendingErrorsAndWarnings","countMap","mergeMapsAndGetCountHelper","newCount","messageCountMap","pendingMessageCountMap","refinedMessageCountMap","pendingCount","previousCount","errorCount","warningCount","numUnmountIDs","stringKey","encodedString","getStringID","existingEntry","recordMount","isRoot","hasOwnerMetadata","isProfilingSupported","profilingFlags","displayNamesByRootID","getDisplayNameForRoot","debugOwner","_debugOwner","ownerID","keyString","keyStringID","recordProfilingDurations","recordUnmount","isSimulated","trackedPathMatchFiber","setTrackedPath","unsafeID","_debugNeedsRemount","traverseSiblings","traceNearestHostComponentUpdate","mightSiblingsBeOnTrackedPath","updateTrackedPathStateBeforeMount","shouldIncludeInTree","isTimedOut","primaryChildFragment","fallbackChildFragment","fallbackChild","primaryChild","areSuspenseChildrenConditionallyWrapped","updateTrackedPathStateAfterMount","unmountFiberChildrenRecursively","isTimedOutSuspense","actualDuration","treeBaseDuration","convertedTreeBaseDuration","floor","selfDuration","metadata","maxActualDuration","recordChangeDescriptions","changeDescription","changeDescriptions","recordResetChildren","childSet","nextChildren","findReorderedChildrenRecursively","updateFiberRecursively","shouldResetChildren","prevDidTimeout","nextDidTimeOut","nextFiberChild","nextFallbackChildSet","prevFiberChild","prevFallbackChildSet","nextPrimaryChildSet","nextChild","prevChildAtSameIndex","prevChild","hostFibers","findAllCurrentHostFibers","hostFiber","nextChildSet","cleanup","rootSupportsProfiling","memoizedInteractions","flushInitialOperations","localPendingOperationsQueue","trackedPath","mightBeOnTrackedPath","commitTime","profilingStartTime","priorityLevel","updaters","getUpdatersList","memoizedUpdaters","fiberToSerializedElement","handleCommitFiberUnmount","handlePostCommitFiberRoot","handleCommitFiberRoot","formatPriorityLevel","wasMounted","isDehydrated","removeRootPseudoKey","commitProfilingMetadata","rootToCommitProfilingMetadataMap","fibers","findCurrentFiberUsingSlowPathById","err","getFiberForNative","hostInstance","findFiberByHostInstance","findNearestUnfilteredAncestor","assertIsMounted","getNearestMountedFiber","nearestMounted","nextNode","Placement","Hydrating","parentA","parentB","nextParent","didFindChild","prepareViewAttributeSource","isMostRecentlyInspectedElement","$attribute","prepareViewElementSource","$type","getOwnersList","owners","ownerFiber","getInstanceAndStyle","isErrorBoundary","getDerivedStateFromError","componentDidCatch","getNearestErrorBoundaryID","inspectElementRaw","usesHooks","showState","canViewSource","shouldHideContext","contextTypes","consumerResolvedContext","currentType","currentTypeSymbol","providerResolvedContext","hasLegacyContext","originalConsoleMethods","method","rootType","errors","warnings","isErrored","targetErrorBoundaryID","DidCapture","plugins","stylex","xstyle","getSourceForFiber","canEditHooks","canEditFunctionProps","canEditHooksAndDeletePaths","canEditHooksAndRenamePaths","canEditFunctionPropsDeletePaths","canEditFunctionPropsRenamePaths","canToggleError","canToggleSuspense","forceFallbackForSuspenseIDs","rendererPackageName","rendererVersion","currentlyInspectedPaths","isMostRecentlyInspectedElementCurrent","mergeInspectedPaths","createIsPathAllowed","secondaryCategory","updateSelectedElement","inspectedElement","$r","storeAsGlobal","getSerializedElementValueByPath","valueToCopy","inspectElement","requestID","forceFullData","responseID","errorType","cleanedInspectedElement","logElementToConsole","supportsGroup","nativeNodes","chrome","navigator","userAgent","deletePath","hookID","forceUpdate","pendingProps","renamePath","overrideValueAtPath","initialTreeBaseDurationsMap","initialIDToRootMap","getProfilingData","dataForRoots","commitData","initialTreeBaseDurations","commitProfilingData","commitIndex","fiberActualDurations","fiberSelfDurations","timelineData","rest","batchUIDToMeasuresKeyValueArray","laneToLabelKeyValueArray","laneToReactMeasureKeyValueArray","startProfiling","shouldRecordChangeDescriptions","stopProfiling","shouldErrorFiberAccordingToMap","overrideError","forceError","shouldSuspendFiberAlwaysFalse","shouldSuspendFiberAccordingToSet","overrideSuspense","forceFallback","trackedPathMatchDepth","returnFiber","returnAlternate","actualFrame","getPathFrame","expectedFrame","rootPseudoKeys","counter","pseudoKey","preferredDisplayName","fallbackDisplayName","getPathForElement","keyPath","getBestMatchForTrackedPath","isFullMatch","setTraceUpdatesEnabled","getComponentStackForFiber","dispatcherRef","OVERRIDE_CONSOLE_METHODS","DIMMED_NODE_CONSOLE_COLOR","PREFIX_REGEX","ROW_COLUMN_NUMBER_REGEX","isStringComponentStack","text","STYLE_DIRECTIVE_REGEX","isStrictModeOverride","getConsoleColor","consoleSettingsRef","browserTheme","LIGHT_MODE_DIMMED_WARNING_COLOR","DARK_MODE_DIMMED_WARNING_COLOR","LIGHT_MODE_DIMMED_ERROR_COLOR","DARK_MODE_DIMMED_ERROR_COLOR","LIGHT_MODE_DIMMED_LOG_COLOR","DARK_MODE_DIMMED_LOG_COLOR","injectedRenderers","targetConsole","targetConsoleMethods","unpatchFn","isNode","dangerous_setTargetConsoleForTesting","targetConsoleForTesting","getCurrentFiber","appendComponentStack","breakOnConsoleErrors","showInlineWarningsAndErrors","hideConsoleLogsInStrictMode","patch","originalMethod","__REACT_DEVTOOLS_ORIGINAL_METHOD__","overrideMethod","shouldAppendWarningStack","lastArg","alreadyHasComponentStack","shouldShowInlineWarningsAndErrors","__REACT_DEVTOOLS_OVERRIDE_METHOD__","unpatch","unpatchForStrictModeFn","overrideConsoleMethods","__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__","__REACT_DEVTOOLS_STRICT_MODE_OVERRIDE_METHOD__","__REACT_DEVTOOLS_APPEND_COMPONENT_STACK__","__REACT_DEVTOOLS_BREAK_ON_CONSOLE_ERRORS__","__REACT_DEVTOOLS_SHOW_INLINE_WARNINGS_AND_ERRORS__","__REACT_DEVTOOLS_HIDE_CONSOLE_LOGS_IN_STRICT_MODE__","__REACT_DEVTOOLS_BROWSER_THEME__","writeConsolePatchSettingsToWindow","settings","installConsoleFunctionsToWindow","__REACT_DEVTOOLS_CONSOLE_FUNCTIONS__","BATCH_DURATION","BRIDGE_PROTOCOL","minNpmVersion","maxNpmVersion","currentBridgeProtocol","Bridge","wall","_timeoutID","_messageQueue","_wall","_flush","wasForwarded","_wallUnlisten","listen","_isShutdown","wallUnlisten","setupTraceUpdates","patchConsole","methodName","_rendererInterfaces","_bridge","DEVTOOLS_VERSION","_isProfiling","_persistedSelectionMatch","_persistedSelection","_throttledPersistSelection","_traceUpdatesEnabled","selectNode","_recordChangeDescriptions","selected","prevMatch","nextMatch","prevMatchID","nextMatchID","persistedSelectionString","copyElementPath","getBackendVersion","getBridgeProtocol","getProfilingStatus","reloadAndProfile","syncSelectionFromNativeElementsPanel","shutdown","updateConsolePatchSettings","viewAttributeSource","viewElementSource","overrideContext","overrideState","isBackendStorageAPISupported","bestMatch","selection","installHook","detectReactBuildType","bundleType","Mount","_renderNewRootComponent","renderRootCode","checkDCE","code","hasDetectedBadDCE","patchConsoleForInitialRenderInStrictMode","unpatchConsoleForInitialRenderInStrictMode","inject","renderers","reactBuildType","__REACT_DEVTOOLS_ATTACH__","sub","roots","fiberRoots","onCommitFiberUnmount","onCommitFiberRoot","mountedRoots","isKnownRoot","isUnmounting","onPostCommitFiberRoot","setStrictMode","openModuleRangesStack","moduleRanges","getTopStackFrameString","registerInternalModuleStart","registerInternalModuleStop","backends","supportsFiber","__TEST__","decorate","old","decorateMany","fns","olds","restoreMany","getData","internalInstance","_currentElement","getElementType","publicInstance","getPublicInstance","getChildren","_renderedComponent","_renderedChildren","renderedChildren","idToInternalInstanceMap","internalInstanceToIDMap","internalInstanceToRootIDMap","getInternalIDForNative","findNativeNodeForInternalID","ComponentTree","getClosestInstanceFromNode","getNodeFromInstance","getID","getNode","areEqualArrays","parentIDStack","oldReconcilerMethods","Reconciler","mountComponent","hostContainerInfo","_topLevelWrapper","performUpdateIfNecessary","prevChildren","recordReorder","receiveComponent","unmountComponent","Mixin","_owner","nextChildIDs","pendingUnmountedIDs","crawlAndRecordInitialMounts","_instancesByReactRootID","_instancesByContainerID","encodedKey","existingID","stringID","currentlyInspectedElementID","_instance","nativeNode","enabled","attachLegacy","isMatchingRender","initBackend","subs","setRendererInterface","onUnsupportedRenderer","onFastRefreshScheduled","onHookOperations","onTraceUpdates","attachRenderer","reactDevtoolsAgent","onAgentShutdown","resolveBoxStyle","hasParts","styleForAll","styleForHorizontal","styleForLeft","styleForRight","styleForEnd","styleForStart","styleForVertical","styleForBottom","styleForTop","setupNativeStyleEditor","resolveNativeStyle","validAttributes","measureStyle","oldName","newName","renameStyle","setStyle","isSupported","EMPTY_BOX_STYLE","componentIDToStyleOverrides","layout","resolvedStyle","styleOverrides","measure","shallowClone","cloned","newStyle","customStyle","setNativeProps","lastIndex","lastLength","initializeUsingCachedSettings","devToolsSettingsManager","initializeConsolePatchSettings","getConsolePatchSettings","consolePatchSettingsString","parsedConsolePatchSettings","parseConsolePatchSettings","parsedValue","cacheConsolePatchSettings","setConsolePatchSettings","savedComponentFilters","connectToDevTools","host","nativeStyleEditorValidAttributes","useHttps","port","websocket","resolveRNStyle","retryConnectionDelay","isAppActive","protocol","retryTimeoutID","scheduleRetry","messageListeners","uri","ws","WebSocket","onclose","handleClose","onerror","handleFailed","onmessage","handleMessage","onopen","transferable","readyState","OPEN","consolePatchSettings","lazyResolveRNStyle","lazyNativeStyleEditorValidAttributes","initAfterTick","connectWithCustomMessagingProtocol","onSubscribe","onUnsubscribe","onMessage","settingsManager","unsubscribeBackend","nativeStyleResolver"],"sourceRoot":""}